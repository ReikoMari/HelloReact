"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[90017],{90017:(e,r,s)=>{s.r(r),s.d(r,{post:()=>w,serverVersionCacheMap:()=>h});var t=s(3825),o=s(50076),n=s(54994),i=s(94487),a=s(35143),c=s(42553),u=s(46053),l=(s(81806),s(76460),s(47249),s(85842));let p=class extends c.oY{constructor(e){super(e),this.moment=null,this.success=!1}};(0,a._)([(0,u.MZ)({type:Date,json:{type:Number,write:{writer:(e,r)=>{r.moment=e?e.getTime():null}}}})],p.prototype,"moment",void 0),(0,a._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"success",void 0),p=(0,a._)([(0,l.$)("esri.rest.versionManagement.gdbVersion.support.PostResult")],p);const v=p,h=new Map;async function w(e,r,s,a){var c;h.has(e)||await(0,i.t)(h,e);const u=h.get(e);if((null!==(c=null===u||void 0===u?void 0:u.serverVersion)&&void 0!==c?c:0)<=11.1)throw new o.A("post:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new o.A("post:missing-guid","guid for version is missing");const l=(0,n.Dl)(e),p=s.toJSON();s.rows&&(p.rows=JSON.stringify(s.rows));const w=(0,n.jV)(l.query,{query:(0,n.lF)({...p,f:"json"}),...a,method:"post"});r.startsWith("{")&&(r=r.slice(1,-1));const d="".concat(l.path,"/versions/").concat(r,"/post"),{data:m}=await(0,t.A)(d,w);return v.fromJSON(m)}},94487:(e,r,s)=>{s.d(r,{t:()=>o});var t=s(3825);async function o(e,r){let s=null;const o="string"==typeof r?r:r.path;if(!e.has(o)){const n=await(0,t.A)(o.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});s={serverVersion:Number(n.data.currentVersion),featureServerUrl:o.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(r,s)}}}}]);
//# sourceMappingURL=90017.2ca652bb.chunk.js.map