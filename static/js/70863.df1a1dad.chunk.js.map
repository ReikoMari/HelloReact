{"version":3,"file":"static/js/70863.df1a1dad.chunk.js","mappings":"8HAIshBA,E,uHAAE,MAAMC,EAAE,IAAIC,EAAAA,EAAE,CAACC,yBAAyB,aAAaC,uBAAuB,WAAWC,sBAAsB,UAAUC,uBAAuB,WAAWC,iCAAiC,sBAAsBC,8BAA8B,mBAAmBC,uBAAuB,WAAWC,sBAAsB,UAAUC,qBAAqB,SAASC,uBAAuB,aAAaC,EAAE,IAAIX,EAAAA,EAAE,CAACY,iBAAiB,SAASC,qBAAqB,aAAaC,gBAAgB,OAAOC,uBAAuB,QAAQC,wBAAwB,iBAAiBC,0BAA0B,sBAAsB,IAAIC,EAAEpB,EAAE,cAAcqB,EAAAA,GAAEC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,MAAM,KAAKD,KAAKE,SAAS,KAAKF,KAAKG,oBAAoB,aAAaH,KAAKI,cAAS,EAAOJ,KAAKK,UAAU,KAAKL,KAAKM,MAAM,KAAKN,KAAKO,WAAW,IAAI,CAACC,WAAAA,GAAiB,IAALV,EAACW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAG,MAAMR,MAAMW,EAAEV,SAASW,EAAEV,oBAAoB1B,EAAE8B,WAAWX,EAAES,UAAUS,EAAER,MAAMS,EAAEX,SAAS7B,GAAGyB,KAAK,OAAO,IAAIgB,EAAAA,EAAE,CAACd,UAASe,EAAAA,EAAAA,IAAEJ,GAAGR,WAAUY,EAAAA,EAAAA,IAAEH,GAAGX,oBAAoB1B,EAAE8B,YAAWU,EAAAA,EAAAA,IAAErB,GAAGK,MAAMW,EAAEN,MAAMS,EAAEX,SAAS7B,KAAKuB,GAAG,CAACoB,KAAAA,GAAQ,MAAMjB,MAAMH,EAAEI,SAASU,EAAET,oBAAoBU,EAAEN,WAAW9B,EAAE4B,UAAUT,EAAEU,MAAMQ,EAAEV,SAASW,GAAGf,KAAK,OAAO,IAAIzB,EAAE,CAAC2B,UAASe,EAAAA,EAAAA,IAAEL,GAAGP,WAAUY,EAAAA,EAAAA,IAAErB,GAAGO,oBAAoBU,EAAEN,YAAWU,EAAAA,EAAAA,IAAExC,GAAGwB,MAAMH,EAAEQ,MAAMQ,EAAEV,SAASW,GAAG,IAAGjB,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,IAAE,CAACK,KAAKC,OAAOC,KAAK,CAACC,OAAM,MAAO3B,EAAE4B,UAAU,aAAQ,IAAQzB,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,IAAE,CAACU,MAAMZ,EAAAA,GAAES,KAAK,CAACC,OAAM,MAAO3B,EAAE4B,UAAU,gBAAW,IAAQzB,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,IAAE,CAACK,KAAK3C,EAAEiD,UAAUJ,KAAK,CAACK,KAAK,aAAaC,KAAK,CAACC,OAAOpD,EAAEmD,MAAML,MAAM,CAACO,WAAU,EAAGC,OAAOtD,EAAE8C,MAAMS,cAAAA,GAAiB,MAAM,CAACC,QAAQ,MAAMhC,KAAKE,SAAS,OAAOP,EAAE4B,UAAU,2BAAsB,IAAQzB,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,IAAE,CAACK,KAAKc,OAAOZ,KAAK,CAACC,MAAM,CAACS,cAAAA,CAAejC,GAAG,MAAM,CAACkC,QAAQ,MAAMlC,GAAG,MAAME,KAAKE,SAAS,OAAOP,EAAE4B,UAAU,gBAAW,IAAQzB,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,IAAE,CAACK,KAAK,CAACc,QAAQZ,KAAK,CAACC,OAAM,MAAO3B,EAAE4B,UAAU,iBAAY,IAAQzB,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,IAAE,CAACK,KAAK/B,EAAEqC,UAAUJ,KAAK,CAACM,KAAKvC,EAAEuC,KAAKL,MAAM,CAACQ,OAAO1C,EAAEkC,MAAMS,cAAAA,CAAejC,GAAG,MAAM,CAACkC,QAAQ,MAAMlC,GAAG,MAAME,KAAKE,SAAS,OAAOP,EAAE4B,UAAU,aAAQ,IAAQzB,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,IAAE,CAACK,KAAKN,EAAAA,EAAEQ,KAAK,CAACC,OAAM,MAAO3B,EAAE4B,UAAU,kBAAa,GAAQ5B,EAAEpB,GAAEuB,EAAAA,EAAAA,GAAE,EAACiB,EAAAA,EAAAA,GAAE,sCAAsCpB,GAAG,MAAMuC,EAAEvC,C,2OCAnqD,IAAIP,EAAE,cAAcwB,EAAAA,EAAEuB,WAAAA,GAAc,OAAOnC,KAAKoC,QAAQ,IAAGtC,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,IAAE,CAACG,KAAKc,OAAOZ,KAAK,CAACM,MAAK,MAAOvC,EAAEmC,UAAU,gBAAW,GAAQnC,GAAEU,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,GAAE,mDAAmD1B,GAAG,MAAMO,EAAEE,WAAAA,CAAYC,GAAGE,KAAKqC,SAASvC,EAAEE,KAAKsC,aAAa,IAAIC,GAAG,CAACC,OAAAA,GAAUxC,KAAKsC,aAAaG,OAAO,CAACC,GAAAA,CAAI5C,GAAGE,KAAKsC,aAAaK,IAAI7C,EAAEsC,SAAStC,EAAE,CAAC8C,GAAAA,CAAI9C,GAAG,OAAOE,KAAKsC,aAAaM,IAAI9C,EAAE,CAAC+C,OAAAA,CAAQ/C,GAAGE,KAAKsC,aAAaO,QAAQ/C,EAAE,CAACgD,UAAAA,CAAWhD,GAAG,MAAMc,EAAEZ,KAAKsC,aAAaM,IAAI9C,GAAG,OAAOc,GAAGA,EAAEmC,YAAYnC,EAAEoC,MAAM,KAAKhD,KAAKsC,aAAaW,OAAOnD,GAAGc,GAAG,IAAI,CAACsC,MAAAA,CAAOpD,EAAEc,GAAGZ,KAAKqC,SAASvC,EAAEc,EAAE,CAAC,QAAIuC,GAAO,OAAOnD,KAAKsC,aAAaa,IAAI,EAAE,IAAIC,EAAE,eAAcnC,EAAAA,EAAAA,GAAErB,EAAAA,IAAIC,WAAAA,GAAcE,SAASU,WAAWT,KAAKqD,UAAS,EAAGrD,KAAKsD,SAAS,IAAIpB,EAAAA,EAAElC,KAAKuD,YAAY,CAACC,UAAU,EAAEC,OAAO,GAAGzD,KAAK0D,kBAAkB,KAAK1D,KAAK2D,qBAAqB,IAAI,CAACC,UAAAA,GAAa5D,KAAK6D,oBAAoB7D,KAAKgD,MAAMc,MAAM,IAAI9D,KAAK+D,aAAa,CAACvB,OAAAA,GAAUxC,KAAKyC,OAAO,CAACuB,cAAAA,GAAiB,OAAOhE,KAAK0D,oBAAoBO,cAAcjE,KAAK0D,mBAAmB1D,KAAK0D,kBAAkB,KAAK,CAACjB,KAAAA,GAAQzC,KAAKkE,YAAYlE,KAAKsD,SAASb,OAAO,CAAC,YAAI0B,GAAW,OAAOnE,KAAKoE,YAAY,cAAcpE,KAAKoE,WAAWC,gBAAgB,CAACH,SAAAA,GAAYlE,KAAKgE,iBAAiBhE,KAAKoE,YAAW3F,EAAAA,EAAAA,IAAEuB,KAAKoE,YAAYpE,KAAKsE,OAAM7F,EAAAA,EAAAA,IAAEuB,KAAKsE,OAAOtE,KAAKuE,kBAAkB,CAACR,QAAAA,GAAW,MAAMf,MAAMlD,EAAE0E,UAAU5D,GAAGZ,MAAMyE,iBAAiB7E,EAAE8E,qBAAqBjG,EAAEkG,mBAAmB1D,EAAE2D,cAAc5D,EAAE6D,SAAS/D,EAAEgE,aAAa5C,EAAE6C,wBAAwBxG,EAAEyG,wBAAwB5F,EAAE6F,iBAAiB7B,GAAGtD,EAAEoF,EAAEpF,EAAEqF,aAAapE,EAAAA,EAAEqE,OAAOtF,EAAEqF,cAAc,KAAKE,EAAEzF,EAAE0F,EAAE1E,EAAE2E,KAAKd,iBAAiBzE,KAAKyC,QAAQzC,KAAKwF,KAAK,cAAaC,EAAAA,EAAAA,kBAAE3F,EAAE4F,UAAUL,EAAEC,EAAEJ,EAAEzG,EAAEwC,EAAE1C,EAAEa,EAAG,OAADgE,QAAC,IAADA,EAAAA,OAAG,IAASpD,KAAK2D,qBAAqB2B,EAAEF,SAASpF,KAAKsE,MAAM,IAAI3E,EAAEK,KAAK2F,UAAUC,KAAK5F,OAAOA,KAAK6F,gBAAgB,IAAIrH,EAAAA,GAAEwB,KAAKsE,MAAMtD,EAAEF,EAAEsE,SAASlD,GAAG,MAAM4D,EAAE,kBAAkB9F,KAAK+F,cAAcD,GAAG9F,KAAKgG,WAAW,CAAClG,EAAEmG,GAAG,0BAA0BnG,GAAGE,KAAKoE,WAAW8B,oBAAoBpG,KAAKA,EAAEmG,GAAG,0BAA0BnG,GAAGE,KAAKoE,WAAW+B,oBAAoBrG,KAAKE,KAAKoE,WAAW6B,GAAG,iBAAiBnG,GAAGE,KAAKoG,WAAWtG,KAAKE,KAAKoE,WAAW6B,GAAG,oBAAoBnG,GAAGE,KAAKqG,oBAAoBvG,MAAKe,EAAAA,EAAAA,QAAG,IAAI,CAACf,EAAE4E,qBAAqB5E,EAAE6E,mBAAmB7E,EAAEgF,gBAAgB,IAAI9E,KAAK+D,cAAc+B,GAAG9F,KAAKqD,UAAUrD,KAAKsG,qBAAqB,CAACD,mBAAAA,CAAoBvG,GAAG,GAAGE,KAAKwE,UAAU+B,KAAK,mBAAmBzG,GAAG,SAASA,EAAE,OAAOA,EAAEqB,MAAM,IAAI,SAAS,GAAGrB,EAAEO,UAAU,IAAI,MAAMO,KAAKd,EAAEO,UAAUL,KAAK6F,gBAAgB/C,WAAWlC,GAAG,GAAGd,EAAE0G,SAAS,IAAI,MAAM5F,KAAKd,EAAE0G,SAASxG,KAAK6F,gBAAgBY,gBAAgB7F,GAAG,MAAM,IAAI,QAAQZ,KAAKsE,MAAMzB,SAAS/C,GAAGE,KAAK6F,gBAAgB/C,WAAWhD,EAAEsC,YAAY,CAACgE,UAAAA,CAAWtG,GAAGE,KAAKuD,YAAYC,YAAYxD,KAAKwE,UAAUkC,iBAAiB,kBAAkB1G,KAAKwE,UAAU+B,KAAK,gBAAgB,CAACI,WAAW7G,EAAE6G,WAAWC,SAAS9G,EAAE8G,SAAS1G,SAASJ,EAAEI,WAAW,IAAI,MAAMJ,EAAEI,UAAUJ,EAAEI,SAASuE,mBAAmB3E,EAAEI,SAASuE,iBAAiBzE,KAAK2D,sBAAsB,MAAM/C,EAAExB,EAAEyH,SAAS/G,GAAGc,EAAEmC,YAAYnC,EAAEoC,MAAMhD,KAAKgD,MAAMhD,KAAK6F,gBAAgBnD,IAAI9B,EAAE,CAAC,MAAM,CAAC,CAAC+E,SAAAA,CAAU7F,EAAEc,GAAG,MAAMA,GAAGZ,KAAKsD,SAASwD,WAAWlG,GAAG,MAAMd,IAAIE,KAAKuD,YAAYE,QAAQ3D,EAAEY,OAAOV,KAAKsD,SAASyD,QAAQjH,GAAG,CAACwG,mBAAAA,GAAsBtG,KAAKgE,iBAAiB,MAAMgD,eAAelH,GAAGE,KAAKgD,MAAM,IAAIpC,EAAEqG,YAAYC,MAAMlH,KAAK0D,kBAAkByD,aAAa,KAAK,MAAMrH,EAAEmH,YAAYC,MAAMtH,EAAEE,EAAEc,EAAE,GAAGhB,EAAnvG,KAAuvG,CAACgB,EAAEd,EAAE,MAAMrB,EAAE2I,KAAKC,MAAMrH,KAAKuD,YAAYE,QAAQ7D,EAAE,MAAMqB,EAAEmG,KAAKC,MAAMrH,KAAKuD,YAAYC,WAAW5D,EAAE,MAAMI,KAAKuD,YAAYE,OAAO,EAAEzD,KAAKuD,YAAYC,UAAU,EAAExD,KAAKwE,UAAU+B,KAAK,cAAc,CAAC9C,OAAOhF,EAAE+E,UAAUvC,GAAG,CAACjB,KAAK6F,gBAAgByB,iBAAiB,GAAGxH,EAAE,CAACyH,WAAAA,GAAcvH,KAAKqD,UAAS,EAAGrD,KAAKgE,gBAAgB,CAACwD,YAAAA,GAAexH,KAAKqD,UAAS,EAAGrD,KAAKsG,qBAAqB,CAACmB,UAAAA,GAAazH,KAAKkE,WAAW,CAACwD,OAAAA,GAAU,MAAM1H,KAAKoE,YAAYpE,KAAK+D,UAAU,CAAC4D,aAAAA,GAAgB3H,KAAKsD,SAASb,OAAO,IAAG3C,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,OAAKoC,EAAE7B,UAAU,gBAAW,IAAQzB,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,IAAE,CAAC4G,eAAc,KAAMxE,EAAE7B,UAAU,aAAQ,IAAQzB,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,IAAE,CAAC4G,eAAc,KAAMxE,EAAE7B,UAAU,iBAAY,IAAQzB,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,OAAKoC,EAAE7B,UAAU,kBAAa,IAAQzB,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,IAAE,CAAC6G,UAAS,KAAMzE,EAAE7B,UAAU,WAAW,MAAM6B,GAAEtD,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,GAAE,sDAAsDsC,G,oECA9mI,IAAIhE,EAAE,eAAcO,EAAAA,EAAAA,IAAEqB,EAAAA,EAAAA,IAAED,EAAAA,EAAAA,GAAExC,EAAAA,MAAMsB,WAAAA,GAAcE,SAASU,WAAWT,KAAKmB,KAAK,YAAYnB,KAAK8H,aAAatJ,EAAAA,EAAEuJ,MAAM/H,KAAKgI,MAAK,EAAGhI,KAAKiI,MAAK,CAAE,CAACrE,UAAAA,GAAa5D,KAAKgG,YAAWpF,EAAAA,EAAAA,QAAG,IAAIZ,KAAKkI,YAAYpI,IAAIE,KAAKmI,YAAYnI,KAAKoI,mBAAmBtI,EAAE,IAAI,CAAC,mBAAIuI,GAAiB,IAAAC,EAAC,MAAMxI,EAAiB,QAAhBwI,EAACtI,KAAKmI,kBAAU,IAAAG,GAAY,QAAZA,EAAfA,EAAiBlE,kBAAU,IAAAkE,OAAA,EAA3BA,EAA6BC,YAAY,OAAOzI,EAAE,IAAIrB,EAAAA,EAAE,oBAAoBqB,GAAG,IAAI,CAACU,WAAAA,GAAc,OAAO,IAAIK,EAAAA,EAAE,CAAC2H,UAAU,CAAC,KAAKC,gBAAe,EAAGC,oBAAoB1I,KAAKuF,KAAKd,kBAAkB,CAACkE,uBAAAA,CAAwB7I,EAAErB,GAAG,OAAOuB,KAAK4I,YAAYC,kCAAkC7I,KAAK8I,aAAahJ,GAAI,OAADrB,QAAC,IAADA,OAAC,EAADA,EAAGsK,OAAO,CAAC,2BAAIC,GAAyB,IAAAC,EAAAC,EAAC,OAAoD,QAApDD,EAAsB,QAAtBC,EAAOlJ,KAAKmI,kBAAU,IAAAe,GAAY,QAAZA,EAAfA,EAAiB9E,kBAAU,IAAA8E,OAAA,EAA3BA,EAA6B7E,wBAAgB,IAAA4E,EAAAA,EAAE,cAAc,CAACE,gBAAAA,GAAmB,OAAO,IAAIrI,EAAE,CAACkC,MAAMhD,KAAKgD,MAAMwB,UAAUxE,MAAM,CAACoJ,mBAAAA,GAAsB,CAACC,QAAAA,GAAU,IAAAC,EAAgB,QAAfA,EAAAtJ,KAAKmI,kBAAU,IAAAmB,GAAfA,EAAiB/B,aAAa,CAACgC,SAAAA,GAAW,IAAAC,EAAgB,QAAfA,EAAAxJ,KAAKmI,kBAAU,IAAAqB,GAAfA,EAAiBhC,cAAc,CAACiC,aAAAA,GAAe,IAAAC,EAAgB,QAAfA,EAAA1J,KAAKmI,kBAAU,IAAAuB,GAAfA,EAAiBjC,aAAazH,KAAKqJ,UAAU,CAACM,UAAAA,GAAY,IAAAC,EAAgB,QAAfA,EAAA5J,KAAKmI,kBAAU,IAAAyB,GAAfA,EAAiBlC,UAAU1H,KAAK6J,QAAQ,CAACC,QAAAA,GAAU,IAAAC,EAAgB,QAAfA,EAAA/J,KAAKmI,kBAAU,IAAA4B,GAAfA,EAAiBpC,eAAe,IAAG7H,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,IAAE,CAAC4G,UAAS,KAAMzI,EAAEmC,UAAU,oBAAe,IAAQzB,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,IAAE,CAAC4G,UAAS,KAAMzI,EAAEmC,UAAU,kBAAkB,OAAMzB,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,OAAK7B,EAAEmC,UAAU,kBAAa,IAAQzB,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,IAAE,CAAC4G,UAAS,KAAMzI,EAAEmC,UAAU,YAAO,IAAQzB,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,IAAE,CAAC4G,UAAS,KAAMzI,EAAEmC,UAAU,YAAO,IAAQzB,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,IAAE,CAAC4G,UAAS,KAAMzI,EAAEmC,UAAU,0BAA0B,MAAMnC,GAAEU,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,GAAE,2CAA2CR,GAAG,MAAM8C,EAAE9C,C,6GCA70D,MAAMX,EAAEA,IAAI,IAAIoC,EAAE,cAAcpC,EAAEoL,MAAAA,GAAS7J,KAAKgK,eAAc,EAAGhK,KAAKkI,WAAWlI,KAAKuJ,WAAW,CAACU,KAAAA,GAAQjK,KAAKgK,eAAc,EAAGhK,KAAKkI,WAAWlI,KAAKqJ,UAAU,CAAC5B,UAAAA,GAAazH,KAAKyJ,eAAe,CAAC/B,OAAAA,GAAU1H,KAAK2J,YAAY,CAAClH,KAAAA,GAAQzC,KAAK8J,UAAU,CAACjK,WAAAA,GAAkBE,SAAMU,WAAMT,KAAKgK,eAAc,EAAGhK,KAAKkK,OAAO,IAAI,CAAC,oBAAI7F,GAAmB,OAAOrE,KAAKgK,eAAehK,KAAKkI,YAAY,cAAclI,KAAKgJ,wBAAwB,SAAShJ,KAAKgJ,uBAAuB,CAACZ,kBAAAA,CAAmBxI,GAAGA,EAAEI,KAAKqJ,WAAWrJ,KAAKgK,eAAehK,KAAKuJ,WAAW,GAAG,OAAO3J,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAKe,EAAEU,UAAU,qBAAgB,IAAQ3B,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,IAAE,CAAC+H,UAAS,KAAMhH,EAAEU,UAAU,mBAAmB,OAAM3B,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,IAAE,CAACqB,KAAKF,EAAAA,KAAKJ,EAAEU,UAAU,cAAS,GAAQV,GAAEjB,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,GAAE,uCAAuCC,GAAGA,CAAC,C","sources":["../node_modules/@arcgis/core/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js","../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js","../node_modules/@arcgis/core/views/layers/StreamLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../geometry.js\";import i from\"../../TimeExtent.js\";import{JSONMap as r}from\"../../core/jsonMap.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../rest/support/Query.js\";var p;const c=new r({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new r({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let m=p=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:s,objectIds:n,units:l,distance:p}=this;return new a({geometry:o(i),objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:t,units:l,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:r,objectIds:s,units:n,distance:l}=this;return new p({geometry:o(t),objectIds:o(s),spatialRelationship:i,timeExtent:o(r),where:e,units:n,distance:l})}};e([n({type:String,json:{write:!0}})],m.prototype,\"where\",void 0),e([n({types:t,json:{write:!0}})],m.prototype,\"geometry\",void 0),e([n({type:c.apiValues,json:{name:\"spatialRel\",read:{reader:c.read},write:{allowNull:!1,writer:c.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],m.prototype,\"spatialRelationship\",void 0),e([n({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],m.prototype,\"objectIds\",void 0),e([n({type:u.apiValues,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,\"units\",void 0),e([n({type:i,json:{write:!0}})],m.prototype,\"timeExtent\",void 0),m=p=e([l(\"esri.layers.support.FeatureFilter\")],m);const d=m;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{watch as i}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamFeatureManager as c}from\"../data/StreamFeatureManager.js\";import{createConnection as h}from\"../sources/connections/createConnection.js\";import{EventedSet as d}from\"../../../views/3d/support/EventedSet.js\";import{featureGeometryTypeKebabDictionary as l}from\"../../../geometry/support/typeUtils.js\";const p=2500;let u=class extends t{getObjectId(){return this.objectId}};e([a({type:Number,json:{read:!0}})],u.prototype,\"objectId\",void 0),u=e([n(\"esri.layers.graphics.controllers.StreamGraphic\")],u);class m{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}let y=class extends(o(s)){constructor(){super(...arguments),this.isPaused=!1,this.graphics=new d,this._updateInfo={websocket:0,client:0},this._updateIntervalId=null,this._outSpatialReference=null}initialize(){this.addResolvingPromise(this.layer.when((()=>this._startup())))}destroy(){this.clear()}_clearInterval(){null!==this._updateIntervalId&&(clearInterval(this._updateIntervalId),this._updateIntervalId=null)}clear(){this._shutdown(),this.graphics.clear()}get updating(){return!this.connection||\"connected\"===this.connection.connectionStatus}_shutdown(){this._clearInterval(),this.connection=r(this.connection),this.store=r(this.store),this.removeAllHandles()}_startup(){const{layer:e,layerView:t}=this,{spatialReference:s,definitionExpression:r,geometryDefinition:o,objectIdField:a,timeInfo:n,purgeOptions:d,maxReconnectionAttempts:p,maxReconnectionInterval:u,customParameters:y}=e,f=e.geometryType?l.toJSON(e.geometryType):null,g=s,_=t.view.spatialReference;this.clear(),this._set(\"connection\",h(e.parsedUrl,g,_,f,r,o,p,u,y??void 0)),this._outSpatialReference=_.toJSON(),this.store=new m(this._onUpdate.bind(this)),this.featuresManager=new c(this.store,a,n.toJSON(),d);const I=\"startup-watches\";this.removeHandles(I),this.addHandles([e.on(\"send-message-to-socket\",(e=>this.connection.sendMessageToSocket(e))),e.on(\"send-message-to-client\",(e=>this.connection.sendMessageToClient(e))),this.connection.on(\"data-received\",(e=>this._onFeature(e))),this.connection.on(\"message-received\",(e=>this._onWebSocketMessage(e))),i((()=>[e.definitionExpression,e.geometryDefinition,e.purgeOptions]),(()=>this._startup()))],I),this.isPaused||this._initUpdateInterval()}_onWebSocketMessage(e){if(this.layerView.emit(\"message-received\",e),\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this.featuresManager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this.featuresManager.removeByTrackId(t);break;case\"clear\":this.store.forEach((e=>this.featuresManager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener(\"data-received\")&&this.layerView.emit(\"data-received\",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{null==e.geometry||e.geometry.spatialReference||(e.geometry.spatialReference=this._outSpatialReference);const t=u.fromJSON(e);t.sourceLayer=t.layer=this.layer,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){null!=t&&this.graphics.removeMany(t),null!=e&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}_initUpdateInterval(){this._clearInterval();const{updateInterval:e}=this.layer;let t=performance.now();this._updateIntervalId=setInterval((()=>{const e=performance.now(),s=e-t;if(s>p){t=e;const r=Math.round(this._updateInfo.client/(s/1e3)),o=Math.round(this._updateInfo.websocket/(s/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit(\"update-rate\",{client:r,websocket:o})}this.featuresManager.checkForUpdates()}),e)}pauseStream(){this.isPaused=!0,this._clearInterval()}resumeStream(){this.isPaused=!1,this._initUpdateInterval()}disconnect(){this._shutdown()}connect(){null==this.connection&&this._startup()}clearGraphics(){this.graphics.clear()}};e([a()],y.prototype,\"isPaused\",void 0),e([a({constructOnly:!0})],y.prototype,\"layer\",void 0),e([a({constructOnly:!0})],y.prototype,\"layerView\",void 0),e([a()],y.prototype,\"connection\",void 0),e([a({readOnly:!0})],y.prototype,\"updating\",null),y=e([n(\"esri.layers.graphics.controllers.StreamController\")],y);export{y as StreamController,u as StreamGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamController as n}from\"../../../layers/graphics/controllers/StreamController.js\";import i from\"../../../rest/support/Query.js\";import{FeatureLikeLayerView3D as a}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as l}from\"./LayerView3D.js\";import{UpdatePolicy as c}from\"../webgl-engine/lib/UpdatePolicy.js\";import p from\"../../layers/LayerView.js\";import m from\"../../layers/StreamLayerView.js\";let u=class extends(m(a(l(p)))){constructor(){super(...arguments),this.type=\"stream-3d\",this.updatePolicy=c.ASYNC,this.hasZ=!0,this.hasM=!1}initialize(){this.addHandles(t((()=>this.suspended),(e=>{this.controller&&this._onSuspendedChange(e)})))}get connectionError(){const e=this.controller?.connection?.errorString;return e?new r(\"stream-controller\",e):null}createQuery(){return new i({outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(e,r){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(e),r?.signal)}get _streamConnectionStatus(){return this.controller?.connection?.connectionStatus??\"disconnected\"}createController(){return new n({layer:this.layer,layerView:this})}beforeSetController(){}_doPause(){this.controller?.pauseStream()}_doResume(){this.controller?.resumeStream()}_doDisconnect(){this.controller?.disconnect(),this._doPause()}_doConnect(){this.controller?.connect(),this.resume()}_doClear(){this.controller?.clearGraphics()}};e([o({readOnly:!0})],u.prototype,\"updatePolicy\",void 0),e([o({readOnly:!0})],u.prototype,\"connectionError\",null),e([o()],u.prototype,\"controller\",void 0),e([o({readOnly:!0})],u.prototype,\"hasZ\",void 0),e([o({readOnly:!0})],u.prototype,\"hasM\",void 0),e([o({readOnly:!0})],u.prototype,\"_streamConnectionStatus\",null),u=e([s(\"esri.views.3d.layers.StreamLayerView3D\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../layers/support/FeatureFilter.js\";const r=r=>{let i=class extends r{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}disconnect(){this._doDisconnect()}connect(){this._doConnect()}clear(){this._doClear()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return(this._isUserPaused||this.suspended)&&\"connected\"===this._streamConnectionStatus?\"paused\":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return s([e()],i.prototype,\"_isUserPaused\",void 0),s([e({readOnly:!0})],i.prototype,\"connectionStatus\",null),s([e({type:o})],i.prototype,\"filter\",void 0),i=s([t(\"esri.layers.mixins.StreamLayerView\")],i),i};export{r as default};\n"],"names":["p","c","r","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","u","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","m","s","constructor","e","super","this","where","geometry","spatialRelationship","distance","objectIds","units","timeExtent","createQuery","arguments","length","undefined","t","i","n","l","a","o","clone","type","String","json","write","prototype","types","apiValues","name","read","reader","allowNull","writer","overridePolicy","enabled","Number","d","getObjectId","objectId","onUpdate","_idToGraphic","Map","destroy","clear","add","set","get","forEach","removeById","sourceLayer","layer","delete","update","size","y","isPaused","graphics","_updateInfo","websocket","client","_updateIntervalId","_outSpatialReference","initialize","addResolvingPromise","when","_startup","_clearInterval","clearInterval","_shutdown","updating","connection","connectionStatus","store","removeAllHandles","layerView","spatialReference","definitionExpression","geometryDefinition","objectIdField","timeInfo","purgeOptions","maxReconnectionAttempts","maxReconnectionInterval","customParameters","f","geometryType","toJSON","g","_","view","_set","h","parsedUrl","_onUpdate","bind","featuresManager","I","removeHandles","addHandles","on","sendMessageToSocket","sendMessageToClient","_onFeature","_onWebSocketMessage","_initUpdateInterval","emit","trackIds","removeByTrackId","hasEventListener","attributes","centroid","fromJSON","removeMany","addMany","updateInterval","performance","now","setInterval","Math","round","checkForUpdates","pauseStream","resumeStream","disconnect","connect","clearGraphics","constructOnly","readOnly","updatePolicy","ASYNC","hasZ","hasM","suspended","controller","_onSuspendedChange","connectionError","_this$controller","errorString","outFields","returnGeometry","outSpatialReference","queryLatestObservations","queryEngine","executeQueryForLatestObservations","_ensureQuery","signal","_streamConnectionStatus","_this$controller$conn","_this$controller2","createController","beforeSetController","_doPause","_this$controller3","_doResume","_this$controller4","_doDisconnect","_this$controller5","_doConnect","_this$controller6","resume","_doClear","_this$controller7","_isUserPaused","pause","filter"],"sourceRoot":""}