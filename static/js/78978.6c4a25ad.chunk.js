"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[78978],{45136:(t,e,n)=>{n.d(e,{a:()=>o,b:()=>c,c:()=>s,d:()=>i,e:()=>f,f:()=>u,n:()=>h,s:()=>a,t:()=>l});n(81806);var r=n(80066);function i(t,e,n){o(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function o(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(t.length/r!==Math.ceil(e.length/i))return t;const o=t.length/r,s=n[0],c=n[1],u=n[2],a=n[4],l=n[5],f=n[6],h=n[8],g=n[9],d=n[10],v=n[12],A=n[13],M=n[14];let m=0,p=0;for(let E=0;E<o;E++){const n=e[m],o=e[m+1],E=e[m+2];t[p]=s*n+a*o+h*E+v,t[p+1]=c*n+l*o+g*E+A,t[p+2]=u*n+f*o+d*E+M,m+=i,p+=r}return t}function s(t,e,n){c(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function c(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i;if(t.length/i!==Math.ceil(e.length/o))return void(0,r.j)().error("source and destination buffers need to have the same number of elements");const s=t.length/i,c=n[0],u=n[1],a=n[2],l=n[3],f=n[4],h=n[5],g=n[6],d=n[7],v=n[8];let A=0,M=0;for(let r=0;r<s;r++){const n=e[A],r=e[A+1],s=e[A+2];t[M]=c*n+l*r+g*s,t[M+1]=u*n+f*r+d*s,t[M+2]=a*n+h*r+v*s,A+=o,M+=i}}function u(t,e,n){a(t.typedBuffer,e,n,t.typedBufferStride)}function a(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;const i=Math.min(t.length/r,e.count),o=e.typedBuffer,s=e.typedBufferStride;let c=0,u=0;for(let a=0;a<i;a++)t[u]=n*o[c],t[u+1]=n*o[c+1],t[u+2]=n*o[c+2],c+=s,u+=r}function l(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;const o=t.length/r;if(o!==Math.ceil(e.length/i))return t;let s=0,c=0;for(let u=0;u<o;u++)t[c]=e[s]+n[0],t[c+1]=e[s+1]+n[1],t[c+2]=e[s+2]+n[2],s+=i,c+=r;return t}function f(t,e){h(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;const i=Math.min(t.length/n,e.length/r);let o=0,s=0;for(let c=0;c<i;c++){const i=e[o],c=e[o+1],u=e[o+2],a=i*i+c*c+u*u;if(a>0){const e=1/Math.sqrt(a);t[s]=e*i,t[s+1]=e*c,t[s+2]=e*u}o+=r,s+=n}}Object.freeze(Object.defineProperty({__proto__:null,normalize:h,normalizeView:f,scale:a,scaleView:u,shiftRight:function(t,e,n){const r=Math.min(t.count,e.count),i=t.typedBuffer,o=t.typedBufferStride,s=e.typedBuffer,c=e.typedBufferStride;let u=0,a=0;for(let l=0;l<r;l++)i[a]=s[u]>>n,i[a+1]=s[u+1]>>n,i[a+2]=s[u+2]>>n,u+=c,a+=o},transformMat3:c,transformMat3View:s,transformMat4:o,transformMat4View:i,translate:l},Symbol.toStringTag,{value:"Module"}))},97467:(t,e,n)=>{n.d(e,{I:()=>i});var r=n(77944);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}const o=1024},44680:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function o(t,e,n,r,i,o,s,c,u){return[t,e,n,r,i,o,s,c,u]}n.d(e,{fA:()=>o,o8:()=>i,vt:()=>r,zK:()=>s});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},13191:(t,e,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,e,n,r,i,o,s,c,u,a,l,f,h,g,d,v){return[t,e,n,r,i,o,s,c,u,a,l,f,h,g,d,v]}n.d(e,{fA:()=>o,o8:()=>i,vt:()=>r,zK:()=>s});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},4336:(t,e,n)=>{function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}function o(t,e,n,r){return[t,e,n,r]}n.d(e,{fA:()=>o,o8:()=>i,vt:()=>r,zK:()=>s});const s=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,createView:function(t,e){return new Float64Array(t,e,4)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},60008:(t,e,n)=>{n.d(e,{A6:()=>A,B8:()=>g,Xd:()=>l,Xr:()=>d,Yc:()=>L,hZ:()=>m,lw:()=>f,t2:()=>S,x8:()=>a});var r=n(44680),i=n(4336),o=n(9392),s=n(53494),c=n(20664),u=n(43047);function a(t,e,n){n*=.5;const r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function l(t,e){const n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>(0,s.FD)()?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function f(t,e,n){const r=e[0],i=e[1],o=e[2],s=e[3],c=n[0],u=n[1],a=n[2],l=n[3];return t[0]=r*l+s*c+i*a-o*u,t[1]=i*l+s*u+o*c-r*a,t[2]=o*l+s*a+r*u-i*c,t[3]=s*l-r*c-i*u-o*a,t}function h(t,e,n,r){const i=e[0],o=e[1],c=e[2],u=e[3];let a,l,f,h,g,d=n[0],v=n[1],A=n[2],M=n[3];return l=i*d+o*v+c*A+u*M,l<0&&(l=-l,d=-d,v=-v,A=-A,M=-M),1-l>(0,s.FD)()?(a=Math.acos(l),f=Math.sin(a),h=Math.sin((1-r)*a)/f,g=Math.sin(r*a)/f):(h=1-r,g=r),t[0]=h*i+g*d,t[1]=h*o+g*v,t[2]=h*c+g*A,t[3]=h*u+g*M,t}function g(t,e){const n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o,c=s?1/s:0;return t[0]=-n*c,t[1]=-r*c,t[2]=-i*c,t[3]=o*c,t}function d(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function v(t,e){const n=e[0]+e[4]+e[8];let r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);const i=(n+1)%3,o=(n+2)%3;r=Math.sqrt(e[3*n+n]-e[3*i+i]-e[3*o+o]+1),t[n]=.5*r,r=.5/r,t[3]=(e[3*i+o]-e[3*o+i])*r,t[i]=(e[3*i+n]+e[3*n+i])*r,t[o]=(e[3*o+n]+e[3*n+o])*r}return t}function A(t,e,n,r){const i=.5*Math.PI/180;e*=i,n*=i,r*=i;const o=Math.sin(e),s=Math.cos(e),c=Math.sin(n),u=Math.cos(n),a=Math.sin(r),l=Math.cos(r);return t[0]=o*u*l-s*c*a,t[1]=s*c*l+o*u*a,t[2]=s*u*a-o*c*l,t[3]=s*u*l+o*c*a,t}const M=u.c,m=u.s,p=u.f,E=f,I=u.b,y=u.g,O=u.l,N=u.i,_=N,T=u.j,b=T,w=u.n,S=u.a,P=u.e;function L(t,e,n){const r=(0,c.k)(e,n);return r<-.999999?((0,c.b)(C,R,e),(0,c.H)(C)<1e-6&&(0,c.b)(C,x,e),(0,c.n)(C,C),a(t,C,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,c.b)(C,e,n),t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=1+r,w(t,t))}const C=(0,o.vt)(),R=(0,o.fA)(1,0,0),x=(0,o.fA)(0,1,0);const F=(0,i.vt)(),D=(0,i.vt)();const U=(0,r.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:p,calculateW:function(t,e){const n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},conjugate:d,copy:M,dot:y,equals:P,exactEquals:S,fromEuler:A,fromMat3:v,getAxisAngle:l,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:g,len:_,length:N,lerp:O,mul:E,multiply:f,normalize:w,random:function(t){const e=s.Ov,n=e(),r=e(),i=e(),o=Math.sqrt(1-n),c=Math.sqrt(n);return t[0]=o*Math.sin(2*Math.PI*r),t[1]=o*Math.cos(2*Math.PI*r),t[2]=c*Math.sin(2*Math.PI*i),t[3]=c*Math.cos(2*Math.PI*i),t},rotateX:function(t,e,n){n*=.5;const r=e[0],i=e[1],o=e[2],s=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u+s*c,t[1]=i*u+o*c,t[2]=o*u-i*c,t[3]=s*u-r*c,t},rotateY:function(t,e,n){n*=.5;const r=e[0],i=e[1],o=e[2],s=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*c,t[1]=i*u+s*c,t[2]=o*u+r*c,t[3]=s*u-i*c,t},rotateZ:function(t,e,n){n*=.5;const r=e[0],i=e[1],o=e[2],s=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*c,t[1]=i*u-r*c,t[2]=o*u+s*c,t[3]=s*u-o*c,t},rotationTo:L,scale:I,set:m,setAxes:function(t,e,n,r){const i=U;return i[0]=n[0],i[3]=n[1],i[6]=n[2],i[1]=r[0],i[4]=r[1],i[7]=r[2],i[2]=-e[0],i[5]=-e[1],i[8]=-e[2],w(t,v(t,i))},setAxisAngle:a,slerp:h,sqlerp:function(t,e,n,r,i,o){return h(F,e,i,o),h(D,n,r,o),h(t,F,D,2*o*(1-o)),t},sqrLen:b,squaredLength:T,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},5809:(t,e,n)=>{n.d(e,{l:()=>a});var r=n(15941),i=n(34761),o=n(9392),s=n(4437),c=n(482),u=n(80963);function a(t,e,n,r){if(null==t||null==r)return!1;const o=(0,c.Qk)(t,c.Wv),a=(0,c.Qk)(r,c.zp);if(o===a&&!l(a)&&(o!==c.rz.UNKNOWN||(0,u.aI)(t,r)))return(0,i.kN)(n,e),!0;if(l(a)){const t=c.w5[o][c.rz.LON_LAT],r=c.w5[c.rz.LON_LAT][a];return null!=t&&null!=r&&(t(e,0,h,0),r(h,0,g,0),(0,s.y)(f*h[0],f*h[1],n),n[12]=g[0],n[13]=g[1],n[14]=g[2],!0)}if((a===c.rz.WEB_MERCATOR||a===c.rz.PLATE_CARREE||a===c.rz.WGS84)&&(o===c.rz.WGS84||o===c.rz.CGCS2000&&a===c.rz.PLATE_CARREE||o===c.rz.SPHERICAL_ECEF||o===c.rz.WEB_MERCATOR)){const t=c.w5[o][c.rz.LON_LAT],r=c.w5[c.rz.LON_LAT][a];return null!=t&&null!=r&&(t(e,0,h,0),r(h,0,g,0),o===c.rz.SPHERICAL_ECEF?(0,s.C)(f*h[0],f*h[1],n):(0,i.D_)(n),n[12]=g[0],n[13]=g[1],n[14]=g[2],!0)}return!1}function l(t){return t===c.rz.SPHERICAL_ECEF||t===c.rz.SPHERICAL_MARS_PCPF||t===c.rz.SPHERICAL_MOON_PCPF}const f=(0,r.kU)(1),h=(0,o.vt)(),g=(0,o.vt)()},4437:(t,e,n)=>{n.d(e,{C:()=>o,y:()=>i});var r=n(34761);function i(t,e,n){const r=Math.sin(t),i=Math.cos(t),o=Math.sin(e),s=Math.cos(e),c=n;return c[0]=-r,c[4]=-o*i,c[8]=s*i,c[12]=0,c[1]=i,c[5]=-o*r,c[9]=s*r,c[13]=0,c[2]=0,c[6]=s,c[10]=o,c[14]=0,c[3]=0,c[7]=0,c[11]=0,c[15]=1,c}function o(t,e,n){return i(t,e,n),(0,r.mg)(n,n),n}},64232:(t,e,n)=>{n.d(e,{W:()=>c,g:()=>s});var r=n(9392),i=n(9624),o=n(45308);function s(t,e,n,r){var s,c;if((0,i.canProjectWithoutEngine)(t.spatialReference,n)){var a;u[0]=t.x,u[1]=t.y;const i=t.z;return u[2]=null!==(a=null!==i&&void 0!==i?i:r)&&void 0!==a?a:0,(0,o.projectBuffer)(u,t.spatialReference,0,e,n,0,1)}const l=(0,i.tryProjectWithZConversion)(t,n);return!!l&&(e[0]=null===l||void 0===l?void 0:l.x,e[1]=null===l||void 0===l?void 0:l.y,e[2]=null!==(s=null!==(c=null===l||void 0===l?void 0:l.z)&&void 0!==c?c:r)&&void 0!==s?s:0,!0)}async function c(t,e,n,r,o){return await(0,i.initializeProjection)(t.spatialReference,n,null,o),s(t,e,n,r)}const u=(0,r.vt)()},98510:(t,e,n)=>{n.d(e,{GD:()=>s,Y0:()=>a,lO:()=>l});var r=n(34111),i=n(13312),o=n(80963);const s=new i.A(r.fv),c=new i.A(r.FY),u=new i.A(r.LJ),a=new i.A(r.Ro);function l(t){const e=f.get(t);if(e)return e;let n=s;if(t)if(t===c)n=c;else if(t===u)n=u;else{const e=t.wkid,i=t.latestWkid;if(null!=e||null!=i)(0,o.tl)(e)||(0,o.tl)(i)?n=c:((0,o.ZL)(e)||(0,o.ZL)(i))&&(n=u);else{var r;const e=null!==(r=t.wkt2)&&void 0!==r?r:t.wkt;if(e){const t=e.toUpperCase();t===h?n=c:t===g&&(n=u)}}}return f.set(t,n),n}const f=new Map,h=c.wkt.toUpperCase(),g=u.wkt.toUpperCase()},44815:(t,e,n)=>{n.d(e,{Ns:()=>u,jh:()=>i,l5:()=>s,s:()=>c,xm:()=>o});var r=n(78393);function i(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t<=r.y9?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function o(t){return((0,r.cy)(t)?t.length:t.byteLength/8)<=r.y9?Array.from(t):new Float64Array(t)}function s(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function c(t,e){for(let n=0;n<e.length;++n)t[n]=e[n];return t}function u(t){return Array.isArray(t)?new Float64Array(t):t}},38496:(t,e,n)=>{n.d(e,{Dg:()=>i,EH:()=>h,JH:()=>s,my:()=>o,tM:()=>l});var r=n(78393);function i(t){if((0,r.cy)(t)){if(t.length<r.y9)return t}else if(t.length<r.y9)return Array.from(t);let e=!0,n=!0;return t.some(((t,r)=>(e=e&&0===t,n=n&&t===r,!e&&!n))),e?h(t.length):n?l(t.length):(0,r.cy)(t)||t.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function(t){let e=!0;for(const n of t){if(n>=65536)return(0,r.cy)(t)?new Uint32Array(t):t;n>=256&&(e=!1)}return e?new Uint8Array(t):new Uint16Array(t)}(t):t}function o(t){return t<=r.y9?new Array(t):t<=65536?new Uint16Array(t):new Uint32Array(t)}function s(t){return t<=r.y9?new Array(t):new Uint32Array(t)}let c=(()=>{const t=new Uint32Array(131072);for(let e=0;e<t.length;++e)t[e]=e;return t})();const u=[0],a=(()=>{const t=new Uint16Array(65536);for(let e=0;e<t.length;++e)t[e]=e;return t})();function l(t){if(1===t)return u;if(t<r.y9)return Array.from(new Uint16Array(a.buffer,0,t));if(t<a.length)return new Uint16Array(a.buffer,0,t);if(t>c.length){const e=Math.max(2*c.length,t);c=new Uint32Array(e);for(let t=0;t<c.length;t++)c[t]=t}return new Uint32Array(c.buffer,0,t)}let f=new Uint8Array(65536);function h(t){if(1===t)return u;if(t<r.y9)return new Array(t).fill(0);if(t>f.length){const e=Math.max(2*f.length,t);f=new Uint8Array(e)}return new Uint8Array(f.buffer,0,t)}},14894:(t,e,n)=>{n.d(e,{A:()=>l});var r=n(35143),i=n(69098),o=n(42553),s=n(46053),c=(n(81806),n(76460),n(47249),n(6409)),u=n(85842);let a=class extends((0,i.O)(o.oY)){constructor(t){super(t),this.type="georeferenced",this.origin=null}};(0,r._)([(0,c.e)({georeferenced:"georeferenced"},{readOnly:!0})],a.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],a.prototype,"origin",void 0),a=(0,r._)([(0,u.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],a);const l=a},5845:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(35143),i=n(69098),o=n(42553),s=n(46053),c=(n(81806),n(76460),n(47249),n(6409)),u=n(85842),a=n(9392);let l=class extends((0,i.O)(o.oY)){constructor(t){super(t),this.type="local",this.origin=(0,a.vt)()}};(0,r._)([(0,c.e)({local:"local"},{readOnly:!0})],l.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"origin",void 0),l=(0,r._)([(0,u.$)("esri.geometry.support.MeshLocalVertexSpace")],l);const f=l},52896:(t,e,n)=>{n.d(e,{$I:()=>m,AU:()=>v,Cr:()=>h,g7:()=>M,i4:()=>f,ui:()=>g,up:()=>E,vt:()=>l,yo:()=>A});var r=n(15941),i=n(34761),o=n(60008),s=n(4336),c=n(20664),u=n(9392),a=n(55855);function l(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return[t[0],t[1],t[2],t[3]]}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,c.c)(n,t),n[3]=e,n}function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.vt)();return(0,c.b)(n,t,e),(0,c.n)(n,n),n[3]=-(0,c.d)(t,e),n}function g(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();const n=(0,i.l)(I,t);return p(e,(0,r.KJ)((0,o.Xd)(e,n))),e}function d(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,o.x8)(I,t,m(t)),(0,o.x8)(y,e,m(e)),(0,o.lw)(I,y,I),p(n,(0,r.KJ)((0,o.Xd)(n,I)))}function v(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l();return f(u.Cw,t,O),f(u.JP,e,N),f(u.Cb,n,_),d(O,N,O),d(O,_,r),r}function A(t){return t}function M(t){return t[3]}function m(t){return(0,r.kU)(t[3])}function p(t,e){return t[3]=e,t}const E=[0,0,1,0],I=(0,s.vt)(),y=(0,s.vt)(),O=(l(),l()),N=l(),_=l()},80066:(t,e,n)=>{n.d(e,{j:()=>i});var r=n(76460);const i=()=>r.A.getLogger("esri.views.3d.support.buffer.math")},44230:(t,e,n)=>{n.d(e,{C:()=>a,Cr:()=>f,H6:()=>v,_I:()=>g,dz:()=>A,fA:()=>l,kb:()=>h,ld:()=>M,sd:()=>d,vt:()=>u});var r=n(15941),i=n(97467),o=n(20664),s=n(9392),c=n(75762);function u(t){return t?{origin:(0,s.o8)(t.origin),vector:(0,s.o8)(t.vector)}:{origin:(0,s.vt)(),vector:(0,s.vt)()}}function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();return l(t.origin,t.vector,e)}function l(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u();return(0,o.c)(n.origin,t),(0,o.c)(n.vector,e),n}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u();return(0,o.c)(n.origin,t),(0,o.f)(n.vector,e,t),n}function h(t,e){const n=(0,o.f)(c.rq.get(),e,t.origin),i=(0,o.k)(t.vector,n),s=(0,o.k)(t.vector,t.vector),u=(0,r.qE)(i/s,0,1),a=(0,o.f)(c.rq.get(),(0,o.h)(c.rq.get(),t.vector,u),n);return(0,o.k)(a,a)}function g(t,e,n){return v(t,e,0,1,n)}function d(t,e,n){return(0,o.g)(n,t.origin,(0,o.h)(n,t.vector,e))}function v(t,e,n,i,s){const{vector:u,origin:a}=t,l=(0,o.f)(c.rq.get(),e,a),f=(0,o.k)(u,l)/(0,o.p)(u);return(0,o.h)(s,u,(0,r.qE)(f,n,i)),(0,o.g)(s,s,t.origin)}function A(t,e){if(m(t,function(t,e){const n=E.get();return n.origin=t,n.vector=e,n}(e.origin,e.direction),!1,p)){const{tA:e,pB:n,distance2:r}=p;if(e>=0&&e<=1)return r;if(e<0)return(0,o.a)(t.origin,n);if(e>1)return(0,o.a)((0,o.g)(c.rq.get(),t.origin,t.vector),n)}return null}function M(t,e,n){return!!m(t,e,!0,p)&&((0,o.c)(n,p.pA),!0)}function m(t,e,n,i){const s=1e-6,u=t.origin,a=(0,o.g)(c.rq.get(),u,t.vector),l=e.origin,f=(0,o.g)(c.rq.get(),l,e.vector),h=c.rq.get(),g=c.rq.get();if(h[0]=u[0]-l[0],h[1]=u[1]-l[1],h[2]=u[2]-l[2],g[0]=f[0]-l[0],g[1]=f[1]-l[1],g[2]=f[2]-l[2],Math.abs(g[0])<s&&Math.abs(g[1])<s&&Math.abs(g[2])<s)return!1;const d=c.rq.get();if(d[0]=a[0]-u[0],d[1]=a[1]-u[1],d[2]=a[2]-u[2],Math.abs(d[0])<s&&Math.abs(d[1])<s&&Math.abs(d[2])<s)return!1;const v=h[0]*g[0]+h[1]*g[1]+h[2]*g[2],A=g[0]*d[0]+g[1]*d[1]+g[2]*d[2],M=h[0]*d[0]+h[1]*d[1]+h[2]*d[2],m=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],p=(d[0]*d[0]+d[1]*d[1]+d[2]*d[2])*m-A*A;if(Math.abs(p)<s)return!1;let E=(v*A-M*m)/p,I=(v+A*E)/m;n&&(E=(0,r.qE)(E,0,1),I=(0,r.qE)(I,0,1));const y=c.rq.get(),O=c.rq.get();return y[0]=u[0]+E*d[0],y[1]=u[1]+E*d[1],y[2]=u[2]+E*d[2],O[0]=l[0]+I*g[0],O[1]=l[1]+I*g[1],O[2]=l[2]+I*g[2],i.tA=E,i.tB=I,i.pA=y,i.pB=O,i.distance2=(0,o.a)(y,O),!0}const p={tA:0,tB:0,pA:(0,s.vt)(),pB:(0,s.vt)(),distance2:0},E=new i.I((()=>u()))},99773:(t,e,n)=>{n.d(e,{CK:()=>h,Hq:()=>f,MW:()=>g,TE:()=>d,Uj:()=>v,by:()=>A,kp:()=>l});var r=n(63241),i=n(76460),o=n(13904),s=n(14894),c=n(5845),u=n(45136);function a(){return i.A.getLogger("esri.geometry.Mesh")}function l(t){var e;const{vertexSpace:n}=t;if(null!=n.origin)return t.clone();const{anchor:r}=t,i=r.clone(),o=new s.A({origin:[i.x,i.y,i.z]}),c=t.cloneWithVertexSpace(o),{position:a}=c.vertexAttributes;return c.vertexAttributes.position=(0,u.t)(new Float64Array(a.length),a,[-i.x,-i.y,-(null!==(e=i.z)&&void 0!==e?e:0)]),c.vertexAttributesChanged(),c}function f(t){return null!=t.origin}function h(t){return f(t.vertexSpace)}function g(t,e){if(!f(t))return null;const[n,r,i]=t.origin;return new o.A({x:n,y:r,z:i,spatialReference:e})}function d(t,e){const{x:n,y:i,z:o,spatialReference:u}=t,l=[n,i,null!==o&&void 0!==o?o:0];if(void 0!==(null===e||void 0===e?void 0:e.geographic)){if((0,r.io)(a(),"option: geographic",{replacement:"use vertexSpace option instead",version:"4.29",warnOnce:!0}),null===e||void 0===e||!e.vertexSpace)return null!==e&&void 0!==e&&e.geographic?new c.A({origin:l}):new s.A({origin:l});a().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")}if(null===e||void 0===e||!e.vertexSpace)return u.isGeographic||u.isWebMercator?new c.A({origin:l}):new s.A({origin:l});switch(e.vertexSpace){case"local":return new c.A({origin:l});case"georeferenced":return new s.A({origin:l});case"georeferenced-absolute":return new s.A}}function v(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}function A(t,e){return"local"===t?new c.A({origin:e}):new s.A({origin:e})}},13927:(t,e,n)=>{n.d(e,{$Q:()=>R,C:()=>f,Cr:()=>A,Io:()=>k,LV:()=>l,O_:()=>v,Qj:()=>h,T7:()=>P,Tj:()=>C,U5:()=>w,UB:()=>d,Ui:()=>S,Z1:()=>D,_I:()=>F,b6:()=>x,ci:()=>m,fA:()=>g,gv:()=>L,jb:()=>U,lU:()=>M,mN:()=>B,mP:()=>_,mR:()=>b,vt:()=>a,ze:()=>T});var r=n(15941),i=n(20664),o=n(9392),s=(n(43047),n(96190)),c=n(75762),u=n(94966);function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return[t[0],t[1],t[2],t[3]]}function l(){return g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:z[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:z[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:z[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:z[3],c.Km.get())}function f(t,e){return g(e[0],e[1],e[2],e[3],t)}function h(t){return t}function g(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a();return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function d(t,e,n){return(0,i.c)(n,t),n[3]=e,n}function v(t,e,n){const r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function A(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a();const i=n[0]-e[0],o=n[1]-e[1],s=n[2]-e[2],c=t[0]-e[0],u=t[1]-e[1],l=t[2]-e[2],f=o*l-s*u,h=s*c-i*l,g=i*u-o*c,d=f*f+h*h+g*g,v=Math.abs(d-1)>1e-5&&d>1e-12?1/Math.sqrt(d):1;return r[0]=f*v,r[1]=h*v,r[2]=g*v,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function M(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.floor(n*(1/3)),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.floor(n*(2/3));if(n<3)return!1;e(E,r);let c=o,u=!1;for(;c<n-1&&!u;)e(I,c),c++,u=!(0,i.j)(E,I);if(!u)return!1;for(c=Math.max(c,s),u=!1;c<n&&!u;)e(y,c),c++,(0,i.f)(O,E,I),(0,i.n)(O,O),(0,i.f)(N,I,y),(0,i.n)(N,N),u=!(0,i.j)(E,y)&&!(0,i.j)(I,y)&&Math.abs((0,i.k)(O,N))<p;return u?(A(E,I,y,t),!0):(0!==r||1!==o||2!==s)&&M(t,e,n,0,1,2)}function m(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.length/3;return M(t,((t,n)=>(0,i.s)(t,e[3*n+0],e[3*n+1],e[3*n+2])),n?r-1:r)}const p=.99619469809,E=(0,o.vt)(),I=(0,o.vt)(),y=(0,o.vt)(),O=(0,o.vt)(),N=(0,o.vt)();function _(t,e,n){return e!==t&&f(t,e),t[3]=-(0,i.k)(t,n),t}function T(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function b(t,e,n,r){return(0,i.b)(y,e,t),v(n,y,r)}function w(t,e,n,r){return q(t,e,(0,i.f)(c.rq.get(),n,e),G,r)}function S(t,e,n){return null!=e&&q(t,e.origin,e.direction,X,n)}function P(t,e,n){return q(t,e.origin,e.vector,V.NONE,n)}function L(t,e,n){return q(t,e.origin,e.vector,V.CLAMP,n)}function C(t,e){return B(t,e)>=0}function R(t,e){const n=(0,i.k)(t,e.ray.direction),r=-B(t,e.ray.origin);if(r<0&&n>=0)return!1;if(n>-1e-6&&n<1e-6)return r>0;if((r<0||n<0)&&!(r<0&&n<0))return!0;const o=r/n;return n>0?o<e.c1&&(e.c1=o):o>e.c0&&(e.c0=o),e.c0<=e.c1}function x(t,e){const n=(0,i.k)(t,e.ray.direction),r=-B(t,e.ray.origin);if(n>-1e-6&&n<1e-6)return r>0;const o=r/n;return n>0?o<e.c1&&(e.c1=o):o>e.c0&&(e.c0=o),e.c0<=e.c1}function F(t,e,n){const r=(0,i.h)(c.rq.get(),t,-t[3]),o=U(t,(0,i.f)(c.rq.get(),e,r),c.rq.get());return(0,i.g)(n,o,r),n}function D(t,e,n,r){const o=t,a=c.rq.get(),l=c.rq.get();(0,u.VV)(o,a,l);const f=(0,i.f)(c.rq.get(),n,e),h=(0,s.gr)(a,f),g=(0,s.gr)(l,f),d=(0,s.gr)(o,f);return(0,i.s)(r,h,g,d)}function U(t,e,n){const r=(0,i.h)(c.rq.get(),t,(0,i.k)(t,e));return(0,i.f)(n,e,r),n}function k(t,e){return Math.abs(B(t,e))}function B(t,e){return(0,i.k)(t,e)+t[3]}function q(t,e,n,o,s){const c=(0,i.k)(t,n);if(0===c)return!1;let u=-((0,i.k)(t,e)+t[3])/c;return o&V.CLAMP&&(u=(0,r.qE)(u,0,1)),!(!(o&V.INFINITE_MIN)&&u<0||!(o&V.INFINITE_MAX)&&u>1)&&((0,i.g)(s,e,(0,i.h)(s,n,u)),!0)}const z=[0,0,1,0];var V,j;(j=V||(V={}))[j.NONE=0]="NONE",j[j.CLAMP=1]="CLAMP",j[j.INFINITE_MIN=4]="INFINITE_MIN",j[j.INFINITE_MAX=8]="INFINITE_MAX";const G=V.INFINITE_MIN|V.INFINITE_MAX,X=V.INFINITE_MAX},45097:(t,e,n)=>{n.d(e,{Fm:()=>u,Q7:()=>a});var r=n(97467),i=n(20664),o=n(9392),s=n(44230);n(75762);function c(t){return t?{p0:(0,o.o8)(t.p0),p1:(0,o.o8)(t.p1),p2:(0,o.o8)(t.p2)}:{p0:(0,o.vt)(),p1:(0,o.vt)(),p2:(0,o.vt)()}}function u(t,e,n){const r=e[0]-t[0],i=e[1]-t[1],o=n[0]-t[0],s=n[1]-t[1];return.5*Math.abs(r*s-i*o)}function a(t,e,n){return(0,i.f)(l,e,t),(0,i.f)(f,n,t),.5*(0,i.l)((0,i.b)(l,l,f))}new r.I(s.vt),new r.I((()=>c()));const l=(0,o.vt)(),f=(0,o.vt)()},96190:(t,e,n)=>{n.d(e,{EJ:()=>a,_I:()=>s,g7:()=>u,gr:()=>c});var r=n(15941),i=n(20664),o=n(9392);function s(t,e,n){const r=(0,i.k)(t,e)/(0,i.k)(t,t);return(0,i.h)(n,t,r)}function c(t,e){return(0,i.k)(t,e)/(0,i.l)(t)}function u(t,e){const n=(0,i.k)(t,e)/((0,i.l)(t)*(0,i.l)(e));return-(0,r.XM)(n)}function a(t,e,n){(0,i.n)(l,t),(0,i.n)(f,e);const o=(0,i.k)(l,f),s=(0,r.XM)(o),c=(0,i.b)(l,l,f);return(0,i.k)(c,n)<0?2*Math.PI-s:s}const l=(0,o.vt)(),f=(0,o.vt)()},75762:(t,e,n)=>{n.d(e,{Rc:()=>d,J8:()=>v,oG:()=>f,rq:()=>h,Km:()=>g});var r=n(77944),i=n(44680),o=n(13191),s=n(4336),c=n(72745),u=n(9392),a=n(55855);class l{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new l(c.vt)}static createVec3f64(){return new l(u.vt)}static createVec4f64(){return new l(a.vt)}static createMat3f64(){return new l(i.vt)}static createMat4f64(){return new l(o.vt)}static createQuatf64(){return new l(s.vt)}get test(){return{length:this._items.length}}}const f=l.createVec2f64(),h=l.createVec3f64(),g=l.createVec4f64(),d=(l.createMat3f64(),l.createMat4f64()),v=l.createQuatf64()},10156:(t,e,n)=>{n.r(e),n.d(e,{assetMapFromAssetMapsJSON:()=>m,extractMesh:()=>A,meshFeatureSetFromJSON:()=>v});var r=n(39356),i=n(76460),o=n(87663),s=n(76797),c=n(18582),u=n(13904),a=n(13312),l=n(32186),f=n(57045),h=n(19463),g=n(77725);const d=()=>i.A.getLogger("esri.rest.support.meshFeatureSet");function v(t,e,n){var i;const o=n.features;n.features=[],delete n.geometryType;const s=g.A.fromJSON(n);if(s.geometryType="mesh",!n.assetMaps)return s;const c=m(e,n.assetMaps),u=null!==(i=t.sourceSpatialReference)&&void 0!==i?i:a.A.WGS84,l=n.globalIdFieldName,{outFields:f}=t,h=null!=f&&f.length>0?function(t){return e=>{let{attributes:n}=e;if(!n)return{};if(!t)return n;for(const r in n)t.has(r)||delete n[r];return n}}(f.includes("*")?null:new Set(f)):()=>({});for(const a of o){const t=A(a,l,u,e,c);null!=t&&s.features.push(new r.A({geometry:t,attributes:h(a)}))}return s}function A(t,e,n,r,i){const o=t.attributes[e],a=i.get(o);if(null==a)return d().error("mesh-feature-set:asset-not-found","Service returned a feature which was not found in the asset map",t),null;if(!t.geometry)return d().error("mesh-feature-set:no-geometry","Service returned a feature without geometry",t),null;const h=function(t,e,n){let{attributes:r}=t,{transformFieldRoles:i}=n;const o=r[i.originX],s=r[i.originY],c=r[i.originZ];return new u.A({x:o,y:s,z:c,spatialReference:e})}(t,n,r),g=s.A.fromJSON(t.geometry);g.spatialReference=n;const v=function(t,e){let{transformFieldRoles:n}=e;return new l.A({translation:[t[n.translationX],-t[n.translationZ],t[n.translationY]],rotationAxis:[t[n.rotationX],-t[n.rotationZ],t[n.rotationY]],rotationAngle:t[n.rotationDeg],scale:[t[n.scaleX],t[n.scaleZ],t[n.scaleY]]})}(t.attributes,r),A=n.isGeographic?"local":"georeferenced",m=function(t){const e=Array.from(t.files.values()),n=new Array;for(const r of e){if(r.status!==M.COMPLETED)return null;const t=new Array;for(const e of r.parts){if(!e)return null;t.push(new f.Bq(e.url,e.hash))}n.push(new f.Qp(r.name,r.mimeType,t))}return n}(a);return m?c.A.createWithExternalSource(h,m,{extent:g,transform:v,vertexSpace:A}):c.A.createIncomplete(h,{extent:g,transform:v,vertexSpace:A})}var M;function m(t,e){const n=new Map;for(const r of e){const e=r.parentGlobalId;if(null==e)continue;const i=r.assetName,s=r.assetType,c=r.assetHash,u=r.assetURL,a=r.conversionStatus,l=r.seqNo,f=(0,h.Fm)(s,t.supportedFormats);if(!f){d().error("mesh-feature-set:unknown-format","Service returned an asset of type ".concat(s,", but it does not list it as a supported type"));continue}const g=(0,o.tE)(n,e,(()=>({files:new Map})));(0,o.tE)(g.files,i,(()=>({name:i,type:s,mimeType:f,status:p(a),parts:[]}))).parts[l]={hash:c,url:u}}return n}function p(t){switch(t){case"COMPLETED":case"SUBMITTED":return M.COMPLETED;case"INPROGRESS":return M.PENDING;default:return M.FAILED}}!function(t){t[t.FAILED=0]="FAILED",t[t.PENDING=1]="PENDING",t[t.COMPLETED=2]="COMPLETED"}(M||(M={}))},94966:(t,e,n)=>{n.d(e,{BI:()=>l,VV:()=>a,YH:()=>u,e9:()=>v,g7:()=>g,hG:()=>s,is:()=>h,ix:()=>A,nu:()=>f,su:()=>d,wp:()=>c});var r=n(15941),i=n(20664),o=n(9392);function s(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],n=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],r=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}function c(t,e){const n=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),r=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),o=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return(0,i.s)(t,n,r,o),t}function u(t,e,n){n=n||t;const r=(0,i.k)(t,e);(0,i.s)(n,t[0]-r*e[0],t[1]-r*e[1],t[2]-r*e[2]),(0,i.n)(n,n)}function a(t,e,n){Math.abs(t[0])>Math.abs(t[1])?(0,i.s)(e,0,1,0):(0,i.s)(e,1,0,0),(0,i.b)(n,t,e),(0,i.b)(e,n,t),(0,i.n)(n,n),(0,i.n)(e,e)}function l(t,e,n,r,i,o){const s=t+(e-t)*i;return s+(n+(r-n)*i-s)*o}function f(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.vt)();const s=(0,i.l)(t),c=(0,i.l)(e),u=(0,i.k)(t,e)/(s*c);if(u<.9999999999999999){const o=Math.acos(u),a=((1-n)*s+n*c)/Math.sin(o),l=a/s*Math.sin((1-n)*o),f=a/c*Math.sin(n*o);return(0,i.h)(E,t,l),(0,i.h)(I,e,f),(0,i.g)(r,E,I)}return(0,i.m)(r,t,e,n)}function h(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.vt)(),s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,o.vt)();const c=(0,i.l)(t),u=(0,i.l)(e),a=(0,i.k)(t,e)/(c*u);if(a<.9999999999999999){const o=Math.acos(a),l=Math.sin(o),f=Math.sin(n*o),h=Math.sin((1-n)*o),g=(1-n)*c+n*u;{const n=g/l,o=n/u*f;(0,i.h)(E,t,n/c*h),(0,i.h)(I,e,o),(0,i.g)(r,E,I)}{const r=1/c*(-Math.cos((1-n)*o)*o*g+h*(-c+u));(0,i.h)(E,t,r);const a=1/u*(Math.cos(n*o)*o*g+f*(-c+u));(0,i.h)(I,e,a),(0,i.g)(s,E,I),(0,i.h)(s,s,1/l)}return s}return(0,i.m)(r,t,e,n),(0,i.f)(s,e,t),(0,i.n)(s,s),s}function g(t,e,n){t=(0,i.n)(E,t),e=(0,i.n)(I,e);const o=(0,r.XM)((0,i.k)(t,e));if(n){const r=(0,i.b)(p,t,e);if((0,i.k)(r,n)<0)return-o}return o}function d(t){const e=t.length;return n=>{if(n<=t[0][0])return t[0][1];if(n>=t[e-1][0])return t[e-1][1];let r=1;for(;n>t[r][0];)r++;const i=t[r-1][0],o=t[r][0],s=(o-n)/(o-i);return s*t[r-1][1]+(1-s)*t[r][1]}}function v(t,e,n,r){(0,i.f)(M,e,t),(0,i.f)(m,n,t),(0,i.b)(r,M,m),(0,i.n)(r,r),r[3]=-(0,i.k)(t,r)}function A(t,e){if((0,i.s)(e,0,0,0),t.length>0){for(let n=0;n<t.length;++n)(0,i.g)(e,e,t[n]);(0,i.h)(e,e,1/t.length)}}const M=(0,o.vt)(),m=(0,o.vt)(),p=(0,o.vt)(),E=(0,o.vt)(),I=(0,o.vt)()},50468:(t,e,n)=>{n.d(e,{K:()=>r,n:()=>i});class r{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this.data=t,this.size=e,this.stride=n}}class i extends r{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(t,n,arguments.length>4&&void 0!==arguments[4]?arguments[4]:n),this.indices=e,this.exclusive=r}}},85086:(t,e,n)=>{n.d(e,{j:()=>c});var r=n(30015),i=n(20664),o=n(9392),s=n(86994);class c{constructor(t,e,n){this.primitiveIndices=t,this._numIndexPerPrimitive=e,this.position=n,this._children=void 0,(0,s.vA)(t.length>=1),(0,s.vA)(3===n.size||4===n.size);const{data:r,size:c,indices:a}=n;(0,s.vA)(a.length%this._numIndexPerPrimitive==0),(0,s.vA)(a.length>=t.length*this._numIndexPerPrimitive);const l=t.length;let f=c*a[this._numIndexPerPrimitive*t[0]];u.clear(),u.push(f);const h=(0,o.fA)(r[f],r[f+1],r[f+2]),g=(0,o.o8)(h);for(let i=0;i<l;++i){const e=this._numIndexPerPrimitive*t[i];for(let t=0;t<this._numIndexPerPrimitive;++t){f=c*a[e+t],u.push(f);let n=r[f];h[0]=Math.min(n,h[0]),g[0]=Math.max(n,g[0]),n=r[f+1],h[1]=Math.min(n,h[1]),g[1]=Math.max(n,g[1]),n=r[f+2],h[2]=Math.min(n,h[2]),g[2]=Math.max(n,g[2])}}this.bbMin=h,this.bbMax=g;const d=(0,i.m)((0,o.vt)(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(g[0]-h[0],g[1]-h[1]),g[2]-h[2]);let v=this.radius*this.radius;for(let i=0;i<u.length;++i){f=u.at(i);const t=r[f]-d[0],e=r[f+1]-d[1],n=r[f+2]-d[2],o=t*t+e*e+n*n;if(o<=v)continue;const s=Math.sqrt(o),c=.5*(s-this.radius);this.radius=this.radius+c,v=this.radius*this.radius;const a=c/s;d[0]+=t*a,d[1]+=e*a,d[2]+=n*a}this.center=d,u.clear()}getChildren(){if(this._children||(0,i.a)(this.bbMin,this.bbMax)<=1)return this._children;const t=(0,i.m)((0,o.vt)(),this.bbMin,this.bbMax,.5),e=this.primitiveIndices.length,n=new Uint8Array(e),r=new Array(8);for(let i=0;i<8;++i)r[i]=0;const{data:s,size:u,indices:a}=this.position;for(let i=0;i<e;++i){let e=0;const o=this._numIndexPerPrimitive*this.primitiveIndices[i];let c=u*a[o],l=s[c],f=s[c+1],h=s[c+2];for(let t=1;t<this._numIndexPerPrimitive;++t){c=u*a[o+t];const e=s[c],n=s[c+1],r=s[c+2];e<l&&(l=e),n<f&&(f=n),r<h&&(h=r)}l<t[0]&&(e|=1),f<t[1]&&(e|=2),h<t[2]&&(e|=4),n[i]=e,++r[e]}let l=0;for(let i=0;i<8;++i)r[i]>0&&++l;if(l<2)return;const f=new Array(8);for(let i=0;i<8;++i)f[i]=r[i]>0?new Uint32Array(r[i]):void 0;for(let i=0;i<8;++i)r[i]=0;for(let i=0;i<e;++i){const t=n[i];f[t][r[t]++]=this.primitiveIndices[i]}this._children=new Array;for(let i=0;i<8;++i)void 0!==f[i]&&this._children.push(new c(f[i],this._numIndexPerPrimitive,this.position));return this._children}static prune(){u.prune()}}const u=new r.A({deallocator:null})},73146:(t,e,n)=>{n.d(e,{J:()=>i});var r=n(90632);class i{constructor(){this.id=(0,r.c)()}}},87634:(t,e,n)=>{var r;n.d(e,{X:()=>r}),function(t){t[t.Layer=0]="Layer",t[t.Object=1]="Object",t[t.Mesh=2]="Mesh",t[t.Line=3]="Line",t[t.Point=4]="Point",t[t.Material=5]="Material",t[t.Texture=6]="Texture",t[t.COUNT=7]="COUNT"}(r||(r={}))},51799:(t,e,n)=>{n.d(e,{V:()=>y});var r=n(13191),i=n(20664),o=n(38496),s=n(78393);function c(t){if(t.length<s.y9)return Array.from(t);if((0,s.cy)(t))return Float64Array.from(t);if(!("BYTES_PER_ELEMENT"in t))return Array.from(t);switch(t.BYTES_PER_ELEMENT){case 1:return Uint8Array.from(t);case 2:return(0,s.jq)(t)?Uint16Array.from(t):Int16Array.from(t);case 4:return Float32Array.from(t);default:return Float64Array.from(t)}}var u=n(83490),a=n(85086),l=n(73146),f=n(87634),h=n(9392),g=n(45097);const d=(0,h.vt)(),v=(0,h.vt)(),A=(0,h.vt)(),M=(0,h.vt)();var m=n(35416),p=n(86994),E=n(66470),I=n(68967);class y extends l.J{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.X.Mesh,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;super(),this.material=t,this.mapPositions=n,this.type=r,this.objectAndLayerIdColor=i,this.edgeIndicesLength=s,this.visible=!0,this._attributes=new Map,this._boundingInfo=null;for(const[c,u]of e)this._attributes.set(c,{...u,indices:(0,o.Dg)(u.indices)}),c===E.r.POSITION&&(this.edgeIndicesLength=this.edgeIndicesLength<0?this._attributes.get(c).indices.length:this.edgeIndicesLength)}instantiate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=new y(t.material||this.material,[],this.mapPositions,this.type,this.objectAndLayerIdColor,this.edgeIndicesLength);return this._attributes.forEach(((t,n)=>{t.exclusive=!1,e._attributes.set(n,t)})),e._boundingInfo=this._boundingInfo,e.transformation=t.transformation||this.transformation,e}get attributes(){return this._attributes}getMutableAttribute(t){let e=this._attributes.get(t);return e&&!e.exclusive&&(e={...e,exclusive:!0,data:c(e.data)},this._attributes.set(t,e)),e}setAttributeData(t,e){const n=this._attributes.get(t);n&&this._attributes.set(t,{...n,exclusive:!0,data:e})}get indexCount(){var t;const e=this._attributes.values().next().value.indices;return null!==(t=null===e||void 0===e?void 0:e.length)&&void 0!==t?t:0}get faceCount(){return this.indexCount/3}get boundingInfo(){return null==this._boundingInfo&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}computeAttachmentOrigin(t){return!!(this.type===f.X.Mesh?this._computeAttachmentOriginTriangles(t):this.type===f.X.Line?this._computeAttachmentOriginLines(t):this._computeAttachmentOriginPoints(t))&&(null!=this._transformation&&(0,i.e)(t,t,this._transformation),!0)}_computeAttachmentOriginTriangles(t){return function(t,e){if(!t)return!1;const{size:n,data:r,indices:o}=t;(0,i.s)(e,0,0,0),(0,i.s)(M,0,0,0);let s=0,c=0;for(let u=0;u<o.length-2;u+=3){const t=o[u]*n,a=o[u+1]*n,l=o[u+2]*n;(0,i.s)(d,r[t],r[t+1],r[t+2]),(0,i.s)(v,r[a],r[a+1],r[a+2]),(0,i.s)(A,r[l],r[l+1],r[l+2]);const f=(0,g.Q7)(d,v,A);f?((0,i.g)(d,d,v),(0,i.g)(d,d,A),(0,i.h)(d,d,1/3*f),(0,i.g)(e,e,d),s+=f):((0,i.g)(M,M,d),(0,i.g)(M,M,v),(0,i.g)(M,M,A),c+=3)}return(0!==c||0!==s)&&(0!==s?((0,i.h)(e,e,1/s),!0):0!==c&&((0,i.h)(e,M,1/c),!0))}(this.attributes.get(E.r.POSITION),t)}_computeAttachmentOriginLines(t){const e=this.attributes.get(E.r.POSITION);return function(t,e,n){if(!t)return!1;(0,i.s)(n,0,0,0),(0,i.s)(M,0,0,0);let r=0,o=0;const{size:s,data:c,indices:u}=t,a=u.length-1,l=a+(e?2:0);for(let f=0;f<l;f+=2){const t=f<a?f+1:0,e=u[f<a?f:a]*s,l=u[t]*s;d[0]=c[e],d[1]=c[e+1],d[2]=c[e+2],v[0]=c[l],v[1]=c[l+1],v[2]=c[l+2],(0,i.h)(d,(0,i.g)(d,d,v),.5);const h=(0,i.o)(d,v);h>0?((0,i.g)(n,n,(0,i.h)(d,d,h)),r+=h):0===r&&((0,i.g)(M,M,d),o++)}return 0!==r?((0,i.h)(n,n,1/r),!0):0!==o&&((0,i.h)(n,M,1/o),!0)}(e,function(t,e){return!(!("isClosed"in t)||!t.isClosed)&&e.indices.length>2}(this.material.parameters,e),t)}_computeAttachmentOriginPoints(t){return function(t,e){if(!t)return!1;const{size:n,data:r,indices:o}=t;(0,i.s)(e,0,0,0);let s=-1,c=0;for(let i=0;i<o.length;i++){const t=o[i]*n;s!==t&&(e[0]+=r[t],e[1]+=r[t+1],e[2]+=r[t+2],c++),s=t}return c>1&&(0,i.h)(e,e,1/c),c>0}(this.attributes.get(E.r.POSITION),t)}invalidateBoundingInfo(){this._boundingInfo=null}_calculateBoundingInfo(){const t=this.attributes.get(E.r.POSITION);if(!t||0===t.indices.length)return null;const e=this.type===f.X.Mesh?3:1;(0,p.vA)(t.indices.length%e==0,"Indexing error: "+t.indices.length+" not divisible by "+e);const n=(0,o.tM)(t.indices.length/e);return new a.j(n,e,t)}get transformation(){var t;return null!==(t=this._transformation)&&void 0!==t?t:r.zK}set transformation(t){this._transformation=t&&t!==r.zK?(0,r.o8)(t):null}addHighlight(){const t=new m.X(u.Mg.Highlight);return this.highlights=(0,I.Ci)(this.highlights,t),t}removeHighlight(t){this.highlights=(0,I.PC)(this.highlights,t)}}},35416:(t,e,n)=>{n.d(e,{X:()=>i});var r=n(90632);class i{constructor(t){this.channel=t,this.id=(0,r.c)()}}},86994:(t,e,n)=>{n.d(e,{Cv:()=>f,L:()=>l,MX:()=>u,M_:()=>g,O_:()=>a,kL:()=>h,vA:()=>c,zH:()=>d});var r=n(72745),i=n(43047);const o=(0,n(55855).vt)();class s{constructor(t){this.message=t}toString(){return"AssertException: ".concat(this.message)}}function c(t,e){if(!t){e=e||"Assertion";const t=new Error(e).stack;throw new s("".concat(e," at ").concat(t))}}function u(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function a(t,e,n,r){let i,o=(n[0]-t[0])/e[0],s=(r[0]-t[0])/e[0];o>s&&(i=o,o=s,s=i);let c=(n[1]-t[1])/e[1],u=(r[1]-t[1])/e[1];if(c>u&&(i=c,c=u,u=i),o>u||c>s)return!1;c>o&&(o=c),u<s&&(s=u);let a=(n[2]-t[2])/e[2],l=(r[2]-t[2])/e[2];return a>l&&(i=a,a=l,l=i),!(o>l||a>s)&&(l<s&&(s=l),!(s<0))}function l(t,e,n,i,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,r.vt)();const c=(i[o]-n[o])*(e[0]-t[0])-(i[0]-n[0])*(e[o]-t[o]),u=(i[0]-n[0])*(t[o]-n[o])-(i[o]-n[o])*(t[0]-n[0]);if(0===c)return!1;const a=u/c;return s[0]=t[0]+a*(e[0]-t[0]),s[1]=t[o]+a*(e[o]-t[o]),!0}function f(t,e,n,r,s){o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=1,(0,i.t)(o,o,e),s.length>2&&(s[2]=-o[2]),(0,i.t)(o,o,n),c(0!==o[3]),s[0]=o[0]/o[3],s[1]=o[1]/o[3],s[2]=o[2]/o[3],s[0]=(.5*s[0]+.5)*r[2]+r[0],s[1]=(.5*s[1]+.5)*r[3]+r[1]}function h(t,e){return Math.log(t)/Math.log(e)}function g(t,e,n,r){t[12]=e,t[13]=n,t[14]=r}function d(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}},66470:(t,e,n)=>{var r;function i(t){return t===r.POSITION}n.d(e,{b:()=>i,r:()=>r}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))},83490:(t,e,n)=>{var r,i,o,s,c,u,a,l,f;n.d(e,{Am:()=>s,C7:()=>o,ID:()=>l,JS:()=>f,Mg:()=>u,dd:()=>c,it:()=>i,s2:()=>r,sf:()=>a}),function(t){t[t.None=0]="None",t[t.Front=1]="Front",t[t.Back=2]="Back",t[t.COUNT=3]="COUNT"}(r||(r={})),function(t){t[t.Less=0]="Less",t[t.Lequal=1]="Lequal",t[t.COUNT=2]="COUNT"}(i||(i={})),function(t){t[t.BACKGROUND=0]="BACKGROUND",t[t.UPDATE=1]="UPDATE"}(o||(o={})),function(t){t[t.NOT_LOADED=0]="NOT_LOADED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(s||(s={})),function(t){t[t.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",t[t.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(c||(c={})),function(t){t[t.Highlight=0]="Highlight",t[t.MaskOccludee=1]="MaskOccludee",t[t.COUNT=2]="COUNT"}(u||(u={})),function(t){t[t.Blend=0]="Blend",t[t.Opaque=1]="Opaque",t[t.Mask=2]="Mask",t[t.MaskBlend=3]="MaskBlend",t[t.COUNT=4]="COUNT"}(a||(a={})),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON"}(l||(l={})),function(t){t.DDS_ENCODING="image/vnd-ms.dds",t.KTX2_ENCODING="image/ktx2",t.BASIS_ENCODING="image/x.basis"}(f||(f={}))},68967:(t,e,n)=>{n.d(e,{Ci:()=>o,PC:()=>s,Vk:()=>c});var r=n(9392),i=n(99643);function o(t,e){return null==t&&(t=[]),t.push(e),t}function s(t,e){if(null==t)return null;const n=t.filter((t=>t!==e));return 0===n.length?null:n}function c(t,e,n,r,o){u[0]=t.get(e,0),u[1]=t.get(e,1),u[2]=t.get(e,2),(0,i.jS)(u,a,3),n.set(o,0,a[0]),r.set(o,0,a[1]),n.set(o,1,a[2]),r.set(o,1,a[3]),n.set(o,2,a[4]),r.set(o,2,a[5])}const u=(0,r.vt)(),a=new Float32Array(6)},99643:(t,e,n)=>{function r(t,e,n){for(let r=0;r<n;++r)e[2*r]=t[r],e[2*r+1]=t[r]-e[2*r]}function i(t,e){const n=t.length;for(let r=0;r<n;++r)s[0]=t[r],e[r]=s[0];return e}function o(t,e){const n=t.length;for(let r=0;r<n;++r)s[0]=t[r],s[1]=t[r]-s[0],e[r]=s[1];return e}n.d(e,{Zo:()=>i,jA:()=>o,jS:()=>r});const s=new Float32Array(2)}}]);
//# sourceMappingURL=78978.6c4a25ad.chunk.js.map