"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[51140],{51140:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Se});var s=i(35143),l=i(46053),n=i(21403),o=(i(47249),i(81806),i(85842)),a=i(25329),r=i(91967),h=i(19276),d=i(3975),c=i(76460),u=i(50346),v=i(68134),p=i(82740),_=i(90770);const g=e=>t=>{var i;const s=e.toLowerCase();return null!==(i=t.sublayers.find((e=>{var t;return(null===(t=e.modelName)||void 0===t?void 0:t.toLowerCase())===s})))&&void 0!==i?i:null},y=g("fullmodel"),b=g("overview");function f(e){const t=y(e);null!=t&&(t.visible=!0);const i=b(e);null!=i&&(i.visible=!1)}function m(e,t){const i=function(e,t){var i,s,l;const n=null!==(i=null===(s=e.summaryStatistics)||void 0===s?void 0:s.fields)&&void 0!==i?i:[],o=t.toLowerCase();return null!==(l=n.find((e=>{var t;return(null===(t=e.modelName)||void 0===t?void 0:t.toLowerCase())===o})))&&void 0!==l?l:null}(e,t);if(null==i)return null;const s=i.fieldName;if(null==s||!s)return null;const l=function(e,t){for(const s of e.allSublayers.items){var i;const e="building-component"===s.type?null===(i=s.getFieldDomain)||void 0===i?void 0:i.call(s,t):null;if(e&&"coded-value"===e.type)return e}return null}(e,s),n=new Map;for(const a of null!==(o=i.mostFrequentValues)&&void 0!==o?o:[]){var o;"number"==typeof a&&n.set(a,null!=l?l.getName(a):String(a))}return{fieldName:s,fieldValueMap:n}}let w=class extends r.A{constructor(){super(...arguments),this.id="root",this.parent=null,this.children=new h.A,this.layers=new h.A,this.level=0,this.collapsed=!0,this._childIds=new Set,this._layerUniqueIds=new Set}initialize(){this.addHandles([this.layers.on("before-add",(e=>{this._layerUniqueIds.has(e.item.uid)?e.preventDefault():this._layerUniqueIds.add(e.item.uid)})),this.layers.on("after-add",(e=>{let{item:t}=e;this.addHandles([(0,v.watch)((()=>t.visible),(()=>this.notifyChange("visible")),v.initial),(0,v.watch)((()=>t.title),(()=>this.notifyChange("title")),v.initial)],t.uid)})),this.layers.on("before-remove",(e=>{let{item:t}=e;this.removeHandles(t.uid),this.notifyChange("title"),this.notifyChange("visible")})),this.children.on("before-add",(e=>{this._childIds.has(e.item.id)?e.preventDefault():(e.item._set("parent",this),this._childIds.add(e.item.id))}))])}destroy(){this.children.forEach((e=>e.destroy()))}get hasChildren(){return this.children.length>0}get isRoot(){return 0===this.level}get isLeaf(){return!this.hasChildren}get isDiscipline(){return 1===this.level}get visible(){return M(this.layers,(e=>e.visible))}get title(){return M(this.layers,(e=>e.title))||this.layers.items.map((e=>e.title)).join(", ")||null}toggleVisibility(e){const t=void 0===e?!this.visible:e;this.layers.forEach((e=>{e.visible=t})),t&&null!=this.parent&&this.parent.toggleVisibility(!0)}toggleCollapsed(e){this.collapsed=void 0===e?!this.collapsed:e}expand(){this.collapsed=!1}expandAll(){this.expand(),this.children.forEach((e=>e.expandAll()))}collapse(){this.collapsed=!0}collapseAll(){this.collapse(),this.children.forEach((e=>e.collapseAll()))}toggleAllSiblingsVisibility(e){const t=void 0===e?!this.visible:e;this.toggleVisibility(t),null!=this.parent&&(this.parent.toggleVisibility(t),this.parent.children.forEach((e=>e.toggleVisibility(t))))}};function M(e,t){let i=null;for(const s of e.items){const e=t(s);if(null!=i&&i!==e)return null;i=e}return i}function L(){let e=new AbortController;return async t=>{e.abort(),e=new AbortController;const i={signal:e.signal},s=t.toArray().map((e=>async function(e,t){await e.load(t),await e.loadAll(),(0,u.Te)(t),e.summaryStatistics&&await e.summaryStatistics.load(t)}(e,i)));await Promise.all(s),(0,u.Te)(i)}}(0,s._)([(0,l.MZ)({nonNullable:!0})],w.prototype,"id",void 0),(0,s._)([(0,l.MZ)()],w.prototype,"parent",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0,readOnly:!0})],w.prototype,"children",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0,readOnly:!0})],w.prototype,"layers",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],w.prototype,"level",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],w.prototype,"collapsed",void 0),(0,s._)([(0,l.MZ)({readOnly:!0})],w.prototype,"hasChildren",null),(0,s._)([(0,l.MZ)({readOnly:!0})],w.prototype,"isRoot",null),(0,s._)([(0,l.MZ)({readOnly:!0})],w.prototype,"isLeaf",null),(0,s._)([(0,l.MZ)({readOnly:!0})],w.prototype,"isDiscipline",null),(0,s._)([(0,l.MZ)({readOnly:!0})],w.prototype,"visible",null),(0,s._)([(0,l.MZ)({readOnly:!0})],w.prototype,"title",null),w=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.support.LayerTreeNode")],w);let x=class extends r.A{constructor(e){super(e),this.root=new w,this.state="disabled",this._loadLayers=L(),this.layers=new h.A}initialize(){this.addHandles(this.layers.on("change",(()=>this._onLayersChange()))),this._onLayersChange()}destroy(){this._set("state","disabled"),this.root.destroy()}set layers(e){const t=this._get("layers");this._set("layers",(0,d.V)(e,t))}_updateLayerTree(){this.root.destroy(),this._set("root",new w({collapsed:!1}));const e=new Map,t=this.layers.length>1?"modelName":"id";return this.layers.forEach((i=>{const s=y(i);this._addNodesForSublayers(null!==s&&void 0!==s?s:i,this.root,e,t)})),this}_addNodeForLayer(e,t,i,s){const l=String(e[s]).toLowerCase();if(null==l||e.isEmpty)return;const n="".concat(t.id,"/").concat(l);let o=i.get(n);o||(o=new w({id:l,level:t.level+1}),i.set(n,o)),o.layers.push(e),t.children.push(o),this._addNodesForSublayers(e,o,i,s)}_addNodesForSublayers(e,t,i,s){("building-scene"===e.type||"building-group"===e.type&&!e.isEmpty)&&e.sublayers.forEach((e=>this._addNodeForLayer(e,t,i,s)))}async _onLayersChange(){if(this._set("state","loading"),0!==this.layers.length)try{await this._loadLayers(this.layers),this._updateLayerTree(),this._set("state","ready")}catch(e){(0,u.zf)(e)||this._set("state","failed")}}};(0,s._)([(0,l.MZ)({readOnly:!0})],x.prototype,"root",void 0),(0,s._)([(0,l.MZ)({type:h.A,nonNullable:!0})],x.prototype,"layers",null),(0,s._)([(0,l.MZ)({readOnly:!0,nonNullable:!0})],x.prototype,"state",void 0),x=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingDisciplineViewModel")],x);const C=x;var P=i(18690);function Z(e){const t={fieldValueMap:new Map,allowedValues:[]};for(const i of e){const e=i.fieldValueMap,s=t.fieldValueMap;e.forEach(((e,i)=>{s.has(i)||(s.set(i,e),t.allowedValues.push(i))}))}return t.allowedValues.sort(((e,t)=>e-t)),t}function k(e,t){return t.allowedValues.length>0?function(e,t){if(0===t.length)return e;if(e===1/0)return t[t.length-1];if(e===-1/0)return t[0];let i=t[0],s=Math.abs(i-e);for(const l of t){const t=Math.abs(l-e);t<s&&(i=l,s=t)}return i}(e,t.allowedValues):null}let V=class extends r.A{constructor(e){super(e),this.state="disabled",this._valueBeforeReady=null,this._domainInfo=Z([]),this._loadLayers=L(),this.layers=new h.A}initialize(){this.addHandles(this.layers.on("change",(()=>this._onLayersChange()))),this._onLayersChange()}destroy(){this._set("state","disabled")}get enabled(){return this.allowedValues.length>0&&this._get("enabled")}set enabled(e){e!==this.enabled&&this.allowedValues.length>0&&this._set("enabled",e)}get value(){var e;return null!==(e="ready"===this.state?this._get("value"):this._valueBeforeReady)&&void 0!==e?e:0}set value(e){if("ready"!==this.state)return void(this._valueBeforeReady=e);if(e===this.value)return;const t=k(e,this);null!=t&&this._set("value",t)}get min(){return function(e){let t=null;for(const i of e)t=null!=t?Math.min(t,i):i;return t}(this.allowedValues)}get max(){return function(e){let t=null;for(const i of e)t=null!=t?Math.max(t,i):i;return t}(this.allowedValues)}get allowedValues(){return this._domainInfo.allowedValues}get hasNext(){if(!this.enabled)return!0;const e=this._valueIndex;return e>=0&&e<this.allowedValues.length-1}get hasPrevious(){return!this.enabled||this._valueIndex>0}set layers(e){const t=this._get("layers");this._set("layers",(0,d.V)(e,t))}get filterExpressions(){return{solid:null,xRay:null}}get _valueIndex(){return(0,P.FQ)(this.allowedValues,this.value)}select(e){"ready"===this.state?null!=k(e,this)&&(this.enabled=!0,this.value=e):this._valueBeforeReady=e}clear(){"ready"===this.state?this.enabled=!1:this._valueBeforeReady=null}next(){const{state:e,allowedValues:t,enabled:i,hasNext:s,_valueIndex:l}=this;if("ready"===e||null==this._valueBeforeReady){if(0!==t.length)return i?void(s&&(this.value=t[l+1])):(this.enabled=!0,void(this.value=t[0]))}else this._valueBeforeReady++}previous(){const{state:e,allowedValues:t,enabled:i,hasPrevious:s,_valueIndex:l}=this;if("ready"===e||null==this._valueBeforeReady){if(0!==t.length)return i?void(s&&(this.value=t[l-1])):(this.enabled=!0,void(this.value=t[t.length-1]))}else this._valueBeforeReady++}getValueLabel(e){var t;return 0===this.layers.length?null:null!==(t=this._domainInfo.fieldValueMap.get(e))&&void 0!==t?t:null}async _onLayersChange(){if(this._set("state","loading"),this._domainInfo=Z([]),0!==this.layers.length)try{await this._loadLayers(this.layers),this._setup()}catch(e){(0,u.zf)(e)||this._set("state","failed")}}};(0,s._)([(0,l.MZ)({value:!1,nonNullable:!0})],V.prototype,"enabled",null),(0,s._)([(0,l.MZ)({nonNullable:!0})],V.prototype,"value",null),(0,s._)([(0,l.MZ)({readOnly:!0})],V.prototype,"min",null),(0,s._)([(0,l.MZ)({readOnly:!0})],V.prototype,"max",null),(0,s._)([(0,l.MZ)({readOnly:!0})],V.prototype,"allowedValues",null),(0,s._)([(0,l.MZ)({readOnly:!0})],V.prototype,"hasNext",null),(0,s._)([(0,l.MZ)({readOnly:!0})],V.prototype,"hasPrevious",null),(0,s._)([(0,l.MZ)({type:h.A,nonNullable:!0})],V.prototype,"layers",null),(0,s._)([(0,l.MZ)({nonNullable:!0})],V.prototype,"state",void 0),(0,s._)([(0,l.MZ)()],V.prototype,"_valueBeforeReady",void 0),(0,s._)([(0,l.MZ)({readOnly:!0})],V.prototype,"_valueIndex",null),(0,s._)([(0,l.MZ)()],V.prototype,"_domainInfo",void 0),V=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingNumericFilterViewModel")],V);const E=V;var N=i(49723),S=i(3244),A=i(73539),B=i(48650);const F="__BUILDING_EXPLORER_FILTER__";function K(e){const t="string"==typeof e?e:e.id;return!!t&&t.includes(F)}function W(e,t){for(const i of e.items)for(const e of i.filters.items){if(!K(e))continue;const i=t(e);if(null!=i)return i}return null}function D(e,t){e.forEach((e=>{const i=e.filters.filter((e=>!K(e)));null!=t&&i.push(t),function(e,t){const i=t.length;if(null==e||e.length!==i)return!1;for(let s=0;s<i;++s){const i=t.at(s).toJSON(),l=e.at(s).toJSON();if(i.id="",l.id="",JSON.stringify(i)!==JSON.stringify(l))return!1}return!0}(e.filters,i)||(e.filters=i);const s=e.filters.find((e=>K(e)));e.activeFilterId=null!=s?s.id:null}))}function O(e){return e.filter((e=>!!e)).map((e=>"(".concat(e,")"))).join(" AND ")}let R=class extends E{constructor(){super(...arguments),this._levelFieldName=null,this._parseValueFromFilter=e=>{const t=new RegExp("".concat(this._levelFieldName,"\\s*=\\s*(\\d+)"),"gi"),i=new RegExp("".concat(this._levelFieldName,"\\s*<\\s*(\\d+)"),"gi");for(const{filterMode:n,filterExpression:o}of null!==(s=null===(l=e.filterBlocks)||void 0===l?void 0:l.items)&&void 0!==s?s:[]){var s,l;if(null==o)continue;let e=null;if("solid"===n.type?e=t.exec(o):"x-ray"===n.type&&(e=i.exec(o)),e)return parseInt(e[1],10)}return null}}get filterExpressions(){return this.enabled&&this._levelFieldName?{xRay:"".concat(this._levelFieldName," < ").concat(this.value),solid:"".concat(this._levelFieldName," = ").concat(this.value)}:{solid:null,xRay:null}}get _firstValue(){const e=this.allowedValues;return e.length>0?e[0]:0}_setup(){const e=[];this.layers.forEach((t=>{const i=m(t,"bldglevel");null!=i&&(this._levelFieldName=i.fieldName,e.push(i))})),this._domainInfo=Z(e);const t=this._valueBeforeReady;this._set("state","ready"),this._valueBeforeReady=null;const i=null!==t&&void 0!==t?t:W(this.layers,this._parseValueFromFilter);null!=i?this.select(i):(this.enabled=!1,this.value=this._firstValue)}};(0,s._)([(0,l.MZ)({readOnly:!0})],R.prototype,"filterExpressions",null),(0,s._)([(0,l.MZ)()],R.prototype,"_levelFieldName",void 0),(0,s._)([(0,l.MZ)({readOnly:!0})],R.prototype,"_firstValue",null),R=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingLevel")],R);const I=R;let H=class extends E{constructor(){super(...arguments),this._createdPhaseFieldName=null,this._demolishedPhaseFieldName=null,this._parseValueFromFilter=e=>{const t=this._createdPhaseFieldName,i=new RegExp("".concat(t,"\\s*<=\\s*(\\d+)\\s*OR\\s*").concat(t,"\\s*IS\\s*NULL"),"gi"),s=this._demolishedPhaseFieldName,l=new RegExp("".concat(s,"\\s*>\\s*(\\d+)\\s*OR\\s*").concat(s,"\\s*IS\\s*NULL"),"gi");for(const{filterExpression:r}of null!==(n=null===(o=e.filterBlocks)||void 0===o?void 0:o.items)&&void 0!==n?n:[]){var n,o,a;const e=r?null!==(a=i.exec(r))&&void 0!==a?a:l.exec(r):null;if(e)return parseInt(e[1],10)}return null}}get filterExpressions(){if(!this.enabled)return{solid:null,xRay:null};const e=[],t=this._createdPhaseFieldName;t&&e.push("(".concat(t," <= ").concat(this.value," OR ").concat(t," IS NULL)"));const i=this._demolishedPhaseFieldName;i&&e.push("(".concat(i," > ").concat(this.value," OR ").concat(i," IS NULL)"));const s=e.join(" AND ");return{solid:s,xRay:s}}get _lastValue(){const e=this.allowedValues;return e.length>0?e[e.length-1]:0}_setup(){const e=[];this.layers.forEach((t=>{const i=m(t,"createdphase");null!=i&&(this._createdPhaseFieldName=i.fieldName,e.push(i));const s=m(t,"demolishedphase");null!=s&&(this._demolishedPhaseFieldName=s.fieldName,e.push(s))})),this._domainInfo=Z(e);const t=this._valueBeforeReady;if(this._set("state","ready"),this._valueBeforeReady=null,this.allowedValues.length>0){const e=null!==t&&void 0!==t?t:W(this.layers,this._parseValueFromFilter);this.select(null!==e&&void 0!==e?e:this._lastValue)}else this.clear()}};(0,s._)([(0,l.MZ)({readOnly:!0})],H.prototype,"filterExpressions",null),(0,s._)([(0,l.MZ)()],H.prototype,"_createdPhaseFieldName",void 0),(0,s._)([(0,l.MZ)()],H.prototype,"_demolishedPhaseFieldName",void 0),(0,s._)([(0,l.MZ)({readOnly:!0})],H.prototype,"_lastValue",null),H=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingPhase")],H);const T=H;let z=class extends r.A{constructor(e){super(e),this.view=null,this.state="disabled",this.level=new I,this.phase=new T,this.disciplines=new C,this._loadLayers=L(),this.layers=new h.A}initialize(){this.addHandles([this.layers.on("change",(()=>this._onLayersChange())),(0,v.watch)((()=>({state:this.state,layers:this.layers,filter:this._filter})),(e=>{let{state:t,layers:i,filter:s}=e;"ready"===t&&D(i,s)}),{initial:!0})]),this._onLayersChange()}destroy(){this.level.destroyed||this.level.destroy(),this.phase.destroyed||this.phase.destroy(),this.disciplines.destroyed||this.disciplines.destroy()}get isSupported(){var e;return"3d"===(null===(e=this.view)||void 0===e?void 0:e.type)}get layers(){return this._get("layers")}set layers(e){const t=e.filter((e=>e instanceof p.default));t.length!==e.length&&c.A.getLogger(this).error("Some layers are not BuildingSceneLayers but only BuildingSceneLayers can be passed to the widget."),this._set("layers",(0,d.V)(t,this._get("layers")))}get _filter(){const e=this.level.filterExpressions,t=this.phase.filterExpressions,i=[],s=function(e){const t=O(e);return t?new S.A({filterExpression:t,filterMode:new A.A}):null}([e.solid,t.solid]);null!=s&&i.push(s);const l=function(e){const t=O(e);return t?new S.A({filterExpression:t,filterMode:new B.A}):null}([e.xRay,t.xRay]);return null!=l&&i.push(l),0===i.length?null:new _.A({id:"".concat((0,N.lk)()).concat(F),name:"Building Explorer Filter",filterBlocks:i})}async _onLayersChange(){const e=this.layers;if(this.level.layers=e,this.phase.layers=e,this.disciplines.layers=e,0!==e.length){this._set("state","loading");try{await this._loadLayers(e),await Promise.all([(0,v.whenOnce)((()=>"ready"===this.level.state)),(0,v.whenOnce)((()=>"ready"===this.phase.state)),(0,v.whenOnce)((()=>"ready"===this.disciplines.state))]),e.forEach(f),this._set("state","ready")}catch(t){(0,u.zf)(t)||this._set("state","failed")}}else this._set("state","disabled")}};(0,s._)([(0,l.MZ)({value:null})],z.prototype,"view",void 0),(0,s._)([(0,l.MZ)()],z.prototype,"isSupported",null),(0,s._)([(0,l.MZ)({type:h.A,nonNullable:!0})],z.prototype,"layers",null),(0,s._)([(0,l.MZ)({readOnly:!0})],z.prototype,"state",void 0),(0,s._)([(0,l.MZ)({readOnly:!0,type:I})],z.prototype,"level",void 0),(0,s._)([(0,l.MZ)({readOnly:!0,type:T})],z.prototype,"phase",void 0),(0,s._)([(0,l.MZ)({readOnly:!0,type:C})],z.prototype,"disciplines",void 0),(0,s._)([(0,l.MZ)()],z.prototype,"_filter",null),z=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingExplorerViewModel")],z);const U=z;var $=i(15062);const q="esri-building-explorer",j={base:q,widgetIcon:$.T.organization,panelError:"".concat(q,"__panel--error"),loadingContainer:"".concat(q,"__loading-container"),content:"".concat(q,"__content"),section:"".concat(q,"__section"),levels:"".concat(q,"__levels"),phases:"".concat(q,"__phases"),disciplines:"".concat(q,"__disciplines")};var G,J=i(76099),Q=i(54761);const X={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},Y="esri-building-disciplines-tree-node",ee={base:Y,root:"".concat(Y,"--root"),leaf:"".concat(Y,"--leaf"),label:"".concat(Y,"__label"),checkbox:"".concat(Y,"__checkbox"),checkboxChecked:"".concat(Y,"__checkbox--checked"),checkboxIndeterminate:"".concat(Y,"__checkbox--indeterminate"),collapseToggle:"".concat(Y,"__collapse-toggle"),collapseToggleCollapsed:"".concat(Y,"__collapse-toggle--collapsed"),children:"".concat(Y,"__children"),level:e=>"".concat(Y,"--level-").concat(e)};let te=G=class extends a.A{constructor(e){super(e),this.messages=X,this.toggleSiblingsVisibility=!1,this._childWidgets=[],this._updateChildWidgets=()=>{this._destroyChildWidgets(),this._childWidgets=this.node.children.toArray().reverse().map((e=>new G({node:e,messages:this.messages,toggleSiblingsVisibility:this.toggleSiblingsVisibility})))}}initialize(){this.addHandles([(0,v.on)((()=>this.node.children),"after-changes",this._updateChildWidgets,{onListenerAdd:this._updateChildWidgets,onListenerRemove:this._updateChildWidgets}),(0,v.watch)((()=>[this.messages,this.toggleSiblingsVisibility]),this._updateChildWidgets,v.initial)])}destroy(){this._destroyChildWidgets()}render(){const e=this.node,t=e.isRoot,i=e.isLeaf;return e.isDiscipline&&i?(0,Q.K)("div",{key:"".concat(e.id,"-empty")}):(0,Q.K)("div",{"aria-expanded":e.collapsed?"false":"true",bind:this,class:this.classes(ee.base,ee.level(e.level),{[ee.root]:t,[ee.leaf]:i}),key:e.id,onkeydown:this._onKeydown,role:"treeitem",tabIndex:i?void 0:0},(0,Q.K)("label",{bind:this,class:ee.label,onclick:this._onCheckboxToggle},this._renderCollapseToggle(),this._renderCheckbox(),(0,Q.K)("span",null,e.title)),this._renderChildren(e))}_renderCheckbox(){var e,t;const i=this.node.visible,s=!0===i,l=null===i,n=s?null===(e=this.messages)||void 0===e?void 0:e.hideSublayer:null===(t=this.messages)||void 0===t?void 0:t.showSublayer;return(0,Q.K)("button",{"aria-checked":s?"true":"false","aria-label":n,bind:this,class:this.classes(ee.checkbox,{[ee.checkboxChecked]:s,[$.T.checkMark]:s,[ee.checkboxIndeterminate]:l,[$.T.minus]:l}),onclick:this._onCheckboxToggle,role:"checkbox",title:n,type:"button"})}_renderCollapseToggle(){var e,t;if(!this.node.hasChildren)return null;const i=this.node.collapsed,s=i?null===(e=this.messages)||void 0===e?void 0:e.expand:null===(t=this.messages)||void 0===t?void 0:t.collapse;return(0,Q.K)("div",{"aria-label":s,bind:this,class:this.classes(ee.collapseToggle,$.T.right,{[ee.collapseToggleCollapsed]:i}),onclick:this._onCollapseToggle,title:s})}_renderChildren(e){return!e.hasChildren||e.collapsed?null:(0,Q.K)("div",{class:ee.children},this._childWidgets.map((e=>e.render())))}_onKeydown(e){switch(e.key){case"Space":case"Enter":if(!e.target.classList.contains(ee.base))return;e.stopPropagation(),this.node.toggleVisibility();break;case"ArrowLeft":e.stopPropagation(),this.node.toggleCollapsed(!(0,J.V8)(this.container));break;case"ArrowRight":e.stopPropagation(),this.node.toggleCollapsed((0,J.V8)(this.container))}}_onCheckboxToggle(e){e.preventDefault(),e.stopPropagation(),(e.metaKey||e.ctrlKey)&&this.toggleSiblingsVisibility?this.node.toggleAllSiblingsVisibility():this.node.toggleVisibility()}_onCollapseToggle(e){e.preventDefault(),e.stopPropagation(),this.node.toggleCollapsed()}_destroyChildWidgets(){this._childWidgets.forEach((e=>e.destroy())),this._childWidgets=[]}};(0,s._)([(0,l.MZ)({type:w})],te.prototype,"node",void 0),(0,s._)([(0,l.MZ)()],te.prototype,"messages",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],te.prototype,"toggleSiblingsVisibility",void 0),(0,s._)([(0,l.MZ)()],te.prototype,"_childWidgets",void 0),te=G=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesNode")],te);const ie=te,se={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},le="esri-building-disciplines-tree";let ne=class extends a.A{constructor(e){super(e),this.toggleSiblingsVisibility=!1}render(){var e;const{vm:t}=this,i=this.toggleSiblingsVisibility,s=null!==(e=this.messages)&&void 0!==e?e:se;return(0,Q.K)("div",{class:le,role:"tree"},t.root.children.toArray().reverse().map((e=>(0,Q.K)(ie,{messages:s,node:e,toggleSiblingsVisibility:i}))))}};(0,s._)([(0,l.MZ)()],ne.prototype,"vm",void 0),(0,s._)([(0,l.MZ)()],ne.prototype,"messages",void 0),(0,s._)([(0,l.MZ)()],ne.prototype,"toggleSiblingsVisibility",void 0),ne=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesTree")],ne);const oe=ne;var ae=i(79053),re=i(15941);const he=Object.freeze(Object.defineProperty({__proto__:null,alphaLevelDependencyFactor:30,alphaSpreadFactor:10,levelHeightDefault:14,levelHoveredExtraHeight:30,levelHoveredExtraWidth:20,levelWidthConstant:40,levelWidthMax:80,levelWidthMin:30,levelWidthNominator:100,levelsMarginFactor:2,levelsPadding:20,levelsPointerAdjustment:.035},Symbol.toStringTag,{value:"Module"})),de="esri-building-level-picker",ce={container:de,noLevel:"".concat(de,"--no-level"),animateLevel:"".concat(de,"--animate-level"),levelsContainer:"".concat(de,"__levels-container"),innerLevelsContainer:"".concat(de,"__inner-levels-container"),labelContainer:"".concat(de,"__label-container"),arrowUp:"".concat(de,"__arrow-up"),arrowDown:"".concat(de,"__arrow-down")},ue="esri-building-level-picker-label",ve={base:ue,active:"".concat(ue,"--active"),hover:"".concat(ue,"--hover"),empty:"".concat(ue,"--empty"),clearButton:"".concat(ue,"__clear-button")},pe={clearLevel:"",selectLevel:""};let _e=class extends a.A{constructor(e,t){super(e,t),this.level=null,this.active=!1,this.hovering=!1,this.onClear=()=>{}}render(){var e;const t=null!==(e=this.messages)&&void 0!==e?e:pe;if(null==this.level)return(0,Q.K)("div",{class:ve.empty,title:t.selectLevel},t.selectLevel);const i=t.clearLevel;return(0,Q.K)("div",{"aria-label":i,bind:this,class:this.classes(ve.base,{[ve.active]:this.active,[ve.hover]:this.hovering}),onclick:this.onClear,title:i},(0,Q.K)("span",null,this.level),(0,Q.K)("button",{bind:this,class:this.classes(ve.clearButton,$.T.close),disabled:!this.active,onclick:this.onClear,type:"button"}))}};(0,s._)([(0,l.MZ)()],_e.prototype,"level",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],_e.prototype,"active",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],_e.prototype,"hovering",void 0),(0,s._)([(0,l.MZ)()],_e.prototype,"messages",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],_e.prototype,"onClear",void 0),_e=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingLevelPicker.Label")],_e);const ge="esri-building-level-picker-item",ye={container:ge,base:"".concat(ge,"__base"),hover:"".concat(ge,"--hover"),active:"".concat(ge,"--active")};let be=class extends a.A{constructor(e,t){super(e,t),this.active=!1,this.hovering=!1,this.width=0,this.height=0,this.onSelect=()=>{},this.onFocus=()=>{},this.onBlur=()=>{},this._baseElement=null}render(){return(0,Q.K)("div",{bind:this,class:this.classes(ye.container,{[ye.active]:this.active,[ye.hover]:this.hovering}),key:this,styles:{height:"".concat(this.height,"px")}},this._renderBase())}focus(){null!=this._baseElement&&this._baseElement.focus()}_renderBase(){var e;const t=this.width,i=.8*this.width;return(0,Q.K)("div",{class:ye.base,styles:{width:"".concat(Math.round(t),"px"),height:"".concat(Math.round(t),"px")}},(0,Q.K)("button",{afterCreate:J.cA,"aria-label":this.label,bind:this,class:"rect","data-node-ref":"_baseElement",onblur:this.onBlur,onclick:this.onSelect,onfocus:this.onFocus,styles:{width:"".concat(Math.round(i),"px"),height:"".concat(Math.round(i),"px")},tabIndex:-1,title:null!==(e=this.label)&&void 0!==e?e:"",type:"button"}))}};(0,s._)([(0,l.MZ)({nonNullable:!0})],be.prototype,"level",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],be.prototype,"active",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],be.prototype,"hovering",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],be.prototype,"width",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],be.prototype,"height",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],be.prototype,"onSelect",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],be.prototype,"onFocus",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],be.prototype,"onBlur",void 0),be=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingLevelPicker.LevelItem")],be);var fe=i(98108);const me={selectLevel:"selectLevel",clearLevel:"clearLevel",nextLevel:"nextLevel",previousLevel:"previousLevel",currentLevel:"{{value}}"};let we=class extends a.A{constructor(e,t){super(e,t),this._levelHandlesKey="levelHandles",this._levelEventHandlesKey="levelEventHandles",this._levelWidgets=[],this._labelWidget=new _e({onClear:()=>this.vm.clear()}),this._hoveredLevel=null,this._expandedLevelsHeight=void 0,this._normalizedPointerPosition=0,this._hovering=!1,this._containerPosTop=null,this._levelsContainer=null,this._onPointerUp=()=>{var e;if(null!==(e=window.getSelection())&&void 0!==e&&e.removeAllRanges(),null==this._hoveredLevel)return;const{vm:t}=this;t.enabled&&this._hoveredLevel===t.value?t.clear():t.select(this._hoveredLevel)},this._onPointerEnter=()=>{var e;this._hovering||null==this._levelsContainer||(this._hovering=!0,this._containerPosTop=null!==(e=this._levelsContainer.getBoundingClientRect().top)&&void 0!==e?e:0)},this._onPointerLeave=()=>{this._hovering&&(this._normalizedPointerPosition=0,this._hoveredLevel=null,this._hovering=!1)},this._onPointerMove=e=>{var t;if(!this._hovering)return!1;if(null!==(t=window.getSelection())&&void 0!==t&&t.removeAllRanges(),null!=this._containerPosTop){const t=this._containerPosTop,i=40,s=this._expandedLevelsMargin;let l=this._levelsHeight,n=t+i+s;const o=this._levelHeight/2;n+=o,l-=o;let a=(e.clientY-n)/l;a+=.035,this._normalizedPointerPosition=a}return!1}}postInitialize(){this.addHandles([(0,v.watch)((()=>this._levelsContainer),(()=>this._onContainerChange()),v.initial),(0,v.watch)((()=>this._levels),(()=>this._createLevelWidgets()),v.initial),(0,v.watch)((()=>this.messages),(()=>{var e;this._labelWidget.messages=null!==(e=this.messages)&&void 0!==e?e:me}),v.initial)])}destroy(){this._levelWidgets.forEach((e=>e.destroy())),this._labelWidget.destroy()}get _levels(){return this.vm.allowedValues}get _numLevels(){return this._levels.length}get _levelsHeight(){return Math.round(this._levelHeight*this._numLevels)}get _expandedLevelsMargin(){var e;return Math.round(((null!==(e=this._expandedLevelsHeight)&&void 0!==e?e:0)-this._levelsHeight)/2)}get _levelWidth(){const{levelWidthNominator:e,levelWidthConstant:t}=he,i=e/Math.sqrt(this._numLevels)+t;return Math.round((0,re.qE)(i,30,80))}get _levelHeight(){const e=28/Math.sqrt(this._numLevels);return Math.round((0,re.qE)(e,2,14))}get _gaussianFactor(){const e=this._numLevels;return e/Math.log(30*e)*10}get _levelClosestToPointer(){if(!this._hovering)return null;const e=this._numLevels-1,t=this._normalizedPointerPosition;return e>=0&&null!=t?this._levels[Math.round((1-t)*e)]:null}render(){const e=this._levelWidgets.length,t=e>1?this._levelWidgets.map((e=>e.render())):null,i=this._levelsHeight,s=i+80;return(0,Q.K)("div",{bind:this,class:this.classes(fe.D.widget,ce.container,{[ce.animateLevel]:!this._hovering,[ce.noLevel]:e<2}),key:this,onkeydown:this._onKeyDown},this._renderLabelContainer(),(0,Q.K)("div",{afterCreate:J.cA,bind:this,class:ce.levelsContainer,"data-node-ref":"_levelsContainer",onfocus:this._onFocus,styles:{height:"".concat(s,"px"),marginTop:"".concat(-20,"px"),marginBottom:"".concat(-20,"px")}},(0,Q.K)("div",{class:ce.innerLevelsContainer,styles:{height:"".concat(i,"px"),margin:20-this._expandedLevelsMargin+"px 0 0 0"}},t)))}_renderLabelContainer(){var e;const t=null!==(e=this.messages)&&void 0!==e?e:me,i=t.previousLevel,s=t.nextLevel;return(0,Q.K)("div",{class:ce.labelContainer,tabIndex:0},(0,Q.K)("button",{"aria-label":s,bind:this,class:ce.arrowUp,disabled:!this.vm.hasNext,onclick:this._onArrowUpClick,title:s,type:"button"}),this._labelWidget.render(),(0,Q.K)("button",{"aria-label":i,bind:this,class:ce.arrowDown,disabled:!this.vm.hasPrevious,onclick:this._onArrowDownClick,title:i,type:"button"}))}_updateComponents(){var e;const t=null!==(e=this.messages)&&void 0!==e?e:me,i=this.vm.enabled?this.vm.value:null,s=null!=this._hoveredLevel?this._hoveredLevel:i;this._levelWidgets.forEach((e=>{var s;const l=this.vm.getValueLabel(e.level);e.label=null!=l?l:null===(s=t.currentLevel)||void 0===s?void 0:s.replace("{{level}}",String(e.level)),e.active=e.level===i,e.hovering=e.level===this._hoveredLevel})),this._labelWidget.level=s,this._labelWidget.active=s===i,this._labelWidget.hovering=null!=this._hoveredLevel}_createLevelWidgets(){this._levelWidgets.forEach((e=>e.destroy())),this._levelWidgets=this._levels.map((e=>new be({level:e,onSelect:()=>this._onLevelToggle(e)}))),this.removeHandles(this._levelHandlesKey),this.addHandles([(0,v.watch)((()=>{const{vm:e}=this;return[this.messages,null===e||void 0===e?void 0:e.value,null===e||void 0===e?void 0:e.enabled,this._hoveredLevel,this._hovering]}),(()=>this._updateComponents()),v.initial),(0,v.watch)((()=>[this._normalizedPointerPosition,this._hovering]),(()=>this._onPointerPositionChange()),v.initial),(0,v.watch)((()=>this._levelWidth),(e=>this._levelWidgets.forEach((t=>t.width=e))),v.initial)],this._levelHandlesKey)}_onContainerChange(){const e=this._levelsContainer;null!=e&&(this.removeHandles(this._levelEventHandlesKey),this.addHandles([(0,ae.on)(e,"pointerenter",this._onPointerEnter),(0,ae.on)(e,"pointerover",this._onPointerEnter),(0,ae.on)(e,"pointerleave",this._onPointerLeave),(0,ae.on)(e,"pointerup",this._onPointerUp),(0,ae.on)(e,"pointermove",this._onPointerMove)],this._levelEventHandlesKey))}_onKeyDown(e){switch(e.key){case"ArrowDown":case"ArrowLeft":e.preventDefault(),e.stopPropagation(),this.vm.previous(),this._focusCurrentLevel();break;case"ArrowUp":case"ArrowRight":e.preventDefault(),e.stopPropagation(),this.vm.next(),this._focusCurrentLevel()}}_focusCurrentLevel(){const e=this._levelWidgets.find((e=>e.level===this.vm.value));null===e||void 0===e||e.focus()}_onFocus(){this._hoveredLevel=this._levels.length>0?this._levels[0]:null}_onLevelToggle(e){const{vm:t}=this;t.enabled&&t.value===e?t.clear():t.select(e)}_onArrowUpClick(){this.vm.next()}_onArrowDownClick(){this.vm.previous()}_onPointerPositionChange(){let e=0;this._levelWidgets.forEach(((t,i)=>{const{width:s,height:l}=this._getLevelWidgetSize(i);t.height=l,t.width=s,e+=l})),this._hoveredLevel=this._levelClosestToPointer;const t=this._expandedLevelsHeight;(null==t||Math.abs(t-e)>30)&&(this._expandedLevelsHeight=e)}_getLevelWidgetSize(e){const t={width:this._levelWidth,height:this._levelHeight};if(this._hovering){const i=this._getGaussianFactor(e,this._normalizedPointerPosition);t.width+=20*i,t.height+=30*i}return t}_getGaussianFactor(e,t){const i=this._numLevels-1,s=(i-e)/i,l=this._gaussianFactor*(s-t);return Math.exp(-(l**2))}};(0,s._)([(0,l.MZ)()],we.prototype,"vm",void 0),(0,s._)([(0,l.MZ)()],we.prototype,"messages",void 0),(0,s._)([(0,l.MZ)()],we.prototype,"_levelWidgets",void 0),(0,s._)([(0,l.MZ)()],we.prototype,"_labelWidget",void 0),(0,s._)([(0,l.MZ)()],we.prototype,"_hoveredLevel",void 0),(0,s._)([(0,l.MZ)()],we.prototype,"_levels",null),(0,s._)([(0,l.MZ)()],we.prototype,"_numLevels",null),(0,s._)([(0,l.MZ)({readOnly:!0})],we.prototype,"_levelsHeight",null),(0,s._)([(0,l.MZ)()],we.prototype,"_expandedLevelsHeight",void 0),(0,s._)([(0,l.MZ)({readOnly:!0})],we.prototype,"_expandedLevelsMargin",null),(0,s._)([(0,l.MZ)({readOnly:!0})],we.prototype,"_levelWidth",null),(0,s._)([(0,l.MZ)({readOnly:!0})],we.prototype,"_levelHeight",null),(0,s._)([(0,l.MZ)({readOnly:!0})],we.prototype,"_gaussianFactor",null),(0,s._)([(0,l.MZ)({readOnly:!0})],we.prototype,"_levelClosestToPointer",null),(0,s._)([(0,l.MZ)({type:Number,range:{min:0,max:1}})],we.prototype,"_normalizedPointerPosition",void 0),(0,s._)([(0,l.MZ)()],we.prototype,"_hovering",void 0),(0,s._)([(0,l.MZ)()],we.prototype,"_containerPosTop",void 0),(0,s._)([(0,l.MZ)()],we.prototype,"_levelsContainer",void 0),we=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingLevelPicker.BuildingLevelPicker")],we);const Me=we,Le={nextPhase:"nextPhase",previousPhase:"previousPhase",currentPhase:"{{value}}"},xe="esri-building-phase-picker",Ce={container:"".concat(xe),phasesContainer:"".concat(xe,"__phases-container"),phase:"".concat(xe,"__phase"),phaseActive:"".concat(xe,"__phase--active"),phaseCurrent:"".concat(xe,"__phase--current"),divider:"".concat(xe,"__divider"),dividerActive:"".concat(xe,"__divider--active"),arrowLeft:"".concat(xe,"__arrow-left"),arrowRight:"".concat(xe,"__arrow-right")};let Pe=class extends a.A{constructor(e,t){super(e,t),this._phasesContainer=null,this._shouldScrollCurrentPhaseIntoView=!0,this._shouldFocusCurrentPhase=!1,this._onKeyDown=e=>{const{vm:t}=this;switch(e.key){case"ArrowDown":case"ArrowLeft":e.stopPropagation(),e.preventDefault(),t.previous(),this._shouldFocusCurrentPhase=!0;break;case"ArrowUp":case"ArrowRight":e.stopPropagation(),e.preventDefault(),t.next(),this._shouldFocusCurrentPhase=!0}},this._onArrowLeftClick=()=>{this.vm.previous()},this._onArrowRightClick=()=>{this.vm.next()},this._onPhasesContainerAfterCreate=e=>{this._phasesContainer=e,requestAnimationFrame(this._scrollOrFocusPhase)},this._scrollOrFocusPhase=()=>{const e=this._phasesContainer;if(this.destroyed||null==e)return;const t=e.querySelector(".".concat(Ce.phaseCurrent));if(t){if(this._shouldScrollCurrentPhaseIntoView){const i=e.offsetWidth,s=t.offsetLeft,l=t.offsetWidth;e.scrollLeft=-i/2+s-l/2,this._shouldScrollCurrentPhaseIntoView=!1}this._shouldFocusCurrentPhase&&(t.focus(),this._shouldFocusCurrentPhase=!1)}}}initialize(){this.addHandles((0,v.watch)((()=>[this._currentPhase,this._phasesContainer,this.container]),(()=>{this._shouldScrollCurrentPhaseIntoView=!0,requestAnimationFrame(this._scrollOrFocusPhase)}),v.initial))}get _phases(){return this.vm.allowedValues}get _currentPhase(){const{vm:e}=this;return e.enabled?e.value:null}render(){if(this._phases.length<2)return(0,Q.K)("div",{key:"no-phases"});const{vm:e,container:t,messages:i}=this,{previousPhase:s,nextPhase:l}=null!==i&&void 0!==i?i:Le,n=(0,J.V8)(t);return(0,Q.K)("div",{class:this.classes(fe.D.widget,Ce.container),key:this,onkeydown:this._onKeyDown},(0,Q.K)("button",{"aria-label":s,class:n?Ce.arrowRight:Ce.arrowLeft,disabled:!e.hasPrevious,onclick:this._onArrowLeftClick,title:s,type:"button"}),(0,Q.K)("div",{afterCreate:this._onPhasesContainerAfterCreate,class:Ce.phasesContainer},this._renderPhaseButtons()),(0,Q.K)("button",{"aria-label":l,class:n?Ce.arrowLeft:Ce.arrowRight,disabled:!e.hasNext,onclick:this._onArrowRightClick,title:l,type:"button"}))}_renderPhaseButtons(){const e=this._phases,t=this._currentPhase,i=[];for(let s=0;s<e.length;++s){const l=e[s],n={phase:l,active:null!=t&&l<=t,current:null!=t&&l===t};s>0&&i.push(this._renderDivider(n)),i.push(this._renderPhaseButton(n))}return i}_renderPhaseButton(e){let{phase:t,active:i,current:s}=e;const{vm:l}=this,n=l.getValueLabel(t);return(0,Q.K)("button",{"aria-label":n,class:this.classes(Ce.phase,{[Ce.phaseActive]:i,[Ce.phaseCurrent]:s}),key:"phase-".concat(t),onclick:()=>l.select(t),title:n,type:"button"},t)}_renderDivider(e){let{phase:t,active:i}=e;return(0,Q.K)("div",{class:this.classes(Ce.divider,{[Ce.dividerActive]:i}),key:"phase-divider-".concat(t)})}};(0,s._)([(0,l.MZ)({nonNullable:!0})],Pe.prototype,"vm",void 0),(0,s._)([(0,l.MZ)()],Pe.prototype,"messages",void 0),(0,s._)([(0,l.MZ)()],Pe.prototype,"_phases",null),(0,s._)([(0,l.MZ)()],Pe.prototype,"_currentPhase",null),(0,s._)([(0,l.MZ)()],Pe.prototype,"_phasesContainer",void 0),Pe=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer.BuildingPhasePicker.BuildingPhasePicker")],Pe);const Ze=Pe;var ke=i(87540),Ve=i(63582);const Ee={levels:!0,phases:!0,disciplines:!0};let Ne=class extends a.A{constructor(e,t){super(e,t),this._defaultViewModel=new U,this.viewModel=this._defaultViewModel,this.visibleElements={...Ee},this.headingLevel=3,this.iconClass=j.widgetIcon,this.icon=null,this.messages=null,this.messagesCommon=null,this.toggleSiblingsVisibility=!1}destroy(){this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get layers(){return this.viewModel.layers}set layers(e){this.viewModel.layers=e}_castVisibleElements(e){return{...Ee,...e}}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}render(){const e=this.viewModel,t="disabled"===e.state||!e.isSupported;return(0,Q.K)("div",{"aria-label":this.messages.widgetLabel,class:(0,J.Ly)(fe.D.widget,j.base,fe.D.panel,{[fe.D.widgetDisabled]:t}),key:this},this._renderContent())}_renderContent(){const e=this.viewModel,t=this.messages;if(!e.isSupported)return(0,Q.K)("p",{class:j.panelError},t.unsupported);if(!e.layers.length)return(0,Q.K)("p",{class:j.panelError},t.noData);switch(e.state){case"loading":return this._renderLoadingIndicator();case"ready":return(0,Q.K)("div",{class:j.content,key:"content"},this._renderLevelPickerSection(),this._renderPhasePickerSection(),this._renderDisciplinesSection());case"failed":return(0,Q.K)("p",{class:j.panelError},t.failed);default:return null}}_renderLoadingIndicator(){const e=this.messagesCommon.loading;return(0,Q.K)("div",{"aria-label":e,class:j.loadingContainer,key:"loading-container",role:"presentation",title:e},(0,Q.K)("span",{"aria-hidden":"true",class:(0,J.Ly)($.T.loadingIndicator,fe.D.rotating)}))}_renderLevelPickerSection(){var e;const t=this.viewModel.level,i="ready"===t.state,s=t.allowedValues.length>1;if(!this.visibleElements.levels||!i||!s)return null;const l=null===(e=this.messages)||void 0===e?void 0:e.level;return(0,Q.K)("div",{class:(0,J.Ly)(j.section,j.levels),key:"levels"},(0,Q.K)(ke.D,{level:this.headingLevel},null===l||void 0===l?void 0:l.title),(0,Q.K)(Me,{messages:l,vm:t}))}_renderPhasePickerSection(){const e=this.viewModel.phase,t="ready"===e.state,i=e.allowedValues.length>1;if(!this.visibleElements.phases||!t||!i)return null;const s=this.messages.phase;return(0,Q.K)("div",{class:(0,J.Ly)(j.section,j.phases),key:"phases"},(0,Q.K)(ke.D,{level:this.headingLevel},s.title),(0,Q.K)(Ze,{messages:s,vm:e}))}_renderDisciplinesSection(){var e;const t=this.viewModel.disciplines,i="ready"===t.state,s=t.root.hasChildren;if(!this.visibleElements.disciplines||!i||!s)return null;const l=null===(e=this.messages)||void 0===e?void 0:e.disciplines;return(0,Q.K)("div",{class:(0,J.Ly)(j.section,j.disciplines),key:"disciplines"},(0,Q.K)(ke.D,{level:this.headingLevel},l.title),(0,Q.K)(oe,{messages:l,toggleSiblingsVisibility:this.toggleSiblingsVisibility,vm:t}))}};(0,s._)([(0,l.MZ)({type:U})],Ne.prototype,"viewModel",void 0),(0,s._)([(0,l.MZ)()],Ne.prototype,"view",null),(0,s._)([(0,l.MZ)()],Ne.prototype,"layers",null),(0,s._)([(0,l.MZ)()],Ne.prototype,"visibleElements",void 0),(0,s._)([(0,n.w)("visibleElements")],Ne.prototype,"_castVisibleElements",null),(0,s._)([(0,l.MZ)()],Ne.prototype,"headingLevel",void 0),(0,s._)([(0,l.MZ)()],Ne.prototype,"iconClass",void 0),(0,s._)([(0,l.MZ)()],Ne.prototype,"icon",void 0),(0,s._)([(0,l.MZ)()],Ne.prototype,"label",null),(0,s._)([(0,l.MZ)(),(0,Ve.G)("esri/widgets/BuildingExplorer/t9n/BuildingExplorer")],Ne.prototype,"messages",void 0),(0,s._)([(0,l.MZ)(),(0,Ve.G)("esri/t9n/common")],Ne.prototype,"messagesCommon",void 0),(0,s._)([(0,l.MZ)({nonNullable:!0})],Ne.prototype,"toggleSiblingsVisibility",void 0),(0,s._)([(0,l.MZ)()],Ne.prototype,"uiStrings",void 0),Ne=(0,s._)([(0,o.$)("esri.widgets.BuildingExplorer")],Ne);const Se=Ne}}]);
//# sourceMappingURL=51140.68e03dee.chunk.js.map