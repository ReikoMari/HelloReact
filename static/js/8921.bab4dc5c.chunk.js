"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[8921],{83450:(e,t,n)=>{n.d(t,{yh:()=>k,gi:()=>v,EM:()=>E});var i=n(35143),s=n(3825),r=n(91967),l=n(18690),o=n(50076),a=n(53084),u=n(30726),c=n(50346),h=n(46053),f=(n(81806),n(76460),n(85842)),d=n(86994);class p{constructor(e){this.client=e,this._cancelled=!1,this.size=0,this.duration=0}}class g{constructor(e){this.typeWorkerQuota=e,this.tasks=new Array,this.numWorkers=0,this.statistics=new m}}class m{constructor(){this.requests=0,this.size=0,this.duration=0,this.speed=0}}class T{constructor(e,t,n,i){this._workerFunc=e,this._callbackFunc=t,this._maxTotalNumWorkers=n,this._totalNumWorkers=0,this._clients=i.map((e=>new g(e)))}destroy(){this._clients.length=0}hasQuota(e){const t=this._clients[e];return!!t&&(this._totalNumWorkers<this._maxTotalNumWorkers||t.numWorkers+t.tasks.length<t.typeWorkerQuota)}push(e){const t=this._clients[e.client];t&&(this._totalNumWorkers<this._maxTotalNumWorkers?(t.numWorkers++,this._totalNumWorkers++,this._workerFunc(e,((e,t)=>this._taskCallback(e,t)))):t.tasks.push(e))}cancel(e){this._taskFinished(e),e._cancelled=!0}_taskFinished(e){const t=this._clients[e.client];this._totalNumWorkers--,t&&(t.numWorkers--,t.statistics.requests++,t.statistics.size+=e.size||0,t.statistics.duration+=e.duration||0,t.statistics.speed=t.statistics.duration>0?t.statistics.size/t.statistics.duration:0,(0,d.vA)(t.numWorkers>=0)),this._next()}_next(){for(const e of this._clients)if(e&&e.numWorkers<e.typeWorkerQuota&&this._processQueue(e))return;for(const e of this._clients)if(e&&this._processQueue(e))return}_processQueue(e){for(;e.tasks.length>0;)if(this._workerFunc(e.tasks.shift(),((e,t)=>this._taskCallback(e,t))))return e.numWorkers++,this._totalNumWorkers++,!0;return!1}_taskCallback(e,t){e._cancelled||(this._callbackFunc(e,t),this._taskFinished(e))}getStatsForType(e){const t=this._clients[e];return t?{quota:t.typeWorkerQuota,workers:t.numWorkers,queueSize:t.tasks.length,requestStats:t.statistics}:null}get test(){const e=this;return{set workerFunc(t){e._workerFunc=t}}}}var S=n(59752);let v=class extends r.A{constructor(){super(...arguments),this._tasks=new Map,this._onLoadQueue=new Array,this._doneQueue=new Array,this.updating=!1}setup(e,t,n){this._loadQueue=new T(((e,t)=>this._startLoading(e,t)),((e,t)=>this._doneLoadingCB(e,t)),e,t),n&&(this._frameTask=n.registerTask(S.W6.STREAM_DATA_LOADER,this))}destroy(){this._frameTask=(0,u.xt)(this._frameTask),this._tasks.forEach((e=>(0,u.DC)(e.abortController))),this._loadQueue=(0,u.pR)(this._loadQueue),this._onLoadQueue=null,this._doneQueue=null,this._tasks=null}hasDownloadSlots(e){return this._loadQueue.hasQuota(e)}request(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=(0,c.Tw)();s.__signal=null!=i?i.signal:null;const r=this._createOrUpdateTask(e,t,n,i,s);return(0,c.u7)(i,(()=>this._cancelRequest(r,s))),s.promise}_createTask(e,t,n,i,s,r){const l=new w(e,t,n,i,s);return this._updateTask(l,r),this._tasks.set(s,l),1===this._tasks.size&&this._set("updating",!0),this._loadQueue.push(l),l}_cancelRequest(e,t){var n;(0,l.Xy)(e.resolvers,t),t.reject((0,c.NK)()),0===e.resolvers.length&&(e.status===A.DOWNLOADING&&(e.status=A.CANCELLED,this._loadQueue.cancel(e),null!==(n=e.abortController)&&void 0!==n&&n.abort(),e.request=null,e.abortController=null),e.status=A.CANCELLED,this._tasks.delete(e.key),0===this._tasks.size&&this._set("updating",!1))}_updateTask(e,t){e.resolvers.push(t)}_createOrUpdateTask(e,t,n,i,s){const r=function(e,t,n){return"".concat(e,":").concat(t,":").concat(n)}((null===i||void 0===i?void 0:i.uid)||e,t,n),l=this._tasks.get(r);return l?(this._updateTask(l,s),l):this._createTask(e,i,t,n,r,s)}_doneLoadingCB(e,t){this._loadQueue&&((0,d.vA)(e.status===A.DOWNLOADING),e.status=A.DOWNLOADED,this._frameTask?this._doneQueue.push({task:e,err:t}):this._doneLoading(e,t))}get running(){return this._doneQueue.length>0||this._onLoadQueue.length>0}runTask(e){for(;!e.done&&this._onLoadQueue.length>0;){const t=this._onLoadQueue.shift();(0,c.Te)(t.task.abortController),t.task.abortController=null,t.callback(t.task),e.madeProgress()}for(;!e.done&&this._doneQueue.length>0;){const t=this._doneQueue.shift();t.task.status!==A.DOWNLOADED&&(t.err=t.err||(0,c.NK)()),this._doneLoading(t.task,t.err),e.madeProgress()}}_doneLoading(e,t){if(t&&!(0,c.zf)(t)&&e.numRetries>0)return--e.numRetries,void this._loadQueue.push(e);let n=e.result instanceof HTMLImageElement?0:e.resolvers.length;for(const i of e.resolvers)if(t)(0,c.zf)(t)?i.reject(t):i.reject(new o.A("stream-data-loader:request-error","Failed to request resource at '".concat(e.url,"'. ").concat(t),{url:e.url,error:t}));else{--n;const t=n>0?(0,a.o8)(e.result):e.result;i.resolve(t)}this._tasks.delete(e.key),0===this._tasks.size&&this._set("updating",!1)}_startLoading(e,t){if(e.status===A.CANCELLED)return!1;let n,i;switch(e.startTime=performance.now(),e.status=A.DOWNLOADING,e.docType){case"binary":i="array-buffer",n=0;break;case"image":i="image";break;case"image+type":i="array-buffer";break;default:i="json"}e.abortController=new AbortController;const r=e.abortController.signal;e.request=(0,s.A)(e.url,{...e.options,responseType:i,timeout:n,signal:r});let l=()=>{};const o=n=>{e.duration=performance.now()-e.startTime,e.size=n instanceof ArrayBuffer?n.byteLength:e.size||0,e.result=n,this._frameTask?this._onLoadQueue.push({callback:t,task:e}):(e.abortController=null,t(e))},a=n=>{e.status===A.DOWNLOADING&&t(e,n),l()};return"image+type"!==e.docType?(e.request.then((e=>o(e.data)),a),!0):(e.request.then((t=>{const u=t.data,c=function(e){if(e.byteLength<2)return"unknown";const t=new Uint8Array(e,0,e.byteLength);return 137===t[0]&&80===t[1]?"image/png":71===t[0]&&73===t[1]?"image/gif":66===t[0]&&77===t[1]?"image/bmp":255===t[0]&&216===t[1]?"image/jpeg":"unknown"}(u);if(i="image",e.size=u.byteLength,"unknown"===c)return e.request=(0,s.A)(e.url,{responseType:i,timeout:n,signal:r}),void e.request.then((e=>o(e.data)),a);const h=new Blob([u],{type:c}),f=window.URL.createObjectURL(h);l=()=>window.URL.revokeObjectURL(f),e.request=(0,s.A)(f,{responseType:i,timeout:n,signal:r}),e.request.then((e=>o(new k(e.data,c,l))),a)}),a),!0)}get test(){return{loadQueue:this._loadQueue}}};(0,i._)([(0,h.MZ)({readOnly:!0})],v.prototype,"updating",void 0),v=(0,i._)([(0,f.$)("esri.views.3d.support.StreamDataLoader")],v);const _=0;class k{constructor(e,t,n){this.image=e,this.type=t,this.release=n}get isOpaque(){return"image/jpeg"===this.type}}function E(e){return"image"in e&&"type"in e}class w extends p{constructor(e,t,n,i,s){super(i),this.url=e,this.options=t,this.docType=n,this.key=s,this.result=null,this.status=A.QUEUED,this.request=null,this.abortController=null,this.resolvers=new Array,this.startTime=0,this.numRetries=_}}var A;!function(e){e[e.QUEUED=1]="QUEUED",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.DOWNLOADED=3]="DOWNLOADED",e[e.CANCELLED=4]="CANCELLED"}(A||(A={}))},71728:(e,t,n)=>{var i,s;n.d(t,{N:()=>s,Z:()=>i}),function(e){e[e.INSIDE=0]="INSIDE",e[e.INTERSECTS=1]="INTERSECTS",e[e.OUTSIDE=2]="OUTSIDE"}(i||(i={})),function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"}(s||(s={}))},54883:(e,t,n)=>{n.d(t,{CU:()=>a,EY:()=>c,Gm:()=>u,Me:()=>o,P2:()=>p,Qz:()=>h,SC:()=>m,SR:()=>l,hB:()=>d,nU:()=>T,yt:()=>f});var i=n(15941),s=n(2413),r=n(44527);const l=64,o=512,a=2.5,u=(0,i.$8)(i.pq/10),c=2,h=(0,s.vt)();r.n.WebMercatorAuxiliarySphere.getExtent(0,0,0,h);const f=(0,s.vt)([-180,-90,180,90]),d="Cannot extend surface to encompass all layers because it would result in too many root tiles.",p="Surface extent is too large for tile resolution at level 0.";let g=3;function m(e){return e<4?3:g}const T=4},44527:(e,t,n)=>{n.d(t,{P:()=>m,n:()=>g});n(35238);var i=n(50076),s=n(15941),r=n(31633),l=n(76797),o=n(9624),a=n(13312),u=n(2413),c=n(80963),h=n(45417),f=n(22848),d=n(88235),p=n(13904);class g{constructor(e){const t=g.checkUnsupported(e);if(null!=t)throw t;const n=e;this.spatialReference=n.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=(0,o.canProjectToWGS84ComparableLonLat)(this.spatialReference)||(0,c.q8)(this.spatialReference)||(0,c.KQ)(this.spatialReference),this.origin=[n.origin.x,n.origin.y],this.pixelSize=n.size[0],this.dpi=n.dpi;const i=n.lods.reduce(((e,t,n)=>(t.level<e.min&&(e.min=t.level,e.minIndex=n),e.max=Math.max(e.max,t.level),e)),{min:1/0,minIndex:0,max:-1/0}),s=n.lods[i.minIndex],r=2**s.level;let l=s.resolution*r,a=s.scale*r;this.levels=new Array(i.max+1);for(let o=0;o<this.levels.length;o++)this.levels[o]={resolution:l,scale:a,tileSize:[l*n.size[0],l*n.size[1]]},l/=2,a/=2}clone(){return new g(this.toTileInfo())}toTileInfo(){return new d.A({dpi:this.dpi,origin:new p.A({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map(((e,t)=>new f.A({level:t,scale:e.scale,resolution:e.resolution})))})}getExtent(e,t,n,i){const s=this.levels[e],r=s.tileSize[0],l=s.tileSize[1];i[0]=this.origin[0]+n*r,i[2]=this.origin[0]+(n+1)*r,i[3]=this.origin[1]-t*l,i[1]=this.origin[1]-(t+1)*l}convertExtentToRadians(e,t){this._isWebMercator?(t[0]=(0,h.yw)(e[0]),t[1]=(0,h.jg)(e[1]),t[2]=(0,h.yw)(e[2]),t[3]=(0,h.jg)(e[3])):this._isGCS&&(t[0]=(0,s.kU)(e[0]),t[1]=(0,s.kU)(e[1]),t[2]=(0,s.kU)(e[2]),t[3]=(0,s.kU)(e[3]))}getExtentGeometry(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new l.A;return this.getExtent(e,t,n,T),i.spatialReference=this.spatialReference,i.xmin=T[0],i.ymin=T[1],i.xmax=T[2],i.ymax=T[3],i.zmin=void 0,i.zmax=void 0,i}ensureMaxLod(e){if(null==e)return!1;let t=!1;for(;this.levels.length<=e;){const e=this.levels[this.levels.length-1],n=e.resolution/2;this.levels.push({resolution:n,scale:e.scale/2,tileSize:[n*this.pixelSize,n*this.pixelSize]}),t=!0}return t}capMaxLod(e){this.levels.length>e+1&&(this.levels.length=e+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(e){return this.levels[0].scale/2**e}levelAtScale(e){const t=this.levels[0].scale;return e>=t?0:Math.log(t/e)*Math.LOG2E}resolutionAtLevel(e){return this.levels[0].resolution/2**e}compatibleWith(e){if(!(e instanceof g)){if(g.checkUnsupported(e))return!1;e=new g(e)}if(!e.spatialReference.equals(this.spatialReference))return!1;if(e.pixelSize!==this.pixelSize)return!1;const t=Math.min(this.levels.length,e.levels.length)-1,n=this.levels[t].resolution;let i=.5*n;return!(!(0,s.Sp)(e.origin[0],this.origin[0],i)||!(0,s.Sp)(e.origin[1],this.origin[1],i))&&(i=.5*n/2**t/this.pixelSize*12,(0,s.Sp)(n,e.levels[t].resolution,i))}rootTilesInExtent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const i=new Array,s=this.levels[0].tileSize;if(null==e||0===s[0]||0===s[1])return i;g.computeRowColExtent(e,s,this.origin,T);let r=T[1],l=T[3],o=T[0],a=T[2];const u=a-o,c=l-r;if(u*c>n){const e=Math.floor(Math.sqrt(n));c>e&&(r=r+Math.floor(.5*c)-Math.floor(.5*e),l=r+e),u>e&&(o=o+Math.floor(.5*u)-Math.floor(.5*e),a=o+e)}for(let h=r;h<l;h++)for(let e=o;e<a;e++)i.push([0,h,e]);return null!=t&&(t[0]=this.origin[0]+o*s[0],t[1]=this.origin[1]-l*s[1],t[2]=this.origin[0]+a*s[0],t[3]=this.origin[1]-r*s[1]),i}static computeRowColExtent(e,t,n,i){const s=.001*(e[2]-e[0]+(e[3]-e[1]));i[0]=Math.max(0,Math.floor((e[0]+s-n[0])/t[0])),i[2]=Math.max(0,Math.ceil((e[2]-s-n[0])/t[0])),i[1]=Math.max(0,Math.floor((n[1]-e[3]+s)/t[1])),i[3]=Math.max(0,Math.ceil((n[1]-e[1]-s)/t[1]))}static isPowerOfTwo(e){const t=e.lods,n=t[0].resolution*2**t[0].level;return!t.some((e=>!(0,s.b6)(e.resolution,n/2**e.level)))}static hasGapInLevels(e){const t=e.lods.map((e=>e.level));t.sort(((e,t)=>e-t));for(let n=1;n<t.length;n++)if(t[n]!==t[0]+n)return!0;return!1}static tileSizeSupported(e){const t=e.size[1];return t===e.size[0]&&0==(t&t-1)&&t>=128&&t<=512}static hasOriginPerLODs(e){const t=e.origin;return e.lods.some((e=>null!=e.origin&&(e.origin[0]!==t.x||e.origin[1]!==t.y)))}static getMissingTileInfoError(){return new i.A("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(e){return null==e?m():e.lods.length<1?new i.A("tilingscheme:generic","Tiling scheme must have at least one level"):g.isPowerOfTwo(e)?g.hasGapInLevels(e)?new i.A("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):g.tileSizeSupported(e)?g.hasOriginPerLODs(e)?new i.A("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new i.A("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new i.A("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(e,t){const n=e[2]-e[0],i=e[3]-e[1],s=(0,r.GA)(t),l=1.2*Math.max(n,i),o=256,a=new g(new d.A({size:[o,o],origin:new p.A({x:e[0]-.5*(l-n),y:e[3]+.5*(l-i)}),lods:[new f.A({level:0,resolution:l/o,scale:1/(o/96*.0254/(l*s))})],spatialReference:t}));return a.ensureMaxLod(20),a}static makeWebMercatorAuxiliarySphere(e){const t=new g(g.WebMercatorAuxiliarySphereTileInfo);return t.ensureMaxLod(e),t}static makeGCSWithTileSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;const i=256/t,s=new g(new d.A({size:[t,t],origin:new p.A({x:-180,y:90,spatialReference:e}),spatialReference:e,lods:[new f.A({level:0,resolution:.703125*i,scale:295497598.570834*i})]}));return s.ensureMaxLod(n),s}get test(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}function m(){return new i.A("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}g.WebMercatorAuxiliarySphereTileInfo=new d.A({size:[256,256],origin:new p.A({x:-20037508.342787,y:20037508.342787,spatialReference:a.A.WebMercator}),spatialReference:a.A.WebMercator,lods:[new f.A({level:0,resolution:156543.03392800014,scale:591657527.591555})]}),g.WebMercatorAuxiliarySphere=g.makeWebMercatorAuxiliarySphere(19);const T=(0,u.vt)()},4225:(e,t,n)=>{n.d(t,{yL:()=>te,_y:()=>V,T7:()=>b,L8:()=>N,Mq:()=>x,NR:()=>y,BU:()=>W,EM:()=>X,Uo:()=>K,GH:()=>O,KE:()=>U,sZ:()=>oe,oX:()=>z,Gk:()=>H,n9:()=>L,fe:()=>Q,LC:()=>D,uK:()=>ue,HF:()=>re,Ci:()=>R,gF:()=>F,mJ:()=>ae,eS:()=>G,E5:()=>j,ri:()=>M,G3:()=>C,Y4:()=>P,cU:()=>q,Ec:()=>le,hL:()=>se,xl:()=>J,XQ:()=>he,Rz:()=>ce,jj:()=>ne,JM:()=>ie,Mm:()=>B,t6:()=>$,Cs:()=>Y,hC:()=>ee,bA:()=>Z,bk:()=>A});var i=n(19276),s=n(80963),r=n(31933),l=n(64465),o=n(83450),a=n(71728),u=n(50076),c=n(20664),h=n(9392),f=n(9624),d=n(2413),p=n(54883),g=n(44527);const m=(0,h.vt)(),T=(0,h.vt)(),S=(0,h.vt)(),v=(0,h.vt)();function _(e,t,n,i){(0,c.c)(m,n),m[i]=t[i];const s=(0,c.f)(m,m,t),r=(0,c.f)(T,e,t),l=(0,c.k)(r,s),o=(0,c.k)(s,s);let a;a=l<=0?t:o<=l?n:(0,c.g)(m,t,(0,c.h)(s,s,l/o));const u=(0,c.f)(m,e,a);return Math.PI/2-Math.atan(u[2]/Math.sqrt(u[0]*u[0]+u[1]*u[1]))}const k=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:function(e,t,n){if(null==e)return(0,g.P)();if(e.spatialReference.isGeographic&&!(0,f.canProjectToWGS84ComparableLonLat)(e.spatialReference))return new u.A("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const i=g.n.checkUnsupported(e);if(null!=i)return i;if(null==n)return new u.A("tilingscheme:extent-not-exist","The layer does not provide a layer extent.");const s=function(e,t){const n=e.lods,i=n[0].resolution*2**n[0].level,s=[i*e.size[0],i*e.size[1]],r=[e.origin.x,e.origin.y],l=(0,d.VY)(t),o=(0,d.vt)();g.n.computeRowColExtent(l,s,r,o);const a=(o[2]-o[0])*(o[3]-o[1]);if(a>p.SR){const t=n[0].scale*2**n[0].level;let s=Math.max((l[3]-l[1])/e.size[1],(l[2]-l[0])/e.size[0])*t/i;const r=Math.floor(Math.log(s)/Math.log(10));return s=Math.ceil(s/10**r)*10**r,new u.A("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(t).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+s.toLocaleString()+".",{level0Scale:t,suggestedLevel0Scale:s,requiredNumRootTiles:a,allowedNumRootTiles:p.SR})}return null}(e,n);if(s)return s;const r=e.spatialReference;return null==t||r.equals(t)||t.isWGS84&&r.isWebMercator?null:new u.A("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")},isInsideExtent:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=e.extent;if(null==i)return!1;if(0===n)return(0,d.Uc)(i,t);const s=Math.min(i[2]-i[0],i[3]-i[1]);return(0,d.k$)(i,t,n*s)},tiltToExtentEdge:function(e,t,n){const i=e.extent;if(null==i)return 0;S[0]=i[0],S[1]=i[1],S[2]=n,v[0]=i[2],v[1]=i[3],v[2]=n;let s=1/0,r=1/0;return t[0]<S[0]?s=_(t,S,v,0):t[0]>v[0]&&(s=_(t,v,S,0)),t[1]<S[1]?r=_(t,S,v,1):t[1]>v[1]&&(r=_(t,v,S,1)),Math.min(s,r)}},Symbol.toStringTag,{value:"Module"}));const E=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:function(e,t){if(null==e)return(0,g.P)();const n=e.lods.length-1,i=e.spatialReference,r=(0,f.canProjectToWGS84ComparableLonLat)(i)||(0,s.q8)(i)||(0,s.KQ)(i);if(i.isWebMercator){if(!g.n.makeWebMercatorAuxiliarySphere(n).compatibleWith(e))return new u.A("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!r)return new u.A("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!g.n.makeGCSWithTileSize(e.spatialReference,e.size[0],n).compatibleWith(e))return e.spatialReference.isWGS84?new u.A("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new u.A("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return null==t||e.spatialReference.equals(t)?void 0:new u.A("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")},isInsideExtent:function(){return!0},tiltToExtentEdge:function(){return 0}},Symbol.toStringTag,{value:"Module"})),w={[l.RT.Global]:E,[l.RT.Local]:k};function A(e,t){e||console.warn("Terrain: "+t)}let N=!1,y=!1;function x(e){y=e,N=N||e}function b(e){N=e}function O(e,t){if(N&&!e){var n;const e=null===(n=(new Error).stack)||void 0===n?void 0:n.slice(5);throw console.warn("Terrain internal: "+(null!==t&&void 0!==t?t:"")+" at "+e),new Error("Assertion failed"+(t?": "+t:""))}}function W(e){return L(e)?{fullExtent:e.fullExtent,minScale:e.layer.minScale,maxScale:e.layer.maxScale,tilemapCache:null}:e.layer}function R(e){return"imagery-tile"===(null===e||void 0===e?void 0:e.type)||"wcs"===(null===e||void 0===e?void 0:e.type)}function L(e){return"imagery-tile-3d"===(null===e||void 0===e?void 0:e.type)}function M(e){return"tile-3d"===(null===e||void 0===e?void 0:e.type)}function C(e){return"vector-tile-3d"===(null===e||void 0===e?void 0:e.type)}function I(e){return"wmts-3d"===(null===e||void 0===e?void 0:e.type)}function z(e){return"elevation-3d"===(null===e||void 0===e?void 0:e.type)}function H(e){return"group"===(null===e||void 0===e?void 0:e.type)}function U(e){return e&&(M(e)||I(e)||L(e)||C(e))}function D(e){return e&&(M(e)||L(e)||C(e)||I(e))}function G(e){return D(e)||z(e)}function Q(e){var t;const n=null===e||void 0===e||null===(t=e.sourceLayerInfo)||void 0===t?void 0:t.data;return null!=n&&"type"in n&&"raster-tile"===n.type}function q(e){return P(null===e||void 0===e?void 0:e.sourceLayerInfo)||!(null===e||void 0===e||!e.isVTLBackground)}function j(e){var t;const n=null===e||void 0===e||null===(t=e.sourceLayerInfo)||void 0===t?void 0:t.data;return null!=n&&"type"in n&&"tile-texture"===n.type}function F(e){var t;const n=null===e||void 0===e||null===(t=e.sourceLayerInfo)||void 0===t?void 0:t.data;return n instanceof HTMLImageElement||n instanceof o.yh||n instanceof HTMLCanvasElement||n instanceof ImageData}function P(e){return null!=(null===e||void 0===e?void 0:e.data)&&"type"in e.data&&"vector-tile"===e.data.type}function B(e){return null!=e&&"release"in e&&e.release(),null}function Y(e){return e.fetchTile&&!1!==e.hasOverriddenFetchTile}function V(e,t,n,i){return w[i].checkIfTileInfoSupportedForViewSR(e,n,t)}function K(e,t,n){let i=null,s=null;if("wmts"===(null===e||void 0===e?void 0:e.type)){const r=X(e,t,n);i=r.tileInfo,s=r.fullExtent}else{s=R(e)?e.getCompatibleFullExtent(t):e.fullExtent;const r=n===l.RT.Local;if(R(e))i=e.getCompatibleTileInfo(t,s,r);else if("vector-tile"===(null===e||void 0===e?void 0:e.type)){const n=r&&!Z(t)||$.force512VTL,s=e.tileInfo.spatialReference.isGeographic;i=n?e.tileInfo:e.tileInfo.getOrCreateCompatible(256,s?1:2)}else i=e.tileInfo}return null!=i&&null!=s&&null==V(i,s,t,n)?{tileInfo:i,fullExtent:s}:null}function X(e,t,n){const s=(0,r.r0)(e);if(null!=s){if(!i.A.isCollection(s))return{tileInfo:s.tileInfo,fullExtent:s.fullExtent};{const e=s.find((e=>null==V(e.tileInfo,e.fullExtent,t,n)));if(e)return{tileInfo:e.tileInfo,fullExtent:e.fullExtent}}}return{tileInfo:null,fullExtent:null}}function Z(e){return e.isWGS84||e.isWebMercator||(0,s.x1)(e)||!(0,s.B3)(e)}const $={force512VTL:!1};function J(e){return"["+e[0]+","+e[1]+","+e[2]+"]"}function ee(e){return"("+e[0]+","+e[1]+","+e[2]+")"}function te(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe;return Math.abs(e-t)<n}function ne(e){return e===a.N.NORTH_EAST?a.N.SOUTH_WEST:e===a.N.NORTH_WEST?a.N.SOUTH_EAST:e===a.N.SOUTH_WEST?a.N.NORTH_EAST:a.N.NORTH_WEST}function ie(e){return e===a.N.NORTH?a.N.SOUTH:e===a.N.EAST?a.N.WEST:e===a.N.SOUTH?a.N.NORTH:a.N.EAST}function se(e){return e===a.N.NORTH_WEST||e===a.N.SOUTH_WEST}function re(e){return e===a.N.NORTH_WEST||e===a.N.NORTH_EAST}function le(e){return e===a.N.NORTH_WEST||e===a.N.WEST||e===a.N.SOUTH_WEST}function oe(e){return e===a.N.NORTH_EAST||e===a.N.EAST||e===a.N.SOUTH_EAST}function ae(e){return e===a.N.SOUTH_EAST||e===a.N.SOUTH||e===a.N.SOUTH_WEST}function ue(e){return e===a.N.NORTH_EAST||e===a.N.NORTH||e===a.N.NORTH_WEST}const ce=[a.N.NORTH,a.N.EAST,a.N.SOUTH,a.N.WEST],he=[a.N.NORTH_EAST,a.N.SOUTH_EAST,a.N.SOUTH_WEST,a.N.NORTH_WEST],fe=1e-5},59801:(e,t,n)=>{n.d(t,{M:()=>r});var i=n(34038),s=n(64465);function r(e,t){return null!=e&&(null==t||(t===s.RT.Local?!e.isGeographic||e.isWGS84||e.wkid===i.Y.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===i.Y.CGCS2000||e.wkid===i.Y.GCSMARS2000||e.wkid===i.Y.GCSMARS2000_SPHERE||e.wkid===i.Y.GCSMOON2000))}}}]);
//# sourceMappingURL=8921.bab4dc5c.chunk.js.map