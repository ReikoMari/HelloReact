{"version":3,"file":"static/js/60159.81f5a278.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/map-components/dist/esm/arcgis-version-management-service-item_2.entry.js"],"sourcesContent":["/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.29/esri/copyright.txt for details.\n * v4.29.10\n */\nimport { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-8642bf82.js';\nimport { i as importCoreReactiveUtils } from './index-f6afcedb.js';\n\nconst ArcgisVersionManagementServiceItem = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.versionItemActionClickedEventWithServiceUrl = createEvent(this, \"versionItemActionClickedEventWithServiceUrl\", 7);\n        this.versionListActionClickedEvent = createEvent(this, \"versionListActionClickedEvent\", 7);\n        this._versionListEventListeners = new Map();\n        this._watchHandles = [];\n        this._versionItemActionClickedEventWithServiceUrl = (e) => {\n            this.versionItemActionClickedEventWithServiceUrl.emit(e.detail);\n        };\n        this._versionListActionClickedEvent = (e) => {\n            this.versionListActionClickedEvent.emit(e.detail);\n        };\n        this.flowElement = undefined;\n        this.heading = undefined;\n        this.serviceUrl = undefined;\n        this.strings = undefined;\n        this.viewModel = undefined;\n        this.state = undefined;\n    }\n    async componentDidLoad() {\n        const { watch } = await importCoreReactiveUtils();\n        this._watchHandles.push(watch(() => this.viewModel.state, (state) => {\n            this.state = state;\n        }));\n    }\n    async componentWillLoad() {\n        this.state = this.viewModel.state;\n    }\n    disconnectedCallback() {\n        this._watchHandles.forEach((handle) => {\n            handle.remove();\n        });\n        this._watchHandles = [];\n        this._removeVersionListEventListeners(this._versionList);\n    }\n    render() {\n        const { flowElement, heading, serviceUrl, strings, viewModel } = this;\n        let { _versionList } = this;\n        const serviceName = viewModel.serviceNameLookup.get(serviceUrl);\n        return (h(Host, null, h(\"calcite-panel\", { heading: serviceName }, h(\"calcite-action\", { id: `actionManageVersions_${serviceName}`, icon: \"list\", scale: \"s\", slot: \"header-actions-end\", text: \"\", onClick: async () => {\n                await viewModel.getVersionInfos(serviceUrl, false);\n                _versionList = document.createElement(\"arcgis-version-management-version-list\");\n                _versionList.addEventListener(\"calciteFlowItemBack\", async () => {\n                    _versionList.remove();\n                });\n                _versionList.heading = heading;\n                _versionList.serviceUrl = serviceUrl;\n                _versionList.serviceName = serviceName;\n                _versionList.strings = strings;\n                _versionList.userHasAdvancedEditingUserTypeExtension =\n                    viewModel.advancedEditingUserTypeExtensionLookup.get(serviceUrl);\n                _versionList.versionInfos = viewModel.versionInfoLookup.get(serviceUrl);\n                _versionList.viewModel = viewModel;\n                this._addVersionListEventListeners(_versionList);\n                flowElement.append(_versionList);\n            } }), h(\"calcite-tooltip\", { \"overlay-positioning\": \"fixed\", referenceElement: `actionManageVersions_${serviceName}` }, h(\"span\", null, strings.headers.manageVersions)))));\n    }\n    _addVersionListEventListeners(versionList) {\n        versionList.addEventListener(\"versionItemActionClickedEventWithServiceUrl\", this._versionItemActionClickedEventWithServiceUrl);\n        this._versionListEventListeners.set(\"versionItemActionClickedEventWithServiceUrl\", this._versionItemActionClickedEventWithServiceUrl);\n        versionList.addEventListener(\"versionListActionClickedEvent\", this._versionListActionClickedEvent);\n        this._versionListEventListeners.set(\"versionListActionClickedEvent\", this._versionListActionClickedEvent);\n    }\n    _removeVersionListEventListeners(versionList) {\n        for (const [type, listener] of this._versionListEventListeners) {\n            versionList.removeEventListener(type, listener);\n        }\n    }\n    get _hostElement() { return getElement(this); }\n};\n\nconst ArcgisVersionManagementVersionProperties = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.versionPropertiesSaveClickedEvent = createEvent(this, \"versionPropertiesSaveClickedEvent\", 7);\n        this._watchHandles = [];\n        this.flowElement = undefined;\n        this.serviceUrl = undefined;\n        this.strings = undefined;\n        this.versionInfo = undefined;\n        this.viewModel = undefined;\n        this.executionError = undefined;\n        this.state = undefined;\n    }\n    async componentDidLoad() {\n        await this.viewModel.getVersionInfos(this.serviceUrl, false);\n    }\n    async componentWillLoad() {\n        const { watch } = await importCoreReactiveUtils();\n        this._watchHandles.push(watch(() => this.viewModel.state, (state) => {\n            this.state = state;\n        }));\n    }\n    disconnectedCallback() {\n        this._watchHandles.forEach((handle) => {\n            handle.remove();\n        });\n        this._watchHandles = [];\n    }\n    render() {\n        const { serviceUrl, strings, versionInfo } = this;\n        const { viewModel: { executionError } } = this;\n        return (h(Host, null, h(\"calcite-flow-item\", { description: versionInfo ? versionInfo.versionIdentifier.name : \"\", heading: versionInfo ? strings.actions.editVersion : strings.actions.newVersion }, h(\"calcite-panel\", { loading: this.state === \"executing\" }, h(\"div\", { class: \"div-content\" }, h(\"calcite-label\", null, strings.input.versionName, h(\"calcite-input-text\", { id: \"inputName\", maxLength: 62, value: versionInfo ? versionInfo.versionIdentifier.name.split(\".\")[1] : \"\" })), h(\"calcite-label\", null, strings.input.versionDescription, h(\"calcite-text-area\", { id: \"inputDescription\", resize: \"vertical\", value: versionInfo ? versionInfo.description : \"\" })), h(\"calcite-label\", null, strings.input.versionAccess, h(\"calcite-chip-group\", { id: \"chipGroupAccessLevel\", selectionMode: \"single\", label: \"\" }, h(\"calcite-chip\", { selected: versionInfo?.access === \"public\" || !versionInfo, value: \"public\" }, strings.accessLevels.public), h(\"calcite-chip\", { selected: versionInfo?.access === \"protected\", value: \"protected\" }, strings.accessLevels.protected), h(\"calcite-chip\", { selected: versionInfo?.access === \"private\", value: \"private\" }, strings.accessLevels.private))), h(\"calcite-label\", null, strings.input.versionOwner, h(\"calcite-input-text\", { id: \"inputOwner\", disabled: !this.viewModel.advancedEditingUserTypeExtensionLookup.get(serviceUrl), value: versionInfo\n                ? versionInfo.versionIdentifier.name.split(\".\")[0]\n                : this.viewModel.userLookup.get(serviceUrl)?.toUpperCase() })), h(\"calcite-button\", { appearance: \"outline\", slot: \"footer\", width: \"half\", onClick: () => {\n                void this.flowElement.back();\n            } }, strings.actions.cancelSave), h(\"calcite-button\", { slot: \"footer\", width: \"half\", onClick: async () => {\n                const textInputs = Array.from(this._hostElement.getElementsByTagName(\"calcite-input-text\"));\n                const inputDescription = this._hostElement.getElementsByTagName(\"calcite-text-area\")[0];\n                const inputName = textInputs.find((input) => input.id === \"inputName\");\n                const inputOwner = textInputs.find((input) => input.id === \"inputOwner\");\n                const chipGroupAccessLevel = Array.from(this._hostElement.getElementsByTagName(\"calcite-chip-group\"))[0];\n                const info = {\n                    access: chipGroupAccessLevel.selectedItems[0].value,\n                    description: inputDescription.value,\n                    versionIdentifier: {\n                        name: inputOwner.value !== \"\" ? `${inputOwner.value}.${inputName.value}` : inputName.value,\n                        guid: versionInfo ? versionInfo.versionIdentifier.guid : \"\"\n                    }\n                };\n                this.versionPropertiesSaveClickedEvent.emit({\n                    serviceUrl,\n                    versionInfo: info\n                });\n            } }, strings.actions.saveVersion)), this.state === \"failed\" ? (h(\"calcite-notice\", { class: \"notice\", closable: true, kind: \"warning\", open: true, scale: \"s\", slot: \"footer\" }, h(\"div\", { slot: \"message\" }, this._getExecutionError(executionError)))) : undefined))));\n    }\n    _getExecutionError(executionError) {\n        const { strings: { executionErrors } } = this;\n        switch (executionError) {\n            case \"no-advanced-editing-user-type-extension\":\n                return executionErrors.noAdvancedEditingUserTypeExtension;\n            case \"no-feature-service-found\":\n                return executionErrors.noFeatureServiceFound;\n            case \"no-valid-enterprise-version\":\n                return executionErrors.notValidEnterpriseVersion;\n            case \"no-valid-version-name\":\n                return executionErrors.invalidVersionName;\n            default:\n                return executionError;\n        }\n    }\n    get _hostElement() { return getElement(this); }\n};\n\nexport { ArcgisVersionManagementServiceItem as arcgis_version_management_service_item, ArcgisVersionManagementVersionProperties as arcgis_version_management_version_properties };\n"],"names":["ArcgisVersionManagementServiceItem","constructor","hostRef","registerInstance","this","versionItemActionClickedEventWithServiceUrl","createEvent","versionListActionClickedEvent","_versionListEventListeners","Map","_watchHandles","_versionItemActionClickedEventWithServiceUrl","e","emit","detail","_versionListActionClickedEvent","flowElement","undefined","heading","serviceUrl","strings","viewModel","state","componentDidLoad","watch","importCoreReactiveUtils","push","componentWillLoad","disconnectedCallback","forEach","handle","remove","_removeVersionListEventListeners","_versionList","render","serviceName","serviceNameLookup","get","h","Host","id","concat","icon","scale","slot","text","onClick","async","getVersionInfos","document","createElement","addEventListener","userHasAdvancedEditingUserTypeExtension","advancedEditingUserTypeExtensionLookup","versionInfos","versionInfoLookup","_addVersionListEventListeners","append","referenceElement","headers","manageVersions","versionList","set","type","listener","removeEventListener","_hostElement","getElement","ArcgisVersionManagementVersionProperties","versionPropertiesSaveClickedEvent","versionInfo","executionError","_this$viewModel$userL","description","versionIdentifier","name","actions","editVersion","newVersion","loading","class","input","versionName","maxLength","value","split","versionDescription","resize","versionAccess","selectionMode","label","selected","access","accessLevels","public","protected","private","versionOwner","disabled","userLookup","toUpperCase","appearance","width","back","cancelSave","textInputs","Array","from","getElementsByTagName","inputDescription","inputName","find","inputOwner","info","selectedItems","guid","saveVersion","closable","kind","open","_getExecutionError","executionErrors","noAdvancedEditingUserTypeExtension","noFeatureServiceFound","notValidEnterpriseVersion","invalidVersionName"],"sourceRoot":""}