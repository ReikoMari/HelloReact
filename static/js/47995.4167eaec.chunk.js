"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[47995,63733],{63733:(t,e,i)=>{i.r(e),i.d(e,{default:()=>A});var s=i(35143),o=i(46053),n=(i(81806),i(76460),i(47249),i(85842)),a=i(5364),l=i(25515),r=i(65624),c=i(5682),h=i(64519),d=i(731);let u=class extends((0,r.d)((0,c.j)(l.A))){constructor(t){super(t),this.elevationInfo=null,this.graphics=new h.Y,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,e){return super.on(t,e)}graphicChanged(t){this.emit("graphic-update",t)}};(0,s._)([(0,o.MZ)({type:d.A})],u.prototype,"elevationInfo",void 0),(0,s._)([(0,o.MZ)((0,a.C)(h.Y,"graphics"))],u.prototype,"graphics",void 0),(0,s._)([(0,o.MZ)({type:["show","hide"]})],u.prototype,"listMode",void 0),(0,s._)([(0,o.MZ)()],u.prototype,"screenSizePerspectiveEnabled",void 0),(0,s._)([(0,o.MZ)({readOnly:!0})],u.prototype,"type",void 0),(0,s._)([(0,o.MZ)({constructOnly:!0})],u.prototype,"internal",void 0),u=(0,s._)([(0,n.$)("esri.layers.GraphicsLayer")],u);const A=u},69120:(t,e,i)=>{function s(t,e,i){if(!e||null===t||void 0===t||!t.map)return;const{map:s}=t,o=s.layers.find((t=>t===e));o||s.add(e,i),o&&null!=i&&s.layers.reorder(o,i)}function o(t,e){const i="subtype-sublayer"===(null===e||void 0===e?void 0:e.type)?e.parent:e;return t.allLayerViews.find((t=>{const e=t.layer;return e===i||"sublayers"in e&&null!=e.sublayers&&e.sublayers.includes(i)}))}i.d(e,{Y:()=>s,i:()=>o})},47995:(t,e,i)=>{i.r(e),i.d(e,{default:()=>W});var s=i(35143),o=i(68134),n=i(46053),a=(i(81806),i(76460)),l=(i(47249),i(85842)),r=i(25329),c=i(77666),h=(i(76099),i(63582)),d=i(54761),u=i(28899),A=i(69539),m=i(41568),w=i(86645),y=i(91967);let p=class extends y.A{constructor(t){super(t),this.arrowsToggle=!1,this.capSelect=!1,this.colorPicker=!0,this.stylePicker=!0,this.widthInput=!0}};(0,s._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],p.prototype,"arrowsToggle",void 0),(0,s._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],p.prototype,"capSelect",void 0),(0,s._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],p.prototype,"colorPicker",void 0),(0,s._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],p.prototype,"stylePicker",void 0),(0,s._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],p.prototype,"widthInput",void 0),p=(0,s._)([(0,l.$)("esri.widgets.UtilityNetworkAssociations.VisibleElementsSettingsPane")],p);const v=p,b="esri-un-associations",g={divControlsSymbolPicker:"".concat(b,"__div-controls-symbol-picker"),dropdown:"".concat(b,"__dropdown"),dropdownItemLineCap:"".concat(b,"__dropdown-item-line-cap"),dropdownItemLinePattern:"".concat(b,"__dropdown-item-line-pattern"),dropdownSelectedItemLineCap:"".concat(b,"__dropdown-selected-item-line-cap"),dropdownSelectedItemLinePattern:"".concat(b,"__dropdown-selected-item-line-pattern"),dropdownTrigger:"".concat(b,"__dropdown-trigger"),labelAndToggle:"".concat(b,"__label-and-toggle")};let _=class extends r.A{constructor(t,e){super(t,e),this._lineCapTypes=["butt","round","square"],this._lineStyleTypes=["solid","dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","short-dash","short-dash-dot","short-dash-dot-dot","short-dot"],this.lineSymbol=new w.default,this.messages=null,this.showArrows=!1,this.visibleElements=new v,this._afterComponentCreate=this._afterComponentCreate.bind(this)}render(){const{messages:{input:{lineCap:t,lineColor:e,lineStyle:i,lineWidth:s,showArrows:o}},visibleElements:n}=this,a=this.lineSymbol;return(0,d.K)("div",{class:g.divControlsSymbolPicker},n.arrowsToggle?this._renderToggle(o,this.showArrows,a,"marker"):void 0,n.capSelect?this._renderLineStylePicker(t,this._lineCapTypes,a,"cap"):void 0,n.colorPicker&&a.color?this._renderColorPicker(e,a.color.toHex(),a,"color"):void 0,n.stylePicker?this._renderLineStylePicker(i,this._lineStyleTypes,a,"style"):void 0,n.widthInput?this._renderNumberInput(s,a.width.toString(),a,"width"):void 0)}loadDependencies(){return(0,c.W)({dropdown:()=>Promise.all([i.e(39879),i.e(48347),i.e(37131)]).then(i.bind(i,37131)),"dropdown-group":()=>i.e(19030).then(i.bind(i,19030)),"dropdown-item":()=>Promise.all([i.e(39879),i.e(95562)]).then(i.bind(i,95562)),input:()=>Promise.all([i.e(39879),i.e(62785),i.e(95203),i.e(79545),i.e(56685)]).then(i.bind(i,29625)),"input-number":()=>Promise.all([i.e(39879),i.e(62785),i.e(95203),i.e(93073),i.e(75680)]).then(i.bind(i,23131)),label:()=>Promise.all([i.e(39879),i.e(65423)]).then(i.bind(i,65423)),switch:()=>Promise.all([i.e(39879),i.e(95203),i.e(97813)]).then(i.bind(i,97813))})}_afterComponentCreate(t){"value"in t&&null!=t.value&&"setNumberValue"in t&&t.setNumberValue({committing:!1,value:t.value,origin:"direct"})}_renderColorPicker(t,e,i,s){return(0,d.K)("calcite-label",{scale:"s"},t,(0,d.K)("calcite-input",{scale:"s",type:"color",value:e,onCalciteInputInput:t=>{const e=t.target;i.set(s,new A.A(e.value))}}))}_renderLineStylePicker(t,e,i,s){const o="style"===s,n="esri/widgets/UtilityNetworkAssociations/assets/img";return(0,d.K)("calcite-label",{scale:"s"},t,(0,d.K)("calcite-dropdown",{class:g.dropdown,onCalciteDropdownSelect:t=>{const e=t.target;i.set(s,e.selectedItems[0].label)}},(0,d.K)("div",{class:g.dropdownTrigger,role:"button",slot:"trigger"},(0,d.K)("div",{class:o?g.dropdownSelectedItemLinePattern:g.dropdownSelectedItemLineCap,style:"background-image:url(".concat((0,u.s)("".concat(n,"/line-").concat(o?"patterns":"caps","/").concat(i[s],".png")),")")})),(0,d.K)("calcite-dropdown-group",null,e.map((t=>function(t,e){return(0,d.K)("calcite-dropdown-item",{label:t,selected:i[e]===t},(0,d.K)("div",{class:o?g.dropdownItemLinePattern:g.dropdownItemLineCap,style:"background-image:url(".concat((0,u.s)("".concat(n,"/line-").concat(o?"patterns":"caps","/").concat(t,".png")),")")}))}(t,s))))))}_renderNumberInput(t,e,i,s){return(0,d.K)("calcite-label",{scale:"s"},t,(0,d.K)("calcite-input-number",{afterCreate:this._afterComponentCreate,max:10,min:1,scale:"s",step:1,type:"number",value:e,onCalciteInputNumberChange:t=>{const e=t.target;i.set(s,e.value)}}))}_renderToggle(t,e,i,s){return(0,d.K)("div",{class:g.labelAndToggle},(0,d.K)("calcite-label",{scale:"s"},t),(0,d.K)("calcite-switch",{bind:this,checked:e,scale:"m",onCalciteSwitchChange:t=>{t.target.checked?i.set(s,new m.A({style:"arrow"})):i.set(s,null)}}))}};(0,s._)([(0,n.MZ)()],_.prototype,"lineSymbol",void 0),(0,s._)([(0,n.MZ)(),(0,h.G)("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],_.prototype,"messages",void 0),(0,s._)([(0,n.MZ)()],_.prototype,"showArrows",void 0),(0,s._)([(0,n.MZ)({type:v,nonNullable:!0})],_.prototype,"visibleElements",void 0),_=(0,s._)([(0,l.$)("esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsLineSymbolPicker")],_);const S=_;var M=i(39356),C=(i(11265),i(19276)),k=i(50076),x=i(19451),L=i(76797),f=i(13904),E=i(9624),K=i(63733),N=i(69120),Z=i(38042),P=i(63860);let I=class extends y.A{constructor(t){super(t),this._internalGraphicsLayerConnectivity=this._createInternalGraphicsLayer("Connectivity Associations (Internal)"),this._internalGraphicsLayerStructuralAttachment=this._createInternalGraphicsLayer("Structural Attachment Associations (Internal)"),this._initialValidationsFinished=!1,this._updatingHandles=new x.U,this.autoRefreshAssociations=!1,this.connectivityAssociationsLineSymbol=new w.default({style:"short-dash",width:2,color:[190,159,159,1]}),this.executionError="",this.loadErrors=new C.A,this.maxAllowableAssociations=250,this.showAssociationsEnabled=!1,this.showArrowsConnectivity=!1,this.showArrowsStructuralAttachment=!1,this.structuralAttachmentAssociationsLineSymbol=new w.default({style:"short-dash",width:2,color:[159,190,159,1]})}initialize(){const t=async()=>{this.messages||(this.messages=await(0,P.ud)("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations"))};t().then((()=>{this.view||(this.view=null),this.utilityNetwork||(this.utilityNetwork=null),this.addHandles([(0,o.watch)((()=>[this.view,this.utilityNetwork]),(async()=>{var t,e;const{loadErrors:i,messages:{info:{noUtilityNetwork:s,noView:o}}}=this;this._initialValidationsFinished=!1,i.removeAll();let n=!1,l=!1;this.removeAssociations(),"utility"!==(null===(t=this.utilityNetwork)||void 0===t?void 0:t.type)?(this.loadErrors.push(s),a.A.getLogger(this).error(new k.A("utilityNetworkAssociations:missing-property",s))):(this.utilityNetwork.loaded||await this.utilityNetwork.load(),n=!0),"2d"!==(null===(e=this.view)||void 0===e?void 0:e.type)?(this.loadErrors.push(o),a.A.getLogger(this).error(new k.A("utilityNetworkAssociations:missing-property",o))):((0,N.Y)(this.view,this._internalGraphicsLayerConnectivity),(0,N.Y)(this.view,this._internalGraphicsLayerStructuralAttachment),l=!0),n&&l&&this.showAssociationsEnabled&&await this.showAssociations(),this._internalGraphicsLayerConnectivity.visible=this.includeConnectivityAssociations,this._internalGraphicsLayerStructuralAttachment.visible=this.includeStructuralAttachmentAssociations,this._initialValidationsFinished=!0}),{initial:!0}),(0,o.watch)((()=>{var t;return[null===(t=this.view)||void 0===t?void 0:t.stationary,this.showAssociationsEnabled,this.maxAllowableAssociations]}),(async()=>{var t;(null===(t=this.view)||void 0===t?void 0:t.stationary)&&this.showAssociationsEnabled&&(this.includeConnectivityAssociations||this.includeStructuralAttachmentAssociations)&&await this.showAssociations()})),(0,o.watch)((()=>[this.showArrowsConnectivity]),(()=>{const t=this.connectivityAssociationsLineSymbol.clone();t.marker=null,this.showArrowsConnectivity&&(t.marker=new m.A({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"}));for(const e of this._internalGraphicsLayerConnectivity.graphics)e.symbol=t})),(0,o.watch)((()=>[this.showArrowsStructuralAttachment]),(()=>{const t=this.structuralAttachmentAssociationsLineSymbol.clone();t.marker=null,this.showArrowsStructuralAttachment&&(t.marker=new m.A({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"}));for(const e of this._internalGraphicsLayerStructuralAttachment.graphics)e.symbol=t})),(0,o.watch)((()=>{const{cap:t,color:e,style:i,width:s,marker:o}=this.connectivityAssociationsLineSymbol;return[t,e,i,s,o]}),(()=>{const t=this.connectivityAssociationsLineSymbol.clone();for(const e of this._internalGraphicsLayerConnectivity.graphics)e.symbol=t;this.showArrowsConnectivity=!1,t.marker=null,this.connectivityAssociationsLineSymbol.marker&&(this.showArrowsConnectivity=!0,t.marker=new m.A({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"}))})),(0,o.watch)((()=>{const{cap:t,color:e,style:i,width:s,marker:o}=this.structuralAttachmentAssociationsLineSymbol;return[t,e,i,s,o]}),(()=>{const t=this.structuralAttachmentAssociationsLineSymbol.clone();for(const e of this._internalGraphicsLayerStructuralAttachment.graphics)e.symbol=t;this.showArrowsStructuralAttachment=!1,t.marker=null,this.structuralAttachmentAssociationsLineSymbol.marker&&(this.showArrowsStructuralAttachment=!0,t.marker=new m.A({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"}))})),(0,Z.oQ)(t)])}))}destroy(){this._updatingHandles.destroy(),this.view=null,this._removeInternalGraphicsLayers()}set includeConnectivityAssociations(t){this._set("includeConnectivityAssociations",t),this._internalGraphicsLayerConnectivity.visible=t}set includeStructuralAttachmentAssociations(t){this._set("includeStructuralAttachmentAssociations",t),this._internalGraphicsLayerStructuralAttachment.visible=t}get state(){return this.loadErrors.length?"disabled":this._updatingHandles.updating?"executing":""!==this.executionError?"warning":this._initialValidationsFinished?"ready":"loading"}set utilityNetwork(t){this._get("utilityNetwork")!==t&&this._set("utilityNetwork",t)}set view(t){this._get("view")!==t&&this._set("view",t)}removeAssociations(){this._internalGraphicsLayerConnectivity.removeAll(),this._internalGraphicsLayerStructuralAttachment.removeAll()}async showAssociations(){const{messages:{info:{maxAllowableAssociationsExceeded:t,noAssociationsFound:e}},utilityNetwork:i}=this,{spatialReference:s,extent:{xmin:o,ymin:n,xmax:a,ymax:l}}=this.view,r=null===i||void 0===i?void 0:i.spatialReference;(0,E.isLoaded)()||await(0,E.load)();const c=(0,E.project)(new f.A({x:o,y:n,spatialReference:s}),r),h=(0,E.project)(new f.A({x:a,y:l,spatialReference:s}),r),d=new L.A({xmin:c.x,ymin:c.y,xmax:h.x,ymax:h.y,spatialReference:r});this._set("executionError",""),this.removeAssociations(),this._updatingHandles.addPromise(null===i||void 0===i?void 0:i.synthesizeAssociationGeometries({returnConnectivityAssociations:this.includeConnectivityAssociations,returnAttachmentAssociations:this.includeStructuralAttachmentAssociations,extent:d,outSpatialReference:r,maxGeometryCount:this.maxAllowableAssociations}).then((i=>{let s=[],o=[];null!==i&&void 0!==i&&i.maxGeometryCountExceeded?this._set("executionError",t):0!==(null===i||void 0===i?void 0:i.associations.length)?i&&(s=null===i||void 0===i?void 0:i.associations.filter((t=>{let{associationType:e}=t;return"connectivity"===e})).map((t=>(this.connectivityAssociationsLineSymbol.marker=null,this.showArrowsConnectivity&&(this.connectivityAssociationsLineSymbol.marker=new m.A({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"})),new M.A({geometry:t.geometry.clone(),symbol:this.connectivityAssociationsLineSymbol})))),o=i.associations.filter((t=>{let{associationType:e}=t;return"attachment"===e})).map((t=>(this.structuralAttachmentAssociationsLineSymbol.marker=null,this.showArrowsStructuralAttachment&&(this.structuralAttachmentAssociationsLineSymbol.marker=new m.A({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"})),new M.A({geometry:t.geometry.clone(),symbol:this.structuralAttachmentAssociationsLineSymbol})))),s.length>0&&this._internalGraphicsLayerConnectivity.addMany(s),o.length>0&&this._internalGraphicsLayerStructuralAttachment.addMany(o)):this._set("executionError",e)}),(t=>{let{message:e}=t;this._set("executionError",e)})))}_createInternalGraphicsLayer(t){return new K.default({listMode:"hide",internal:!0,title:t})}_removeInternalGraphicsLayers(){var t;this._internalGraphicsLayerConnectivity&&this._internalGraphicsLayerStructuralAttachment&&(null===(t=this.view)||void 0===t?void 0:t.map)&&(this.view.map.remove(this._internalGraphicsLayerConnectivity),this.view.map.remove(this._internalGraphicsLayerStructuralAttachment))}};(0,s._)([(0,n.MZ)()],I.prototype,"_initialValidationsFinished",void 0),(0,s._)([(0,n.MZ)()],I.prototype,"autoRefreshAssociations",void 0),(0,s._)([(0,n.MZ)({type:w.default,nonNullable:!0})],I.prototype,"connectivityAssociationsLineSymbol",void 0),(0,s._)([(0,n.MZ)({readOnly:!0})],I.prototype,"executionError",void 0),(0,s._)([(0,n.MZ)({type:Boolean,value:!0})],I.prototype,"includeConnectivityAssociations",null),(0,s._)([(0,n.MZ)({type:Boolean,value:!0})],I.prototype,"includeStructuralAttachmentAssociations",null),(0,s._)([(0,n.MZ)()],I.prototype,"loadErrors",void 0),(0,s._)([(0,n.MZ)()],I.prototype,"maxAllowableAssociations",void 0),(0,s._)([(0,n.MZ)()],I.prototype,"messages",void 0),(0,s._)([(0,n.MZ)()],I.prototype,"showAssociationsEnabled",void 0),(0,s._)([(0,n.MZ)()],I.prototype,"showArrowsConnectivity",void 0),(0,s._)([(0,n.MZ)()],I.prototype,"showArrowsStructuralAttachment",void 0),(0,s._)([(0,n.MZ)({readOnly:!0})],I.prototype,"state",null),(0,s._)([(0,n.MZ)({type:w.default,nonNullable:!0})],I.prototype,"structuralAttachmentAssociationsLineSymbol",void 0),(0,s._)([(0,n.MZ)()],I.prototype,"utilityNetwork",null),(0,s._)([(0,n.MZ)()],I.prototype,"view",null),I=(0,s._)([(0,l.$)("esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsViewModel")],I);const G=I;let T=class extends y.A{constructor(t){super(t),this.maxAllowableAssociationsSlider=!1,this.connectivityAssociationsSettings=null,this.structuralAttachmentAssociationsSettings=null}};(0,s._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],T.prototype,"maxAllowableAssociationsSlider",void 0),(0,s._)([(0,n.MZ)({type:v,nonNullable:!0})],T.prototype,"connectivityAssociationsSettings",void 0),(0,s._)([(0,n.MZ)({type:v,nonNullable:!0})],T.prototype,"structuralAttachmentAssociationsSettings",void 0),T=(0,s._)([(0,l.$)("esri.widgets.UtilityNetworkAssociations.VisibleElements")],T);const R=T,U="esri-un-associations",V={action:"".concat(U,"__action"),actionRefresh:"".concat(U,"__action-refresh"),blockContent:"".concat(U,"__block-content"),blockSectionSettings:"".concat(U,"__block-section-settings"),divControlsMain:"".concat(U,"__div-controls-main"),label:"".concat(U,"__label"),labelAndSlider:"".concat(U,"__label-and-slider"),labelAndToggle:"".concat(U,"__label-and-toggle"),slider:"".concat(U,"__slider"),statusIconContainer:"".concat(U,"__status-icon-container"),statusIconWarning:"".concat(U,"__status-icon-warning"),switch:"".concat(U,"__switch"),switchContainer:"".concat(U,"__switch-container"),widgetContainer:"".concat(U,"__widget-container")};let D=class extends r.A{constructor(t,e){super(t,e),this._autoRefreshAssociations=!0,this._associationsOptionsEnabled=!1,this._maxAllowableAssociationsSliderMax=1e3,this._maxAllowableAssociationsSliderMin=250,this._maxAllowableAssociationsSliderStep=250,this.messages=null,this.messagesCommon=null,this.viewModel=new G,this.visibleElements=new R}initialize(){this.addHandles([(0,o.watch)((()=>{var t;return[null===(t=this.view)||void 0===t?void 0:t.stationary,this.showAssociationsEnabled,this.includeConnectivityAssociations,this.includeStructuralAttachmentAssociations,this.maxAllowableAssociations]}),(()=>{!0===this.autoRefreshAssociations&&(!0===this.showAssociationsEnabled?this.viewModel.showAssociations():this.viewModel.removeAssociations())}))])}get autoRefreshAssociations(){return this._autoRefreshAssociations}set autoRefreshAssociations(t){this._autoRefreshAssociations=t}get connectivityAssociationsLineSymbol(){return this.viewModel.connectivityAssociationsLineSymbol}set connectivityAssociationsLineSymbol(t){this.viewModel.connectivityAssociationsLineSymbol=t}get includeConnectivityAssociations(){return this.viewModel.includeConnectivityAssociations}set includeConnectivityAssociations(t){this.viewModel.includeConnectivityAssociations=t}get includeStructuralAttachmentAssociations(){return this.viewModel.includeStructuralAttachmentAssociations}set includeStructuralAttachmentAssociations(t){this.viewModel.includeStructuralAttachmentAssociations=t}get label(){var t,e;return null!==(t=null===(e=this.messages)||void 0===e?void 0:e.widgetLabel)&&void 0!==t?t:""}set label(t){this._overrideIfSome("label",t)}get maxAllowableAssociations(){return this.viewModel.maxAllowableAssociations}set maxAllowableAssociations(t){this.viewModel.maxAllowableAssociations=t}get maxAllowableAssociationsSliderMax(){return this._maxAllowableAssociationsSliderMax}set maxAllowableAssociationsSliderMax(t){t<=this.maxAllowableAssociationsSliderMin||(this._maxAllowableAssociationsSliderMax=t)}get maxAllowableAssociationsSliderMin(){return this._maxAllowableAssociationsSliderMin}set maxAllowableAssociationsSliderMin(t){t<0||t>=this.maxAllowableAssociationsSliderMax||(this._maxAllowableAssociationsSliderMin=t)}get maxAllowableAssociationsSliderStep(){return this._maxAllowableAssociationsSliderStep}set maxAllowableAssociationsSliderStep(t){this._maxAllowableAssociationsSliderStep=t}get showArrowsConnectivity(){return this.viewModel.showArrowsConnectivity}set showArrowsConnectivity(t){this.viewModel.showArrowsConnectivity=t}get showArrowsStructuralAttachment(){return this.viewModel.showArrowsStructuralAttachment}set showArrowsStructuralAttachment(t){this.viewModel.showArrowsStructuralAttachment=t}get showAssociationsEnabled(){return this.viewModel.showAssociationsEnabled}set showAssociationsEnabled(t){this.viewModel.showAssociationsEnabled=t}get structuralAttachmentAssociationsLineSymbol(){return this.viewModel.structuralAttachmentAssociationsLineSymbol}set structuralAttachmentAssociationsLineSymbol(t){this.viewModel.structuralAttachmentAssociationsLineSymbol=t}get utilityNetwork(){return this.viewModel.utilityNetwork}set utilityNetwork(t){this.viewModel.utilityNetwork=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const{label:t}=this;return(0,d.K)("div",{class:V.widgetContainer},(0,d.K)("calcite-block",{class:V.blockContent,collapsible:!0,heading:t},this._renderStatusIcon(),this.autoRefreshAssociations?this._renderShowAssociationsSwitch():this._renderRefreshAssociationsAction(),this._renderContent()))}loadDependencies(){return(0,c.W)({action:()=>Promise.all([i.e(39879),i.e(62785),i.e(48897),i.e(37918)]).then(i.bind(i,92111)),block:()=>Promise.all([i.e(39879),i.e(62785),i.e(48347),i.e(60731),i.e(48897),i.e(53794),i.e(24706),i.e(14388)]).then(i.bind(i,14388)),"block-section":()=>Promise.all([i.e(39879),i.e(62785),i.e(95203),i.e(50402)]).then(i.bind(i,50402)),icon:()=>Promise.all([i.e(39879),i.e(95012)]).then(i.bind(i,95012)),label:()=>Promise.all([i.e(39879),i.e(65423)]).then(i.bind(i,65423)),notice:()=>Promise.all([i.e(39879),i.e(62785),i.e(81985)]).then(i.bind(i,81985)),panel:()=>Promise.all([i.e(39879),i.e(62785),i.e(48347),i.e(60731),i.e(48897),i.e(53794),i.e(24706),i.e(46269),i.e(74199)]).then(i.bind(i,74199)),slider:()=>Promise.all([i.e(39879),i.e(62785),i.e(95203),i.e(28225)]).then(i.bind(i,28225)),switch:()=>Promise.all([i.e(39879),i.e(95203),i.e(97813)]).then(i.bind(i,97813)),tooltip:()=>Promise.all([i.e(39879),i.e(48347),i.e(73786)]).then(i.bind(i,73786))})}_connectivityAssociationsSwitchChange(t){this.includeConnectivityAssociations=t.target.checked}_getLoadErrorMessagesAsNotices(t,e){return(0,d.K)("calcite-notice",{closable:!1,key:"error-notice-".concat(e),kind:"warning",open:!0,scale:"s"},(0,d.K)("div",{slot:"message"},t))}_maxAllowableAssociationsSliderChange(t){this.maxAllowableAssociations=Number(t.target.value)}_refreshAssociations(){const{viewModel:t,viewModel:{state:e}}=this;"ready"!==e&&"warning"!==e||t.showAssociations()}_renderConnectivityAssociationsSettings(){const{messages:{input:{enableConnectivity:t}},visibleElements:{connectivityAssociationsSettings:e}}=this;if(e)return(0,d.K)("calcite-block-section",{class:V.blockSectionSettings,text:t},(0,d.K)(S,{id:"".concat(this.id,"-symbol-picker-connectivity"),lineSymbol:this.connectivityAssociationsLineSymbol,showArrows:this.showArrowsConnectivity,visibleElements:e}))}_renderConnectivityAssociationsToggle(){const{messages:{input:{enableConnectivity:t}}}=this;return(0,d.K)("div",{class:V.labelAndToggle,key:"connectivityAssociationsToggleDiv"},(0,d.K)("calcite-label",{class:V.label},t),(0,d.K)("calcite-switch",{bind:this,checked:this.includeConnectivityAssociations,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,onCalciteSwitchChange:this._connectivityAssociationsSwitchChange}))}_renderContent(){const{viewModel:{loadErrors:t,state:e}}=this;return"disabled"===e?(0,d.K)("div",{class:V.divControlsMain,key:"loadErrorsDiv"},t.items.map(this._getLoadErrorMessagesAsNotices)):(0,d.K)("calcite-panel",{disabled:"loading"===e},(0,d.K)("div",{class:V.divControlsMain},this._renderConnectivityAssociationsToggle(),this._renderStructuralAttachmentAssociationsToggle(),this._renderSettingsPane()))}_renderLoadingAction(t,e,i){return(0,d.K)("div",{key:t,slot:"control"},(0,d.K)("calcite-action",{id:e,loading:!0,text:i}),(0,d.K)("calcite-tooltip",{referenceElement:e},(0,d.K)("span",null,i)))}_renderMaxAllowableAssociationsSlider(){const{messages:{input:{maxAllowableAssociations:t}},visibleElements:{maxAllowableAssociationsSlider:e}}=this;if(e)return(0,d.K)("div",{class:V.labelAndSlider},(0,d.K)("calcite-label",{class:V.label},t),(0,d.K)("calcite-slider",{bind:this,class:V.slider,labelTicks:!0,max:this.maxAllowableAssociationsSliderMax,min:this.maxAllowableAssociationsSliderMin,scale:"s",snap:!0,step:this.maxAllowableAssociationsSliderStep,ticks:this.maxAllowableAssociationsSliderStep,value:this.maxAllowableAssociations,onCalciteSliderChange:this._maxAllowableAssociationsSliderChange}))}_renderRefreshAssociationsAction(){const{messages:{input:{refreshAssociations:t}},messagesCommon:{loading:e},viewModel:{state:i}}=this,s="".concat(this.id,"-refresh-action");if("disabled"!==i)return(0,d.K)("div",{class:V.actionRefresh,slot:"control"},(0,d.K)("calcite-action",{bind:this,class:V.action,icon:"refresh-",id:s,loading:"loading"===i,onclick:this._refreshAssociations,text:t}),(0,d.K)("calcite-tooltip",{referenceElement:s},(0,d.K)("span",null,"loading"===i?e:t)))}_renderSettingsPane(){const{messagesCommon:{settings:t},visibleElements:{maxAllowableAssociationsSlider:e,connectivityAssociationsSettings:i,structuralAttachmentAssociationsSettings:s}}=this;if(e||i||s)return(0,d.K)("calcite-block",{class:V.blockContent,collapsible:!0,heading:t},this._renderMaxAllowableAssociationsSlider(),this._renderConnectivityAssociationsSettings(),this._renderStructuralAttachmentAssociationsSettings())}_renderShowAssociationsSwitch(){const{messages:{input:{enableAssociations:t}},messagesCommon:{loading:e},viewModel:{state:i}}=this,s="".concat(this.id,"-show-associations-switch");if("disabled"!==i)return"loading"===i?this._renderLoadingAction("loadingActionDiv","".concat(this.id,"-loading-action"),e):(0,d.K)("div",{class:V.switchContainer,key:"switchDiv",slot:"control"},(0,d.K)("calcite-switch",{bind:this,checked:this.showAssociationsEnabled,class:V.switch,id:s,onCalciteSwitchChange:this._showAssociationsSwitchChange}),(0,d.K)("calcite-tooltip",{referenceElement:s},(0,d.K)("span",null,t)))}_renderStatusIcon(){const{messagesCommon:{executing:t},viewModel:{executionError:e,state:i}}=this;switch(i){case"disabled":return this._renderWarningIcon("statusDiv","".concat(this.id,"-disabled-icon"),null);case"warning":return this._renderWarningIcon("statusDiv","".concat(this.id,"-warning-icon"),e);case"executing":return this._renderLoadingAction("executingActionDiv","".concat(this.id,"-executing-action"),t);default:return}}_renderStructuralAttachmentAssociationsSettings(){const{messages:{input:{enableStructuralAttachment:t}},visibleElements:{structuralAttachmentAssociationsSettings:e}}=this;if(e)return(0,d.K)("calcite-block-section",{class:V.blockSectionSettings,text:t},(0,d.K)(S,{id:"".concat(this.id,"-symbol-picker-structural-attachment"),lineSymbol:this.structuralAttachmentAssociationsLineSymbol,showArrows:this.showArrowsStructuralAttachment,visibleElements:e}))}_renderStructuralAttachmentAssociationsToggle(){const{messages:{input:{enableStructuralAttachment:t}}}=this;return(0,d.K)("div",{class:V.labelAndToggle,key:"structuralAttachmentAssociationsToggleDiv"},(0,d.K)("calcite-label",{class:V.label},t),(0,d.K)("calcite-switch",{bind:this,checked:this.includeStructuralAttachmentAssociations,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,onCalciteSwitchChange:this._structuralAttAssociationsSwitchChange}))}_showAssociationsSwitchChange(t){const{viewModel:e}=this;this.showAssociationsEnabled=t.target.checked,this._associationsOptionsEnabled=t.target.checked,this.showAssociationsEnabled||e.removeAssociations()}_structuralAttAssociationsSwitchChange(t){this.includeStructuralAttachmentAssociations=t.target.checked}_renderWarningIcon(t,e,i){return i?(0,d.K)("div",{class:V.statusIconContainer,key:t,slot:"control"},(0,d.K)("calcite-icon",{class:V.statusIconWarning,icon:"exclamation-mark-triangle",id:e,scale:"s"}),(0,d.K)("calcite-tooltip",{referenceElement:e},(0,d.K)("span",null,i))):(0,d.K)("div",{class:V.statusIconContainer,key:t,slot:"control"},(0,d.K)("calcite-icon",{class:V.statusIconWarning,icon:"exclamation-mark-triangle",id:e,scale:"s"}))}};(0,s._)([(0,n.MZ)()],D.prototype,"autoRefreshAssociations",null),(0,s._)([(0,n.MZ)()],D.prototype,"connectivityAssociationsLineSymbol",null),(0,s._)([(0,n.MZ)()],D.prototype,"includeConnectivityAssociations",null),(0,s._)([(0,n.MZ)()],D.prototype,"includeStructuralAttachmentAssociations",null),(0,s._)([(0,n.MZ)()],D.prototype,"label",null),(0,s._)([(0,n.MZ)()],D.prototype,"maxAllowableAssociations",null),(0,s._)([(0,n.MZ)()],D.prototype,"maxAllowableAssociationsSliderMax",null),(0,s._)([(0,n.MZ)()],D.prototype,"maxAllowableAssociationsSliderMin",null),(0,s._)([(0,n.MZ)()],D.prototype,"maxAllowableAssociationsSliderStep",null),(0,s._)([(0,n.MZ)(),(0,h.G)("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],D.prototype,"messages",void 0),(0,s._)([(0,n.MZ)(),(0,h.G)("esri/t9n/common")],D.prototype,"messagesCommon",void 0),(0,s._)([(0,n.MZ)()],D.prototype,"showArrowsConnectivity",null),(0,s._)([(0,n.MZ)()],D.prototype,"showArrowsStructuralAttachment",null),(0,s._)([(0,n.MZ)()],D.prototype,"showAssociationsEnabled",null),(0,s._)([(0,n.MZ)()],D.prototype,"structuralAttachmentAssociationsLineSymbol",null),(0,s._)([(0,n.MZ)()],D.prototype,"utilityNetwork",null),(0,s._)([(0,n.MZ)()],D.prototype,"view",null),(0,s._)([(0,n.MZ)({type:G})],D.prototype,"viewModel",void 0),(0,s._)([(0,n.MZ)({type:R,nonNullable:!0})],D.prototype,"visibleElements",void 0),D=(0,s._)([(0,l.$)("esri.widgets.UtilityNetworkAssociations")],D);const W=D}}]);
//# sourceMappingURL=47995.4167eaec.chunk.js.map