"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[24546],{38983:(e,t,i)=>{i.d(t,{e:()=>l});var r,n,s,o=i(54787),a={exports:{}};r=a,n=function(){function e(e,i,n){n=n||2;var s,o,a,h,c,p,v,d=i&&i.length,u=d?i[0]*n:e.length,y=t(e,0,u,n,!0),x=[];if(!y||y.next===y.prev)return x;if(d&&(y=l(e,i,y,n)),e.length>80*n){s=a=e[0],o=h=e[1];for(var f=n;f<u;f+=n)(c=e[f])<s&&(s=c),(p=e[f+1])<o&&(o=p),c>a&&(a=c),p>h&&(h=p);v=0!==(v=Math.max(a-s,h-o))?1/v:0}return r(y,x,n,s,o,v),x}function t(e,t,i,r,n){var s,o;if(n===S(e,t,i,r)>0)for(s=t;s<i;s+=r)o=V(s,e[s],e[s+1],o);else for(s=i-r;s>=t;s-=r)o=V(s,e[s],e[s+1],o);if(o&&_(o,o.next)){var a=o.next;k(o),o=a}return o}function i(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!_(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{var n=r.prev;if(k(r),(r=t=n)===r.next)break;i=!0}}while(i||r!==t);return t}function r(e,t,l,h,c,p,v){if(e){!v&&p&&d(e,h,c,p);for(var u,y,x=e;e.prev!==e.next;)if(u=e.prev,y=e.next,p?s(e,h,c,p):n(e))t.push(u.i/l),t.push(e.i/l),t.push(y.i/l),k(e),e=y.next,x=y.next;else if((e=y)===x){v?1===v?r(e=o(i(e),t,l),t,l,h,c,p,2):2===v&&a(e,t,l,h,c,p):r(i(e),t,l,h,c,p,1);break}}}function n(e){var t=e.prev,i=e,r=e.next;if(g(t,i,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(x(t.x,t.y,i.x,i.y,r.x,r.y,n.x,n.y)&&g(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(e,t,i,r){var n=e.prev,s=e,o=e.next;if(g(n,s,o)>=0)return!1;for(var a=n.x<s.x?n.x<o.x?n.x:o.x:s.x<o.x?s.x:o.x,l=n.y<s.y?n.y<o.y?n.y:o.y:s.y<o.y?s.y:o.y,h=n.x>s.x?n.x>o.x?n.x:o.x:s.x>o.x?s.x:o.x,c=n.y>s.y?n.y>o.y?n.y:o.y:s.y>o.y?s.y:o.y,p=u(a,l,t,i,r),v=u(h,c,t,i,r),d=e.prevZ,y=e.nextZ;d&&d.z>=p&&y&&y.z<=v;){if(d!==e.prev&&d!==e.next&&x(n.x,n.y,s.x,s.y,o.x,o.y,d.x,d.y)&&g(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,y!==e.prev&&y!==e.next&&x(n.x,n.y,s.x,s.y,o.x,o.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;d&&d.z>=p;){if(d!==e.prev&&d!==e.next&&x(n.x,n.y,s.x,s.y,o.x,o.y,d.x,d.y)&&g(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;y&&y.z<=v;){if(y!==e.prev&&y!==e.next&&x(n.x,n.y,s.x,s.y,o.x,o.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function o(e,t,r){var n=e;do{var s=n.prev,o=n.next.next;!_(s,o)&&m(s,n,n.next,o)&&b(s,o)&&b(o,s)&&(t.push(s.i/r),t.push(n.i/r),t.push(o.i/r),k(n),k(n.next),n=e=o),n=n.next}while(n!==e);return i(n)}function a(e,t,n,s,o,a){var l=e;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&f(l,h)){var c=G(l,h);return l=i(l,l.next),c=i(c,c.next),r(l,t,n,s,o,a),void r(c,t,n,s,o,a)}h=h.next}l=l.next}while(l!==e)}function l(e,r,n,s){var o,a,l,c=[];for(o=0,a=r.length;o<a;o++)(l=t(e,r[o]*s,o<a-1?r[o+1]*s:e.length,s,!1))===l.next&&(l.steiner=!0),c.push(y(l));for(c.sort(h),o=0;o<c.length;o++)n=i(n=p(c[o],n),n.next);return n}function h(e,t){return e.x-t.x}function c(e){if(e.next.prev===e)return e;let t=e;for(;;){const i=t.next;if(i.prev===t||i===t||i===e)break;t=i}return t}function p(e,t){var r=function(e,t){var i,r=t,n=e.x,s=e.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===o)return i;var l,h=i,c=i.x,p=i.y,d=1/0;r=i;do{n>=r.x&&r.x>=c&&n!==r.x&&x(s<p?n:o,s,c,p,s<p?o:n,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(n-r.x),b(r,e)&&(l<d||l===d&&(r.x>i.x||r.x===i.x&&v(i,r)))&&(i=r,d=l)),r=r.next}while(r!==h);return i}(e,t);if(!r)return t;var n=G(r,e),s=i(r,r.next);let o=c(n);return i(o,o.next),s=c(s),c(t===r?s:t)}function v(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function d(e,t,i,r){var n=e;do{null===n.z&&(n.z=u(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,s,o,a,l,h=1;do{for(i=e,e=null,s=null,o=0;i;){for(o++,r=i,a=0,t=0;t<h&&(a++,r=r.nextZ);t++);for(l=h;a>0||l>0&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,l--),s?s.nextZ=n:e=n,n.prevZ=s,s=n;i=r}s.nextZ=null,h*=2}while(o>1)}(n)}function u(e,t,i,r,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function y(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function x(e,t,i,r,n,s,o,a){return(n-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(r-a)-(i-o)*(t-a)>=0&&(i-o)*(s-a)-(n-o)*(r-a)>=0}function f(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&m(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(b(e,t)&&b(t,e)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||_(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function _(e,t){return e.x===t.x&&e.y===t.y}function m(e,t,i,r){var n=M(g(e,t,i)),s=M(g(e,t,r)),o=M(g(i,r,e)),a=M(g(i,r,t));return n!==s&&o!==a||!(0!==n||!w(e,i,t))||!(0!==s||!w(e,r,t))||!(0!==o||!w(i,e,r))||!(0!==a||!w(i,t,r))}function w(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function M(e){return e>0?1:e<0?-1:0}function b(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function G(e,t){var i=new Z(e.i,e.x,e.y),r=new Z(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function V(e,t,i,r){var n=new Z(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function k(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Z(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(e,t,i,r){for(var n=0,s=t,o=i-r;s<i;s+=r)n+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return n}return e.deviation=function(e,t,i,r){var n=t&&t.length,s=n?t[0]*i:e.length,o=Math.abs(S(e,0,s,i));if(n)for(var a=0,l=t.length;a<l;a++){var h=t[a]*i,c=a<l-1?t[a+1]*i:e.length;o-=Math.abs(S(e,h,c,i))}var p=0;for(a=0;a<r.length;a+=3){var v=r[a]*i,d=r[a+1]*i,u=r[a+2]*i;p+=Math.abs((e[v]-e[u])*(e[d+1]-e[v+1])-(e[v]-e[d])*(e[u+1]-e[v+1]))}return 0===o&&0===p?0:Math.abs((p-o)/o)},e.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var o=0;o<t;o++)i.vertices.push(e[n][s][o]);n>0&&(r+=e[n-1].length,i.holes.push(r))}return i},e},void 0!==(s=n())&&(r.exports=s);const l=(0,o.g)(a.exports)},56002:(e,t,i)=>{function r(e){let t,i,r=[],n=!1;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return n&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}(o,r)||(i=e.apply(this,o),t=this,r=o,n=!0),i}}i.d(t,{B:()=>r})},98510:(e,t,i)=>{i.d(t,{GD:()=>o,Y0:()=>h,lO:()=>c});var r=i(34111),n=i(13312),s=i(80963);const o=new n.A(r.fv),a=new n.A(r.FY),l=new n.A(r.LJ),h=new n.A(r.Ro);function c(e){const t=p.get(e);if(t)return t;let i=o;if(e)if(e===a)i=a;else if(e===l)i=l;else{const t=e.wkid,n=e.latestWkid;if(null!=t||null!=n)(0,s.tl)(t)||(0,s.tl)(n)?i=a:((0,s.ZL)(t)||(0,s.ZL)(n))&&(i=l);else{var r;const t=null!==(r=e.wkt2)&&void 0!==r?r:e.wkt;if(t){const e=t.toUpperCase();e===v?i=a:e===d&&(i=l)}}}return p.set(e,i),i}const p=new Map,v=a.wkt.toUpperCase(),d=l.wkt.toUpperCase()},44230:(e,t,i)=>{i.d(t,{C:()=>h,Cr:()=>p,H6:()=>y,_I:()=>d,dz:()=>x,fA:()=>c,kb:()=>v,ld:()=>f,sd:()=>u,vt:()=>l});var r=i(15941),n=i(97467),s=i(20664),o=i(9392),a=i(75762);function l(e){return e?{origin:(0,o.o8)(e.origin),vector:(0,o.o8)(e.vector)}:{origin:(0,o.vt)(),vector:(0,o.vt)()}}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return c(e.origin,e.vector,t)}function c(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,s.c)(i.origin,e),(0,s.c)(i.vector,t),i}function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,s.c)(i.origin,e),(0,s.f)(i.vector,t,e),i}function v(e,t){const i=(0,s.f)(a.rq.get(),t,e.origin),n=(0,s.k)(e.vector,i),o=(0,s.k)(e.vector,e.vector),l=(0,r.qE)(n/o,0,1),h=(0,s.f)(a.rq.get(),(0,s.h)(a.rq.get(),e.vector,l),i);return(0,s.k)(h,h)}function d(e,t,i){return y(e,t,0,1,i)}function u(e,t,i){return(0,s.g)(i,e.origin,(0,s.h)(i,e.vector,t))}function y(e,t,i,n,o){const{vector:l,origin:h}=e,c=(0,s.f)(a.rq.get(),t,h),p=(0,s.k)(l,c)/(0,s.p)(l);return(0,s.h)(o,l,(0,r.qE)(p,i,n)),(0,s.g)(o,o,e.origin)}function x(e,t){if(g(e,function(e,t){const i=m.get();return i.origin=e,i.vector=t,i}(t.origin,t.direction),!1,_)){const{tA:t,pB:i,distance2:r}=_;if(t>=0&&t<=1)return r;if(t<0)return(0,s.a)(e.origin,i);if(t>1)return(0,s.a)((0,s.g)(a.rq.get(),e.origin,e.vector),i)}return null}function f(e,t,i){return!!g(e,t,!0,_)&&((0,s.c)(i,_.pA),!0)}function g(e,t,i,n){const o=1e-6,l=e.origin,h=(0,s.g)(a.rq.get(),l,e.vector),c=t.origin,p=(0,s.g)(a.rq.get(),c,t.vector),v=a.rq.get(),d=a.rq.get();if(v[0]=l[0]-c[0],v[1]=l[1]-c[1],v[2]=l[2]-c[2],d[0]=p[0]-c[0],d[1]=p[1]-c[1],d[2]=p[2]-c[2],Math.abs(d[0])<o&&Math.abs(d[1])<o&&Math.abs(d[2])<o)return!1;const u=a.rq.get();if(u[0]=h[0]-l[0],u[1]=h[1]-l[1],u[2]=h[2]-l[2],Math.abs(u[0])<o&&Math.abs(u[1])<o&&Math.abs(u[2])<o)return!1;const y=v[0]*d[0]+v[1]*d[1]+v[2]*d[2],x=d[0]*u[0]+d[1]*u[1]+d[2]*u[2],f=v[0]*u[0]+v[1]*u[1]+v[2]*u[2],g=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],_=(u[0]*u[0]+u[1]*u[1]+u[2]*u[2])*g-x*x;if(Math.abs(_)<o)return!1;let m=(y*x-f*g)/_,w=(y+x*m)/g;i&&(m=(0,r.qE)(m,0,1),w=(0,r.qE)(w,0,1));const M=a.rq.get(),b=a.rq.get();return M[0]=l[0]+m*u[0],M[1]=l[1]+m*u[1],M[2]=l[2]+m*u[2],b[0]=c[0]+w*d[0],b[1]=c[1]+w*d[1],b[2]=c[2]+w*d[2],n.tA=m,n.tB=w,n.pA=M,n.pB=b,n.distance2=(0,s.a)(M,b),!0}const _={tA:0,tB:0,pA:(0,o.vt)(),pB:(0,o.vt)(),distance2:0},m=new n.I((()=>l()))},45097:(e,t,i)=>{i.d(t,{Fm:()=>l,Q7:()=>h});var r=i(97467),n=i(20664),s=i(9392),o=i(44230);i(75762);function a(e){return e?{p0:(0,s.o8)(e.p0),p1:(0,s.o8)(e.p1),p2:(0,s.o8)(e.p2)}:{p0:(0,s.vt)(),p1:(0,s.vt)(),p2:(0,s.vt)()}}function l(e,t,i){const r=t[0]-e[0],n=t[1]-e[1],s=i[0]-e[0],o=i[1]-e[1];return.5*Math.abs(r*o-n*s)}function h(e,t,i){return(0,n.f)(c,t,e),(0,n.f)(p,i,e),.5*(0,n.l)((0,n.b)(c,c,p))}new r.I(o.vt),new r.I((()=>a()));const c=(0,s.vt)(),p=(0,s.vt)()},42046:(e,t,i)=>{i.r(t),i.d(t,{default:()=>j});var r=i(35143),n=(i(35238),i(39356)),s=i(98773),o=i(19276),a=i(50076),l=i(54099),h=i(76460),c=i(30726),p=i(24648),v=i(68134),d=i(76931),u=i(46053),y=(i(81806),i(47249),i(85842)),x=i(5262),f=i(63733),g=i(76940),_=i(64465),m=i(53181),w=i(71523),M=i(61472),b=i(20072),G=i(69120),V=i(79103),k=i(57308),Z=i(82307),S=i(87878),C=i(97513),I=i(13284),A=i(18975),E=i(72236),O=i(71008),T=i(68655),R=i(23701),z=i(13904);class H{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-start"}}class F{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape"}}class q{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-stop"}}class L{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-start"}}class U{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move"}}class D{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-stop"}}class ${constructor(e){this.added=e,this.type="vertex-select"}}class W{constructor(e){this.removed=e,this.type="vertex-deselect"}}class P{constructor(e,t,i,r){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=r,this.type="vertex-add"}}class B{constructor(e,t,i,r){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=r,this.type="vertex-remove"}}const K=V.W.reshapeGraphics,Y={vertices:{default:new g.default({style:"circle",size:K.vertex.size,color:K.vertex.color,outline:{color:K.vertex.outlineColor,width:1}}),hover:new g.default({style:"circle",size:K.vertex.hoverSize,color:K.vertex.hoverColor,outline:{color:K.vertex.hoverOutlineColor,width:1}}),selected:new g.default({style:"circle",size:K.selected.size,color:K.selected.color,outline:{color:K.selected.outlineColor,width:1}})},midpoints:{default:new g.default({style:"circle",size:K.midpoint.size,color:K.midpoint.color,outline:{color:K.midpoint.outlineColor,width:1}}),hover:new g.default({style:"circle",size:K.midpoint.size,color:K.midpoint.color,outline:{color:K.midpoint.outlineColor,width:1}})}};let J=class extends l.A.EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._graphicAttributes={esriSketchTool:"box"},this._mover=null,this._snappingContext=null,this._hoverGraphic=null,this._snappingTask=null,this._stagedVertex=null,this.tooltip=null,this._translateGraphicTooltipInfo=null,this._translateVertexTooltipInfo=null,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new o.A,this.midpointSymbol=new g.default({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.symbols=Y,this.sketchOptions=new C.A,this.type="reshape",this.vertexGraphics=new o.A,this.view=null}initialize(){const e=this.view;this._highlightHelper=new b.A({view:e}),this._setup(),this.addHandles([(0,v.when)((()=>null===e||void 0===e?void 0:e.ready),(()=>{const{layer:e,view:t}=this;(0,G.Y)(t,e),this.addHandles(t.on("key-down",(e=>this._keyDownHandler(e)),k.o.TOOL))}),{once:!0,initial:!0}),(0,v.pausable)((()=>this.graphic),(()=>this.refresh())),(0,v.pausable)((()=>this.layer),((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),(0,v.pausable)((()=>this.enableMidpoints),(()=>this.refresh())),(0,v.watch)((()=>this.sketchOptions.tooltips.effectiveEnabled),(e=>{this.tooltip=e?new A.m({view:this.view}):(0,c.pR)(this.tooltip)}),v.syncAndInitial),(0,v.watch)((()=>this.view.effectiveTheme.accentColor),(()=>this._updateSymbolsForTheme()),v.initial)])}destroy(){var e;this._reset(),null!==(e=this._mover)&&void 0!==e&&e.destroy(),this._mover=null,this.tooltip=(0,c.pR)(this.tooltip)}set highlightsEnabled(e){var t;null!==(t=this._highlightHelper)&&void 0!==t&&t.removeAll(),this._set("highlightsEnabled",e),this._setUpHighlights()}get state(){const e=this.view.ready,t=!(!this.graphic||!this.layer);return e&&t?"active":e?"ready":"disabled"}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length>0&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:e,layer:t}=this;if(!t||null==(null===e||void 0===e?void 0:e.geometry))return;const i=e.geometry;"mesh"!==i.type&&"extent"!==i.type?("polygon"===i.type&&(0,x.uC)(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){var e;this.highlightsEnabled&&this.graphic&&(null===(e=this._highlightHelper)||void 0===e||e.add(this.graphic))}_setUpGeometryHelper(){const e=this.graphic.geometry;if(null==e||"mesh"===e.type||"extent"===e.type)return void this._logGeometryTypeError();const t="multipoint"===e.type?new R.A({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=S.p.fromGeometry(t,_.RT.Local)}_saveSnappingContextForHandle(e,t){var i;this._snappingGraphicsLayer=new f.default({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new I.e({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:(null===(i=t.viewEvent)||void 0===i?void 0:i.pointerType)||"mouse",excludeFeature:this.graphic,feature:this.graphic,visualizer:new m.J(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){var e;this._clearSelection(),null!==(e=this._highlightHelper)&&void 0!==e&&e.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}_resetSnappingStateVars(){var e;null!=this.snappingManager&&this.snappingManager.doneSnapping(),null!=this._snappingGraphicsLayer&&(null!==(e=this.view)&&void 0!==e&&e.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=(0,c.pR)(this._editGeometryOperations),this._snappingTask=(0,c.DC)(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set("selectedVertices",[])}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_getCoordinatesForUI(e){const t=(0,x.$K)(e.clone());if("polygon"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}_setupGraphics(){const e=this.graphic.geometry;if(null!=e&&("polyline"===e.type||"polygon"===e.type)){const t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:t,symbols:i,view:{spatialReference:r}}=this,s=[];return null!==e&&void 0!==e&&e.forEach(((e,o)=>{e.forEach(((e,a)=>{var l;const[h,c,p]=e;s.push(new n.A({geometry:new z.A({x:h,y:c,z:p,spatialReference:r}),symbol:null===i||void 0===i||null===(l=i.vertices)||void 0===l?void 0:l.default,attributes:{...t,pathIndex:o,pointIndex:a}}))}))})),s}_createMidpointGraphics(e){const{_graphicAttributes:t,symbols:i,view:{spatialReference:r}}=this,s=[];return null!==e&&void 0!==e&&e.forEach(((e,o)=>{e.forEach(((a,l)=>{var h;const[c,p,v]=a,d=e[l+1]?l+1:0;if("polygon"===(null===(h=this.graphic.geometry)||void 0===h?void 0:h.type)||0!==d){const[a,h,u]=e[d],[y,f,g]=(0,x.t9)([c,p,v],[a,h,u]);s.push(new n.A({geometry:new z.A({x:y,y:f,z:g,spatialReference:r}),symbol:i.midpoints.default,attributes:{...t,pathIndex:o,pointIndexStart:l,pointIndexEnd:d}}))}}))})),s}_updateSymbolsForTheme(){var e;const t=this.view.effectiveTheme.accentColor;this.symbols={vertices:{...this.symbols.vertices,default:this.symbols.vertices.default.clone().set("color",t),hover:null===(e=this.symbols.vertices.hover)||void 0===e?void 0:e.clone().set("color",t)},midpoints:{...this.symbols.midpoints}};for(const i of this.vertexGraphics)this._isSelected(i)?i.symbol=this.symbols.vertices.selected:this._hoverGraphic===i?i.symbol=this.symbols.vertices.hover:i.symbol=this.symbols.vertices.default}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((e=>{let{geometry:t}=e;return{x:t.x,y:t.y}}));for(let i=0;i<t.length;i++){const r=[];for(let e=0;e<t.length;e++){if(i===e)continue;const n=t[i],s=t[e];n.x===s.x&&n.y===s.y&&r.push(e)}e[i].attributes.relatedGraphicIndices=r}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:r,view:n}=this,s=r.concat(i).items;e&&s.push(t),this._mover=new M.default({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:s,view:n,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit("graphic-click",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),r=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,r)}else this._isVertex(t)&&(e.viewEvent.stopPropagation(),2===e.viewEvent.button?this._removeVertices(t):(e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)))}_setUpOperation(e){const{graphic:t,dx:i,dy:r}=e,n=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:n?"move":"reshape",totalDx:i,totalDy:r}}_onGraphicMoveStartCallback(e){const{dx:t,dy:i,graphic:r}=e;if(r===this.graphic){const{geometry:n}=r;return this._setUpOperation(e),this._emitMoveStartEvent(t,i),void(null!=n&&"point"===n.type&&this._onHandleMove(r,t,i,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)})))}if(!this.selectedVertices.includes(r)){if(this._clearSelection(),this._isMidpoint(r)){const e=this.graphic.clone(),t=this._createVertexFromMidpoint(r);this._emitVertexAddEvent([r],e,t)}this._addToSelection(r)}this._setUpOperation(e),this._emitReshapeStartEvent(r),this._onHandleMove(r,t,i,e,(()=>{this._updateTooltip(r,e.viewEvent),this._emitReshapeEvent(r)}))}_onGraphicMoveCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:r,graphic:n}=e;t.totalDx+=i,t.totalDy+=r;const{operationType:s}=t,{geometry:o}=n;if(null!=o)if("move"!==s)this._onHandleMove(n,i,r,e,(()=>{this._updateTooltip(n,e.viewEvent),this._emitReshapeEvent(n)}));else if("point"===o.type)this._onHandleMove(n,i,r,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,r)}));else if("polyline"===o.type||"polygon"===o.type){const t=this._getCoordinatesForUI(o);this._updateVertexGraphicLocations(t),this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,r)}}_onGraphicMoveStopCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:r,graphic:n}=e,{operationType:s}=t;t.totalDx+=i,t.totalDy+=r,this._onHandleMove(n,i,r,e,(()=>"move"===s?this._emitMoveStopEvent():this._emitReshapeStopEvent(n))),this._isMidpoint(n)?this.refresh():(this._updateTooltip(this._isVertex(n)?n:null),this._resetSnappingStateVars(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(e){const t=this.view.spatialReference;for(const i of this.vertexGraphics){const{pathIndex:r,pointIndex:n}=i.attributes,[s,o,a]=e[r][n];i.geometry=new z.A({x:s,y:o,z:a,spatialReference:t})}this._updateMidpointGraphicLocations(e)}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:r,pointIndexEnd:n}=t.attributes,[s,o,a]=e[i][r],[l,h,c]=e[i][n],[p,v,d]=(0,x.t9)([s,o,a],[l,h,c]);t.geometry=new z.A({x:p,y:v,z:d,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic(e){let{attributes:t}=e;return[(null===t||void 0===t?void 0:t.pathIndex)||0,(null===t||void 0===t?void 0:t.pointIndex)||0]}_getVertexFromEditGeometry(e){const[t,i]=this._getIndicesForVertexGraphic(e);return this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,i,r,n){(0,c.DC)(this._snappingTask);const o=this._snappingContext;if(!o)return;const a=e.geometry,l="graphic-move-stop"===r.type;if(null!=this.snappingManager&&this.selectedVertices.length<2&&!l){const r=this.snappingManager;this._stagedVertex=r.update({point:a,context:o}),this._syncGeometryAfterVertexMove(e,new z.A(this._stagedVertex),t,i,l),n(),this._snappingTask=(0,s.UT)((async s=>{const h=await r.snap({point:a,context:o,signal:s});h.valid&&(this._stagedVertex=h.apply(),this._syncGeometryAfterVertexMove(e,new z.A(this._stagedVertex),t,i,l),n())}))}else{const r=null!=this._stagedVertex?new z.A(this._stagedVertex):a;this._syncGeometryAfterVertexMove(e,r,t,i,l),n()}}async _syncGeometryAfterVertexMove(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this._editGeometryOperations.data.geometry;if("point"===s.type)e.geometry=t;else if("mesh"===s.type)e.geometry=s.centerAt(t),e.notifyGeometryChanged();else{const{x:o,y:a,z:l}=t,[h,c]=this._getIndicesForVertexGraphic(e);let p=(0,x.$K)(s);const v=p[h].length-1,d=null!=l?[o,a,l]:[o,a];p[h][c]=d,"polygon"===s.type&&(0===c?p[h][v]=d:c===v&&(p[h][0]=d)),this._isVertex(e)&&(p=this._moveRelatedCoordinates(p,e,d),p=this._moveSelectedHandleCoordinates(p,e,i,r,"polygon"===s.type),this._updateMidpointGraphicLocations(p)),this.graphic.geometry=s.clone();const u=this._getVertexFromEditGeometry(e),y=o-u.pos[0],f=a-u.pos[1];this._editGeometryOperations.moveVertices([u],y,f,0),n&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i){const{relatedGraphicIndices:r}=t.attributes;for(const n of r){const r=this.vertexGraphics.at(n),{pathIndex:s,pointIndex:o}=r.attributes;e[s][o]=i,r.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,r,n){for(const s of this.selectedVertices)if(s!==t){const{pathIndex:t,pointIndex:o,relatedGraphicIndices:a}=s.attributes,l=(0,w.lR)(s.geometry,i,r,this.view),h=e[t].length-1;e[t][o]=[l.x,l.y],s.geometry=l,n&&(0===o?e[t][h]=[l.x,l.y]:o===h&&(e[t][0]=[l.x,l.y]));for(const i of a){const t=this.vertexGraphics.at(i),{pathIndex:r,pointIndex:n}=t.attributes;e[r][n]=[l.x,l.y],t.geometry=l}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic;this._hoverGraphic=t;const i=this._isVertex(t);i&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateTooltip(i?t:null),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._hoverGraphic=null,this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor="default",this._updateTooltip()}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,r=i.geometry;if(null==r||"polygon"!==r.type&&"polyline"!==r.type)return[];const n=r.clone(),s=[],{pathIndex:o,pointIndexStart:a,pointIndexEnd:l}=e.attributes,{x:h,y:c,z:p}=e.geometry,v=0===l?a+1:l,d=(0,x.$K)(n);return d[o].splice(v,0,null!=p?[h,c,p]:[h,c]),e.attributes={...t,pathIndex:o,pointIndex:v,relatedGraphicIndices:[]},s.push({coordinates:d[o][v],componentIndex:o,vertexIndex:v}),this.graphic.geometry=n,s}_addToSelection(e){e instanceof n.A&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set("selectedVertices",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,t){const{vertices:i}=this.symbols,r=t?i.hover:i.default;e instanceof n.A&&(e=[e]);for(const n of e)this.selectedVertices.splice(this.selectedVertices.indexOf(n),1),this._set("selectedVertices",this.selectedVertices),n.set("symbol",r);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedVertices.length){const e=this.selectedVertices;for(const t of this.selectedVertices)t.set("symbol",this.symbols.vertices.default);this._set("selectedVertices",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){Z.NE.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const t=this.graphic.geometry;if(null==t||"polygon"!==t.type&&"polyline"!==t.type)return;if("polygon"===t.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;e instanceof n.A&&(e=[e]);const i=this.graphic.clone(),r=t.clone();let s=(0,x.$K)(r);const o=[];e instanceof n.A&&(e=[e]);for(const n of e){const{x:e,y:t}=n.geometry;for(let i=0;i<s.length;i++){const r=s[i];for(let n=0;n<r.length;n++){const[a,l]=r[n];e===a&&t===l&&(o.push({coordinates:s[i][n],componentIndex:i,vertexIndex:n}),s[i].splice(Number(n),1))}}}if("polygon"===r.type)s=s.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[r,n]=e[e.length-1];return(2!==e.length||t!==r||i!==n)&&(t===r&&i===n||e.push(e[0]),!0)})),r.rings=s;else{for(const e of s)1===e.length&&s.splice(s.indexOf(e),1);r.paths=s}this.graphic.geometry=r,this.refresh(),this._emitVertexRemoveEvent(e,i,o)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?"copy":"move"}_updateTooltip(e,t){null!=this.tooltip&&(e?e===this.graphic?this._updateMoveGraphicTooltip(t):this._updateMoveVertexTooltip(t):this.tooltip.clear())}_updateMoveGraphicTooltip(e){var t;const{tooltip:i,sketchOptions:r,view:n}=this;if(null==i)return;const s=null!==(t=this._translateGraphicTooltipInfo)&&void 0!==t?t:this._translateGraphicTooltipInfo=new E.ar({sketchOptions:r});if(s.clear(),s.sketchOptions=r,e){const{x:t,y:i}=e.origin,r=n.toMap(e),o=n.toMap((0,d.tc)(t,i)),a=(0,T.Kt)(o,r);s.distance=null!=a?a:p.r7}i.info=s}_updateMoveVertexTooltip(e){var t;const{tooltip:i,graphic:{geometry:r},sketchOptions:n,view:s}=this;if(null==i)return;const o=null!==(t=this._translateVertexTooltipInfo)&&void 0!==t?t:this._translateVertexTooltipInfo=new E.un({sketchOptions:n});if(o.clear(),o.sketchOptions=n,"polygon"===(null===r||void 0===r?void 0:r.type)?o.area=(0,O.n)(r):"polyline"===(null===r||void 0===r?void 0:r.type)&&(o.totalLength=(0,T.ob)(r)),e){const{x:t,y:i}=e.origin,r=s.toMap(e),n=s.toMap((0,d.tc)(t,i)),a=(0,T.Kt)(n,r);o.distance=null!=a?a:p.r7}i.info=o}_emitMoveStartEvent(e,t){const i=new L(this.graphic,e,t);this.emit("move-start",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(e,t){const i=new U(this.graphic,e,t);this.emit("move",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const e=this._activeOperationInfo;if(!e)return;const{totalDx:t,totalDy:i}=e,r=new D(this.graphic,t,i);this.emit("move-stop",r),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(r)}_emitReshapeStartEvent(e){const t=new H(this.graphic,e,this.selectedVertices);this.emit("reshape-start",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new F(this.graphic,e,this.selectedVertices);this.emit("reshape",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new q(this.graphic,e,this.selectedVertices);this.emit("reshape-stop",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new $(e);this.emit("select",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new W(e);this.emit("deselect",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,i){const r=new P(e,this.graphic,t,i);this.emit("vertex-add",r),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(r)}_emitVertexRemoveEvent(e,t,i){const r=new B(e,this.graphic,t,i);this.emit("vertex-remove",r),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(r)}_logGeometryTypeError(){h.A.getLogger(this).error(new a.A("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}};(0,r._)([(0,u.MZ)()],J.prototype,"tooltip",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"_translateGraphicTooltipInfo",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"_translateVertexTooltipInfo",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"callbacks",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"enableMidpoints",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"enableMovement",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"enableVertices",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"graphic",void 0),(0,r._)([(0,u.MZ)({value:!0})],J.prototype,"highlightsEnabled",null),(0,r._)([(0,u.MZ)()],J.prototype,"layer",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],J.prototype,"midpointGraphics",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"midpointSymbol",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],J.prototype,"selectedVertices",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"snappingManager",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],J.prototype,"state",null),(0,r._)([(0,u.MZ)()],J.prototype,"symbols",void 0),(0,r._)([(0,u.MZ)({type:C.A})],J.prototype,"sketchOptions",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],J.prototype,"type",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],J.prototype,"vertexGraphics",void 0),(0,r._)([(0,u.MZ)()],J.prototype,"view",void 0),J=(0,r._)([(0,y.$)("esri.views.draw.support.Reshape")],J);const j=J},79103:(e,t,i)=>{i.d(t,{W:()=>p});var r=i(69539);const n={main:new r.A([255,127,0]),selected:new r.A([255,255,255]),outline:new r.A([0,0,0,.5]),selectedOutline:new r.A([255,255,255]),hoverOutline:new r.A([255,255,255]),secondary:new r.A([255,255,255]),secondaryOutline:new r.A([100,100,100]),transparent:new r.A([0,0,0,0])};function s(e,t){Object.assign(e,t)}class o{constructor(e){this.size=8,this.hoverSize=10,this.color=n.main,this.hoverColor=n.main,this.outlineColor=n.outline,this.hoverOutlineColor=n.hoverOutline,s(this,e)}}class a{constructor(e){this.color=n.secondary,this.hoverColor=n.main,s(this,e)}}class l{constructor(e){this.color=n.transparent,this.hoverColor=n.transparent,this.outlineColor=n.main,this.hoverOutlineColor=n.main,this.stagedColor=n.transparent,this.stagedOutlineColor=n.secondary,s(this,e)}}class h{constructor(e){this.vertex=new o,this.midpoint=new o({color:n.secondary,outlineColor:n.secondaryOutline,size:6}),this.selected=new o({color:n.selected,hoverColor:n.selected,hoverOutlineColor:n.hoverOutline}),s(this,e)}}class c{constructor(e){this.center=new o({color:n.secondaryOutline}),this.fill=new l,this.line=new a,this.vertex=new o({color:n.selected,outlineColor:n.main,hoverColor:n.selected,hoverOutlineColor:n.secondaryOutline}),s(this,e)}}const p=new class{constructor(e){this.reshapeGraphics=new h,this.transformGraphics=new c,s(this,e)}}},13284:(e,t,i)=>{i.d(t,{e:()=>r});class r{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},72236:(e,t,i)=>{i.d(t,{JH:()=>d,YI:()=>h,ar:()=>l,nW:()=>c,un:()=>p,y3:()=>v});var r=i(35143),n=i(24648),s=i(46053),o=i(85842),a=i(73697);let l=class extends a.w{constructor(e){super(e),this.type="translate-graphic",this.distance=n.r7}clear(){this.distance=n.r7}};(0,r._)([(0,s.MZ)()],l.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"distance",void 0),l=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.TranslateGraphicTooltipInfo")],l);let h=class extends a.w{constructor(e){super(e),this.type="translate-graphic-z",this.distance=n.r7}clear(){this.distance=n.r7}};(0,r._)([(0,s.MZ)()],h.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],h.prototype,"distance",void 0),h=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.TranslateGraphicZTooltipInfo")],h);let c=class extends a.w{constructor(e){super(e),this.type="translate-graphic-xy",this.distance=n.r7}};(0,r._)([(0,s.MZ)()],c.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],c.prototype,"distance",void 0),c=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.TranslateGraphicXYTooltipInfo")],c);let p=class extends a.w{constructor(e){super(e),this.type="translate-vertex",this.distance=n.r7,this.elevation=null,this.area=null,this.totalLength=null}clear(){this.distance=n.r7,this.elevation=null,this.area=null,this.totalLength=null}};(0,r._)([(0,s.MZ)()],p.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],p.prototype,"distance",void 0),(0,r._)([(0,s.MZ)()],p.prototype,"elevation",void 0),(0,r._)([(0,s.MZ)()],p.prototype,"area",void 0),(0,r._)([(0,s.MZ)()],p.prototype,"totalLength",void 0),p=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.TranslateVertexTooltipInfo")],p);let v=class extends a.w{constructor(e){super(e),this.type="translate-vertex-z",this.distance=n.r7,this.elevation=null}clear(){this.distance=n.r7,this.elevation=null}};(0,r._)([(0,s.MZ)()],v.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],v.prototype,"distance",void 0),(0,r._)([(0,s.MZ)()],v.prototype,"elevation",void 0),v=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.TranslateVertexZTooltipInfo")],v);let d=class extends a.w{constructor(e){super(e),this.type="translate-vertex-xy",this.distance=n.r7,this.elevation=null,this.area=null,this.totalLength=null}clear(){this.distance=n.r7,this.elevation=null,this.area=null,this.totalLength=null}};(0,r._)([(0,s.MZ)()],d.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"distance",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"elevation",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"area",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"totalLength",void 0),d=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.TranslateVertexXYTooltipInfo")],d)},71008:(e,t,i)=>{i.d(t,{n:()=>f});var r=i(78009),n=(i(35238),i(24648)),s=i(63391),o=i(20664),a=i(9392),l=i(482);const h=(0,a.vt)();var c=i(7137),p=i(90659),v=i(13312);function d(e){const{spatialReference:t}=e;return(0,p.M)(t,u,y,x,e)}function u(e){return(0,n.gT)(Math.abs((0,c.qy)([e],"square-meters")[0]),"square-meters")}function y(e){try{return(0,n.gT)(Math.abs((0,s.geodesicArea)(e,"square-meters")),"square-meters")}catch(t){return null}}function x(e){const t=[];return function(e,t){let{hasZ:i,spatialReference:r,rings:n}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=(0,l.Yz)(r);if(null==a)return!1;const c=i?e=>e:e=>(0,o.s)(h,e[0],e[1],s);for(const o of n){const e=[];for(const t of o){const i=[0,0,s];a(c(t),0,i,0),e.push(i)}t.push(e)}return!0}(e,t)?(0,n.gT)(Math.abs((0,c.qy)([{type:"polygon",rings:t,spatialReference:v.A.WGS84}],"square-meters")[0]),"square-meters"):null}function f(e){return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.u0)();if("on-the-ground"===t){const t=d(e);return null!=t?t:(0,r.qh)(e,i)}return(0,r.EI)(e,i)}(e,"on-the-ground",arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.u0)())}},78009:(e,t,i)=>{i.d(t,{EI:()=>v,lO:()=>g,qh:()=>d,u0:()=>f});var r=i(24648),n=i(31633),s=i(38983),o=i(20664),a=i(9392),l=i(14487),h=i(13927),c=i(45097),p=i(41868);function v(e){return u(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]})}function d(e){return u(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]},!1)}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.hasZ;const s=(0,p.l)(e.spatialReference),v=(0,n.B5)(s);if(null==v)return null;const d=(e,t)=>!(t.length<2)&&((0,o.s)(e,t[0],t[1],i&&t[2]||0),!0);let u=0;for(const r of e.rings){const i=r.length;if(i<3)continue;const{positionsWorldCoords:n}=t;for(;n.length<i;)n.push((0,a.vt)());const p=y,v=(0,o.s)(x,0,0,0),f=1/i;for(let t=0;t<i;t++){if(!d(p,r[t]))return null;if(!(0,l.F)(p,e.spatialReference,n[t],s))return null;(0,o.r)(v,v,n[t],f)}const _=(0,h.Cr)(n[0],n[1],v,(0,h.LV)());if(0===(0,o.p)((0,h.Qj)(_)))continue;for(let e=0;e<i;e++)(0,h.Z1)(_,v,n[e],n[e]);const m=g(n);for(let e=0;e<m.length;e+=3)u+=(0,c.Fm)(n[m[e]],n[m[e+1]],n[m[e+2]])}return(0,r.gT)(u,v)}const y=(0,a.vt)(),x=(0,a.vt)();function f(){return{positionsWorldCoords:[]}}function g(e){return(0,s.e)(function(e){const t=new Float64Array(2*e.length);for(let i=0;i<e.length;++i){const r=e[i],n=2*i;t[n]=r[0],t[n+1]=r[1]}return t}(e),[],2)}}}]);
//# sourceMappingURL=24546.c25ae8dd.chunk.js.map