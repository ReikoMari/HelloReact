{"version":3,"file":"static/js/70177.7e3a4844.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js","../node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js","../node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{addNearFar as e,addLinearDepth as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as t}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{VertexColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{OutputDepth as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js\";import{OutputHighlight as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{multipassTerrainTest as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{VisualVariables as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as u}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as b}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as v}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as m}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{TransparencyPassType as h}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as f}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function w(w){const C=new m,{vertex:j,fragment:y,attributes:L,varyings:O}=C;c(j,w),C.include(t,w),C.include(s,w),C.include(p,w),C.include(l,w),L.add(f.POSITION,\"vec3\"),w.vvColor&&L.add(f.COLORFEATUREATTRIBUTE,\"float\"),O.add(\"vColor\",\"vec4\"),O.add(\"vpos\",\"vec3\");const A=w.multipassEnabled&&(w.output===o.Color||w.output===o.Alpha);A&&O.add(\"depth\",\"float\"),j.uniforms.add(new b(\"eColor\",(e=>e.color)));const T=w.output===o.LinearDepth;T&&(C.include(a,w),e(C),r(C)),j.code.add(v`\n    void main(void) {\n      vpos = position;\n      forwardNormalizedVertexColor();\n      forwardObjectAndLayerIdColor();\n\n      ${w.hasVertexColors?\"vColor *= eColor;\":w.vvColor?\"vColor = eColor * interpolateVVColor(colorFeatureAttribute);\":\"vColor = eColor;\"}\n      ${A?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      gl_Position = ${T?v`transformPositionWithDepth(proj, view, vpos, nearFar, linearDepth);`:v`transformPosition(proj, view, vpos);`}\n    }\n  `),C.include(i,w),A&&C.include(n,w),y.include(g);const $=w.output===o.Highlight;return $&&C.include(d,w),y.code.add(v`\n  void main() {\n    discardBySlice(vpos);\n    ${A?\"terrainDepthTest(depth);\":\"\"}\n    vec4 fColor = vColor;\n\n    ${w.output===o.ObjectAndLayerIdColor?v`fColor.a = 1.0;`:\"\"}\n\n    if (fColor.a < ${v.float(u)}) {\n      discard;\n    }\n\n    ${w.output===o.Alpha?v`fragColor = vec4(fColor.a);`:\"\"}\n\n    ${w.output===o.Color?v`fragColor = highlightSlice(fColor, vpos); ${w.transparencyPassType===h.Color?\"fragColor = premultiplyAlpha(fragColor);\":\"\"}`:\"\"}\n    ${$?v`outputHighlight();`:\"\"};\n    ${w.output===o.LinearDepth?v`outputDepth(linearDepth);`:\"\"};\n    ${w.output===o.ObjectAndLayerIdColor?v`outputObjectAndLayerIdColor();`:\"\"}\n  }\n  `),C}const C=Object.freeze(Object.defineProperty({__proto__:null,build:w},Symbol.toStringTag,{value:\"Module\"}));export{C,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{set as e,copy as o}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ZEROS as r}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ShaderOutput as l}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as t}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as a}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{AlignPixel as s}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js\";import{HUD as n}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js\";import{HUDOcclusionPass as c}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{HUDVisibility as d}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js\";import{occludedHighlightFlag as u,unoccludedHighlightFlag as p}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as g}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as f,defaultMaskAlphaCutoff as v}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as m}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{RgbaFloatEncoding as b}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{ScreenSizePerspective as h,addScreenSizePerspective as w,addScreenSizePerspectiveAlignment as x}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{addPixelRatio as C}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as P}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float4PassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as j}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as z}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as y}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as A}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as O}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as $}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function F(o){const i=new y,F=o.signedDistanceFieldEnabled;if(i.include(n,o),i.include(t,o),o.occlusionPass)return i.include(c,o),i;const{vertex:B,fragment:H}=i;i.include(h),H.include(b),H.include(m),i.include(g,o),i.include(a,o),i.include(d),i.varyings.add(\"vcolor\",\"vec4\"),i.varyings.add(\"vtc\",\"vec2\"),i.varyings.add(\"vsize\",\"vec2\"),i.varyings.add(\"voccluded\",\"float\"),B.uniforms.add(new S(\"viewport\",((e,o)=>o.camera.fullViewport)),new P(\"screenOffset\",((o,i)=>e(T,2*o.screenOffset[0]*i.camera.pixelRatio,2*o.screenOffset[1]*i.camera.pixelRatio))),new P(\"anchorPosition\",(e=>D(e))),new S(\"materialColor\",(e=>e.color))),C(B),F&&(B.uniforms.add(new S(\"outlineColor\",(e=>e.outlineColor))),H.uniforms.add(new S(\"outlineColor\",(e=>L(e)?e.outlineColor:r)),new j(\"outlineSize\",(e=>L(e)?e.outlineSize:0)))),o.pixelSnappingEnabled&&B.include(s),o.hasScreenSizePerspective&&(w(B),x(B)),o.debugDrawLabelBorder&&i.varyings.add(\"debugBorderCoords\",\"vec4\"),i.attributes.add($.UV0,\"vec2\"),i.attributes.add($.COLOR,\"vec4\"),i.attributes.add($.SIZE,\"vec2\"),i.attributes.add($.FEATUREATTRIBUTE,\"vec4\"),B.code.add(z`\n    void main(void) {\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n      forwardObjectAndLayerIdColor();\n\n      if (rejectBySlice(projectAux.posModel)) {\n        // Project outside of clip plane\n        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n        return;\n      }\n      vec2 inputSize;\n      ${o.hasScreenSizePerspective?z`\n            inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);\n            vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);\n         `:z`\n            inputSize = size;\n            vec2 screenOffsetScaled = screenOffset;`}\n\n      ${o.vvSize?\"inputSize *= vvScale(featureAttribute).xx;\":\"\"}\n\n      vec2 combinedSize = inputSize * pixelRatio;\n      vec4 quadOffset = vec4(0.0);\n      bool visible = testHUDVisibility(posProj);\n      voccluded = visible ? 0.0 : 1.0;\n    `);const U=z`vec2 uv01 = floor(uv0);\nvec2 uv = uv0 - uv01;\nquadOffset.xy = ((uv01 - anchorPosition) * 2.0 * combinedSize + screenOffsetScaled) / viewport.zw * posProj.w;`,V=o.pixelSnappingEnabled?F?z`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:z`posProj += quadOffset;\nif (inputSize.x == size.x) {\nposProj = alignToPixelOrigin(posProj, viewport.zw);\n}`:z`posProj += quadOffset;`;B.code.add(z`\n    ${o.occlusionTestEnabled?\"if (visible) {\":\"\"}\n    ${U}\n    ${o.vvColor?\"vcolor = interpolateVVColor(featureAttribute.y) * materialColor;\":\"vcolor = color / 255.0 * materialColor;\"}\n\n    ${o.output===l.ObjectAndLayerIdColor?z`vcolor.a = 1.0;`:\"\"}\n\n    bool alphaDiscard = vcolor.a < ${z.float(f)};\n    ${F?`alphaDiscard = alphaDiscard && outlineColor.a < ${z.float(f)};`:\"\"}\n    if (alphaDiscard) {\n      // \"early discard\" if both symbol color (= fill) and outline color (if applicable) are transparent\n      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n      return;\n    } else {\n      ${V}\n      gl_Position = posProj;\n    }\n\n    vtc = uv;\n\n    ${o.debugDrawLabelBorder?\"debugBorderCoords = vec4(uv01, 1.5 / combinedSize);\":\"\"}\n    vsize = inputSize;\n    ${o.occlusionTestEnabled?z`} else { vtc = vec2(0.0);\n      ${o.debugDrawLabelBorder?\"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);}\":\"}\"}`:\"\"}\n  }\n  `),H.uniforms.add(new A(\"tex\",(e=>e.texture)));const E=o.debugDrawLabelBorder?z`(isBorder > 0.0 ? 0.0 : ${z.float(v)})`:z.float(v),I=z`\n    ${o.debugDrawLabelBorder?z`\n      float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`:\"\"}\n\n    ${o.sampleSignedDistanceFieldTexelCenter?z`\n      // Attempt to sample texel centers to avoid that thin cross outlines\n      // disappear with large symbol sizes.\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603041\n      float txSize = float(textureSize(tex, 0).x);\n      float texelSize = 1.0 / txSize;\n\n      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel\n      vec2 scaleFactor = (vsize - txSize) * texelSize;\n      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;\n      `:z`\n      vec2 samplePos = vtc;\n      `}\n\n    ${F?z`\n      vec4 fillPixelColor = vcolor;\n\n      // Get distance and map it into [-0.5, 0.5]\n      float d = rgba2float(texture(tex, samplePos)) - 0.5;\n\n      // Distance in output units (i.e. pixels)\n      float dist = d * vsize.x;\n\n      // Create smooth transition from the icon into its outline\n      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);\n      fillPixelColor.a *= fillAlphaFactor;\n\n      if (outlineSize > 0.25) {\n        vec4 outlinePixelColor = outlineColor;\n        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);\n\n        // Create smooth transition around outline\n        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);\n        outlinePixelColor.a *= outlineAlphaFactor;\n\n        if (\n          outlineAlphaFactor + fillAlphaFactor < ${E} ||\n          fillPixelColor.a + outlinePixelColor.a < ${z.float(f)}\n        ) {\n          discard;\n        }\n\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\n        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\n        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +\n          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\n\n        fragColor = vec4(compositeColor, compositeAlpha);\n      } else {\n        if (fillAlphaFactor < ${E}) {\n          discard;\n        }\n\n        fragColor = premultiplyAlpha(fillPixelColor);\n      }\n\n      // visualize SDF:\n      // fragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\n      `:z`\n          vec4 texColor = texture(tex, vtc, -0.5);\n          if (texColor.a < ${E}) {\n            discard;\n          }\n          fragColor = texColor * premultiplyAlpha(vcolor);\n          `}\n\n    // Draw debug border with transparency, so that original texels along border are still partially visible\n    ${o.debugDrawLabelBorder?z`fragColor = mix(fragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder * 0.5);`:\"\"}\n  `;switch(o.output){case l.Color:H.code.add(z`\n        void main() {\n          ${I}\n          ${o.transparencyPassType===O.FrontFace?\"fragColor.rgb /= fragColor.a;\":\"\"}\n        }`);break;case l.Alpha:H.code.add(z`\n        void main() {\n          ${I}\n          fragColor = vec4(fragColor.a);\n        }`);break;case l.ObjectAndLayerIdColor:H.code.add(z`\n        void main() {\n          ${I}\n          outputObjectAndLayerIdColor();\n        }`);break;case l.Highlight:H.constants.add(\"occludedHighlightFlag\",\"vec4\",u),H.constants.add(\"unoccludedHighlightFlag\",\"vec4\",p),H.code.add(z`\n        void main() {\n          ${I}\n          if (voccluded == 1.0) {\n            fragColor = occludedHighlightFlag;\n          } else {\n            fragColor = unoccludedHighlightFlag;\n          }\n        }`)}return i}function L(e){return e.outlineColor[3]>0&&e.outlineSize>0}function D(e,i=T){return e.textureIsSignedDistanceField?B(e.anchorPosition,e.distanceFieldBoundingBox,i):o(i,e.anchorPosition),i}function B(o,i,r){null!=i?e(r,o[0]*(i[2]-i[0])+i[0],o[1]*(i[3]-i[1])+i[1]):e(r,0,0)}const T=i(),H=Object.freeze(Object.defineProperty({__proto__:null,build:F,calculateAnchorPosForRendering:D},Symbol.toStringTag,{value:\"Module\"}));export{H,F as b,D as c};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{rotateZ as n,rotateX as r,rotateY as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromArray as o,ONES as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s}from\"../../../../chunks/vec42.js\";import{clone as u,ONES as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectPoint as m}from\"../../../../geometry/projection.js\";import{width as c,depth as f,height as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{ringsCentroid as g}from\"../../../../geometry/support/centroid.js\";import{getPointOnPath as y,getPathLength as x}from\"../../../../geometry/support/coordsUtils.js\";import{makeDehydratedPoint as d}from\"../../../../layers/graphics/dehydratedPoint.js\";import{isHydratedGeometry as j,clonePoint as v}from\"../../../../layers/graphics/hydratedFeatures.js\";function b(t,n){if(\"point\"===t.type)return M(t,n,!1);if(j(t))switch(t.type){case\"extent\":return M(t.center,n,!1);case\"polygon\":return M(t.centroid,n,!1);case\"polyline\":return M(w(t),n,!0);case\"mesh\":return M(t.origin,n,!1)}else switch(t.type){case\"extent\":return M(z(t),n,!0);case\"polygon\":return M(R(t),n,!0);case\"polyline\":return M(w(t),n,!0)}}function w(t){const n=t.paths[0];if(!n||0===n.length)return null;const r=y(n,x(n)/2);return d(r[0],r[1],r[2],t.spatialReference)}function z(t){return d(.5*(t.xmax+t.xmin),.5*(t.ymax+t.ymin),null!=t.zmin&&null!=t.zmax&&isFinite(t.zmin)&&isFinite(t.zmax)?.5*(t.zmax+t.zmin):void 0,t.spatialReference)}function R(t){const n=t.rings[0];if(!n||0===n.length)return null;const r=g(t.rings,!!t.hasZ);return d(r[0],r[1],r[2],t.spatialReference)}function M(t,n,r){const e=r?t:v(t);return n&&t?m(t,e,n)?e:null:e}function P(t,n,r,e=0){if(t){n||(n=h());const i=t;let o=.5*i.width*(r-1),l=.5*i.height*(r-1);return i.width<1e-7*i.height?o+=l/20:i.height<1e-7*i.width&&(l+=o/20),s(n,i.xmin-o-e,i.ymin-l-e,i.xmax+o+e,i.ymax+l+e),n}return null}function F(t,n,r=null){const e=u(a);return null!=t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),null!=n?e[3]=n:null!=t&&t.length>3&&(e[3]=t[3]),r&&(e[0]*=r,e[1]*=r,e[2]*=r,e[3]*=r),e}function A(t,n,r,e,i,o=[0,0,0,0]){for(let l=0;l<3;++l)o[l]=null!=t?.[l]?t[l]:null!=r?.[l]?r[l]:i[l];return o[3]=null!=n?n:null!=e?e:i[3],o}function B(t=l,n,r,e=1){const i=new Array(3);if(null==n||null==r)i[0]=1,i[1]=1,i[2]=1;else{let e,o=0;for(let l=2;l>=0;l--){const s=t[l];let u;const a=null!=s,m=0===l&&!e&&!a,c=r[l];\"symbol-value\"===s||m?u=0!==c?n[l]/c:1:a&&\"proportional\"!==s&&isFinite(s)&&(u=0!==c?s/c:1),null!=u&&(i[l]=u,e=u,o=Math.max(o,Math.abs(u)))}for(let t=2;t>=0;t--)null==i[t]?i[t]=e:0===i[t]&&(i[t]=.001*o)}for(let o=2;o>=0;o--)i[o]/=e;return o(i)}function D(t){return null!=t.isPrimitive}function I(t){return S(D(t)?[t.width,t.depth,t.height]:t)?null:\"Symbol sizes may not be negative values\"}function S(t){const n=t=>null==t||t>=0;return Array.isArray(t)?t.every(n):n(t)}function U(t,o,l,s=i()){return t&&n(s,s,-t/180*Math.PI),o&&r(s,s,o/180*Math.PI),l&&e(s,s,l/180*Math.PI),s}function k(n,r,e){if(null!=e.minDemResolution)return e.minDemResolution;const i=t(r),o=c(n)*i,l=f(n)*i,s=p(n)*(r.isGeographic?1:i);return 0===o&&0===l&&0===s?e.minDemResolutionForPoints:.01*Math.max(o,l,s)}export{b as computeCentroid,U as computeObjectRotation,B as computeObjectScale,k as demResolutionForBoundingBox,P as enlargeExtent,S as isValidSize,F as mixinColorAndOpacity,A as overrideColor,I as validateSymbolLayerSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{BooleanPassUniform as e}from\"../../shaderModules/BooleanPassUniform.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";function o(o){o.uniforms.add(new e(\"alignPixelEnabled\",((e,i)=>i.alignPixelEnabled))),o.code.add(i`vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {\nif (!alignPixelEnabled)\nreturn clipCoord;\nvec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;\nvec2 pixelSz = vec2(1.0) / widthHeight;\nvec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;\nvec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\nreturn vec4(result, clipCoord.zw);\n}`),o.code.add(i`vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {\nif (!alignPixelEnabled)\nreturn clipCoord;\nvec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;\nvec2 pixelSz = vec2(1.0) / widthHeight;\nvec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;\nvec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\nreturn vec4(result, clipCoord.zw);\n}`)}export{o as AlignPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{addVerticalOffset as e}from\"../attributes/VerticalOffset.glsl.js\";import{ScreenSizePerspective as t,addScreenSizePerspectiveAlignment as a}from\"../util/ScreenSizePerspective.glsl.js\";import{addProjViewLocalOrigin as o,addCameraPosition as s,addViewNormal as i,addPixelRatio as n}from\"../util/View.glsl.js\";import{Float4PassUniform as r}from\"../../shaderModules/Float4PassUniform.js\";import{FloatPassUniform as l}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as f}from\"../../shaderModules/interfaces.js\";import{VertexAttribute as c}from\"../../../lib/VertexAttribute.js\";const p=.5;function d(d,u){d.include(t),d.attributes.add(c.POSITION,\"vec3\"),d.attributes.add(c.NORMAL,\"vec3\"),d.attributes.add(c.CENTEROFFSETANDDISTANCE,\"vec4\");const v=d.vertex;o(v,u),s(v,u),v.uniforms.add(new r(\"viewport\",((e,t)=>t.camera.fullViewport)),new l(\"polygonOffset\",(e=>e.shaderPolygonOffset)),new l(\"cameraGroundRelative\",((e,t)=>t.camera.aboveGround?1:-1))),u.hasVerticalOffset&&e(v),v.constants.add(\"smallOffsetAngle\",\"float\",.984807753012208),v.code.add(f`struct ProjectHUDAux {\nvec3 posModel;\nvec3 posView;\nvec3 vnormal;\nfloat distanceToCamera;\nfloat absCosAngle;\n};`),v.code.add(f`\n    float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {\n      float pointGroundSign = ${u.multipassEnabled?f.float(0):f`sign(pointGroundDistance)`};\n      if (pointGroundSign == 0.0) {\n        pointGroundSign = cameraGroundRelative;\n      }\n\n      // cameraGroundRelative is -1 if camera is below ground, 1 if above ground\n      // groundRelative is 1 if both camera and symbol are on the same side of the ground, -1 otherwise\n      float groundRelative = cameraGroundRelative * pointGroundSign;\n\n      // view angle dependent part of polygon offset emulation: we take the absolute value because the sign that is\n      // dropped is instead introduced using the ground-relative position of the symbol and the camera\n      if (polygonOffset > .0) {\n        float cosAlpha = clamp(absCosAngle, 0.01, 1.0);\n        float tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\n        float factor = (1.0 - tanAlpha / viewport[2]);\n\n        // same side of the terrain\n        if (groundRelative > 0.0) {\n          posView *= factor;\n        }\n        // opposite sides of the terrain\n        else {\n          posView /= factor;\n        }\n      }\n\n      return groundRelative;\n    }\n  `),u.draped&&!u.hasVerticalOffset||i(v),u.draped||(v.uniforms.add(new l(\"perDistancePixelRatio\",((e,t)=>Math.tan(t.camera.fovY/2)/(t.camera.fullViewport[2]/2)))),v.code.add(f`\n    void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {\n      float distanceToCamera = length(posView);\n\n      // Compute offset in world units for a half pixel shift\n      float pixelOffset = distanceToCamera * perDistancePixelRatio * ${f.float(p)};\n\n      // Apply offset along normal in the direction away from the ground surface\n      vec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;\n\n      // Apply the same offset also on the view space position\n      vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n\n      posModel += modelOffset;\n      posView += viewOffset;\n    }\n  `)),u.screenCenterOffsetUnitsEnabled&&n(v),u.hasScreenSizePerspective&&a(v),v.code.add(f`\n    vec4 projectPositionHUD(out ProjectHUDAux aux) {\n      vec3 centerOffset = centerOffsetAndDistance.xyz;\n      float pointGroundDistance = centerOffsetAndDistance.w;\n\n      aux.posModel = position;\n      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;\n      aux.vnormal = normal;\n      ${u.draped?\"\":\"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);\"}\n\n      // Screen sized offset in world space, used for example for line callouts\n      // Note: keep this implementation in sync with the CPU implementation, see\n      //   - MaterialUtil.verticalOffsetAtDistance\n      //   - HUDMaterial.applyVerticalOffsetTransformation\n\n      aux.distanceToCamera = length(aux.posView);\n\n      vec3 viewDirObjSpace = normalize(cameraPosition - aux.posModel);\n      float cosAngle = dot(aux.vnormal, viewDirObjSpace);\n\n      aux.absCosAngle = abs(cosAngle);\n\n      ${u.hasScreenSizePerspective&&(u.hasVerticalOffset||u.screenCenterOffsetUnitsEnabled)?\"vec3 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);\":\"\"}\n\n      ${u.hasVerticalOffset?u.hasScreenSizePerspective?\"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);\":\"float verticalOffsetScreenHeight = verticalOffset.x;\":\"\"}\n\n      ${u.hasVerticalOffset?f`\n            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);\n            vec3 modelOffset = aux.vnormal * worldOffset;\n            aux.posModel += modelOffset;\n            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n            aux.posView += viewOffset;\n            // Since we elevate the object, we need to take that into account\n            // in the distance to ground\n            pointGroundDistance += worldOffset;`:\"\"}\n\n      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);\n\n      ${u.screenCenterOffsetUnitsEnabled?\"\":f`\n            // Apply x/y in view space, but z in screen space (i.e. along posView direction)\n            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);\n\n            // Same material all have same z != 0.0 condition so should not lead to\n            // branch fragmentation and will save a normalization if it's not needed\n            if (centerOffset.z != 0.0) {\n              aux.posView -= normalize(aux.posView) * centerOffset.z;\n            }\n          `}\n\n      vec4 posProj = proj * vec4(aux.posView, 1.0);\n\n      ${u.screenCenterOffsetUnitsEnabled?u.hasScreenSizePerspective?\"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);\":\"float centerOffsetY = centerOffset.y;\":\"\"}\n\n      ${u.screenCenterOffsetUnitsEnabled?\"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;\":\"\"}\n\n      // constant part of polygon offset emulation\n      posProj.z -= groundRelative * polygonOffset * posProj.w;\n      return posProj;\n    }\n  `)}export{d as HUD,p as HUDVerticalPixelOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{AlignPixel as e}from\"./AlignPixel.glsl.js\";import{multipassGeometryTest as o}from\"../shading/MultipassGeometryTest.glsl.js\";import{multipassTerrainTest as t}from\"../shading/MultipassTerrainTest.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function i(i,s){const{vertex:p,fragment:n}=i;p.include(e),s.multipassEnabled&&(p.include(o),i.varyings.add(\"depth\",\"float\")),p.code.add(r`\n  void main(void) {\n    vec4 posProjCenter;\n    if (dot(position, position) > 0.0) {\n      // Render single point to center of the pixel to avoid subpixel filtering to affect the marker color\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n      posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      ${s.multipassEnabled?r`\n        // Don't draw vertices behind geometry\n        if(geometryDepthTest(.5 + .5 * posProjCenter.xy / posProjCenter.w, projectAux.posView.z)){\n          posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n        }`:\"\"}\n\n      ${s.multipassEnabled?\"depth = projectAux.posView.z;\":\"\"}\n      vec3 vpos = projectAux.posModel;\n      if (rejectBySlice(vpos)) {\n        // Project out of clip space\n        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n      }\n\n    } else {\n      // Project out of clip space\n      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n\n    gl_Position = posProjCenter;\n    gl_PointSize = 1.0;\n  }\n  `),i.include(t,s),n.code.add(r`\n  void main() {\n    fragColor = vec4(1);\n    ${s.multipassEnabled?r`\n        if(terrainDepthTest(depth)) {\n          fragColor.g = 0.5;\n        }`:\"\"}\n  }\n  `)}export{i as HUDOcclusionPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{AlignPixel as e}from\"./AlignPixel.glsl.js\";import{HUDRenderStyle as r}from\"./HUDRenderStyle.js\";import{Float4PassUniform as o}from\"../../shaderModules/Float4PassUniform.js\";import{FloatPassUniform as i}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../../shaderModules/interfaces.js\";import{Texture2DPassUniform as s}from\"../../shaderModules/Texture2DPassUniform.js\";function t(t){t.vertex.uniforms.add(new i(\"renderTransparentlyOccludedHUD\",((e,o)=>o.hudRenderStyle===r.Occluded?1:o.hudRenderStyle===r.NotOccluded?0:.75)),new o(\"viewport\",((e,r)=>r.camera.fullViewport)),new s(\"hudVisibilityTexture\",((e,r)=>r.hudVisibility?.getTexture()))),t.vertex.include(e),t.vertex.code.add(l`bool testHUDVisibility(vec4 posProj) {\nvec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);\nvec4 occlusionPixel = texture(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);\nif (renderTransparentlyOccludedHUD > 0.5) {\nreturn occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * renderTransparentlyOccludedHUD < 1.0;\n}\nreturn occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;\n}`)}export{t as HUDVisibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as l,oitBlending as o,oitDepthTest as n,getOITPolygonOffset as a}from\"../lib/OrderIndependentTransparency.js\";import{Program as c}from\"../lib/Program.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as m}from\"../lib/StencilUtils.js\";import{TransparencyPassType as d}from\"../lib/TransparencyPassType.js\";import{VisualVariablePassParameters as f}from\"../materials/VisualVariablePassParameters.js\";import{C as h}from\"../../../../chunks/ColorMaterial.glsl.js\";import{makePipelineState as g,cullingParams as P,defaultDepthWriteParams as b,defaultColorWriteParams as j}from\"../../../webgl/renderState.js\";class y extends f{constructor(){super(...arguments),this.color=e}}class T extends i{initializeProgram(e){return new c(e.rctx,T.shader.get().build(this.configuration),s)}_createPipeline(e,t){const i=this.configuration,s=e===d.NONE,c=e===d.FrontFace;return g({blending:i.output!==r.Color&&i.output!==r.Alpha||!i.transparent?null:s?l:o(e),culling:P(i.cullFace),depthTest:i.draped?null:{func:n(e)},depthWrite:i.draped?null:(s||c)&&i.writeDepth?b:null,colorWrite:j,stencilWrite:i.hasOccludees?p:null,stencilTest:i.hasOccludees?t?u:m:null,polygonOffset:s||c?i.polygonOffset?O:null:a(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._createPipeline(this.configuration.transparencyPassType,!0),this._createPipeline(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}T.shader=new t(h,(()=>import(\"./ColorMaterial.glsl.js\")));const O={factor:1,units:1};export{y as ColorMaterialPassParameters,T as ColorMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{TransparencyPassType as r}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as p}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends p{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=r.NONE,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.multipassEnabled=!1,this.cullAboveGround=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1}}o([e({count:t.COUNT})],i.prototype,\"output\",void 0),o([e({count:s.COUNT})],i.prototype,\"cullFace\",void 0),o([e({count:r.COUNT})],i.prototype,\"transparencyPassType\",void 0),o([e()],i.prototype,\"hasSlicePlane\",void 0),o([e()],i.prototype,\"hasVertexColors\",void 0),o([e()],i.prototype,\"transparent\",void 0),o([e()],i.prototype,\"polygonOffset\",void 0),o([e()],i.prototype,\"enableOffset\",void 0),o([e()],i.prototype,\"writeDepth\",void 0),o([e()],i.prototype,\"hasOccludees\",void 0),o([e()],i.prototype,\"multipassEnabled\",void 0),o([e()],i.prototype,\"cullAboveGround\",void 0),o([e()],i.prototype,\"objectAndLayerIdColorInstanced\",void 0),o([e()],i.prototype,\"vvColor\",void 0),o([e()],i.prototype,\"draped\",void 0),o([e({constValue:!1})],i.prototype,\"occlusionPass\",void 0),o([e({constValue:!0})],i.prototype,\"hasVvInstancing\",void 0),o([e({constValue:!1})],i.prototype,\"vvSize\",void 0),o([e({constValue:!1})],i.prototype,\"vvOpacity\",void 0);export{i as ColorMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as t}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as r,isColorAlphaOrOID as s,is2DGeometryOutput as a}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import o from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as p}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as c}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as l}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as u}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as m}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as f}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";class _ extends l{constructor(e){super(e,new T),this.supportsEdges=!0,this.produces=new Map([[h.OPAQUE_MATERIAL,e=>e===r.Highlight||s(e)&&!this._isTransparent],[h.OPAQUE_NO_SSAO_DEPTH,e=>e===r.LinearDepth&&this.parameters.writeLinearDepth&&!this._isTransparent],[h.TRANSPARENT_MATERIAL,e=>s(e)&&this._isTransparent&&this.parameters.writeDepth],[h.TRANSPARENT_NO_SSAO_DEPTH,e=>e===r.LinearDepth&&this.parameters.writeLinearDepth&&this._isTransparent&&this.parameters.writeDepth],[h.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>(s(e)||e===r.LinearDepth&&this.parameters.writeLinearDepth)&&this._isTransparent&&!this.parameters.writeDepth],[h.DRAPED_MATERIAL,e=>a(e)]]),this._configuration=new f}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<n,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}createGLMaterial(e){return new d(e)}createBufferWriter(){const e=t().vec3f(p.POSITION);return has(\"enable-feature:objectAndLayerId-rendering\")&&e.vec4u8(p.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?e.f32(p.COLORFEATUREATTRIBUTE):e.vec4u8(p.COLOR),new c(e)}get _isTransparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}class d extends o{_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){return this._output!==r.Color&&this._output!==r.Alpha||this._updateOccludeeState(e),this.ensureTechnique(m,e)}}class T extends u{constructor(){super(...arguments),this.color=e,this.forceTransparentMode=!1,this.writeDepth=!0,this.writeLinearDepth=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=i.None,this.hasOccludees=!1,this.draped=!1}}export{_ as ColorMaterial,T as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}export{t as isMat4,n as isMat4f32,r as isMat4f64};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ViewingMode as r}from\"../../../ViewingMode.js\";import{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as n}from\"../lib/OrderIndependentTransparency.js\";import{Program as s}from\"../lib/Program.js\";import{TransparencyPassType as a}from\"../lib/TransparencyPassType.js\";import{H as l}from\"../../../../chunks/HUDMaterial.glsl.js\";import{BlendFactor as u,CompareFunction as p,PrimitiveType as c}from\"../../../webgl/enums.js\";import{simpleBlendingParams as d,defaultDepthWriteParams as h,makePipelineState as m,defaultColorWriteParams as f}from\"../../../webgl/renderState.js\";class g extends t{initializeConfiguration(e,i){i.spherical=e.viewingMode===r.Global}initializeProgram(r){return new s(r.rctx,g.shader.get().build(this.configuration),o)}initializePipeline(){const r=this.configuration.transparencyPassType,i=this.configuration,t=r===a.NONE,o=r===a.FrontFace,s=this.configuration.hasPolygonOffset?b:null,l=i.draped?null:(t||o)&&i.output!==e.Highlight&&(i.depthEnabled||i.occlusionPass)?h:null;return m({blending:i.output===e.Color||i.output===e.Alpha||i.output===e.Highlight?t?j:n(r):null,depthTest:i.draped?null:{func:p.LEQUAL},depthWrite:l,colorWrite:f,polygonOffset:s})}get primitiveType(){return this.configuration.occlusionPass?c.POINTS:c.TRIANGLES}}g.shader=new i(l,(()=>import(\"./HUDMaterial.glsl.js\")));const b={factor:0,units:-4},j=d(u.ONE,u.ONE_MINUS_SRC_ALPHA);export{g as HUDMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{TransparencyPassType as i}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends s{constructor(){super(...arguments),this.output=o.Color,this.transparencyPassType=i.NONE,this.screenCenterOffsetUnitsEnabled=!1,this.spherical=!1,this.occlusionTestEnabled=!0,this.signedDistanceFieldEnabled=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.vvSize=!1,this.vvColor=!1,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.debugDrawLabelBorder=!1,this.hasSlicePlane=!1,this.hasPolygonOffset=!1,this.depthEnabled=!0,this.pixelSnappingEnabled=!0,this.draped=!1,this.multipassEnabled=!1,this.cullAboveGround=!1,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}e([t({count:o.COUNT})],r.prototype,\"output\",void 0),e([t({count:i.COUNT})],r.prototype,\"transparencyPassType\",void 0),e([t()],r.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([t()],r.prototype,\"spherical\",void 0),e([t()],r.prototype,\"occlusionTestEnabled\",void 0),e([t()],r.prototype,\"signedDistanceFieldEnabled\",void 0),e([t()],r.prototype,\"sampleSignedDistanceFieldTexelCenter\",void 0),e([t()],r.prototype,\"vvSize\",void 0),e([t()],r.prototype,\"vvColor\",void 0),e([t()],r.prototype,\"hasVerticalOffset\",void 0),e([t()],r.prototype,\"hasScreenSizePerspective\",void 0),e([t()],r.prototype,\"debugDrawLabelBorder\",void 0),e([t()],r.prototype,\"hasSlicePlane\",void 0),e([t()],r.prototype,\"hasPolygonOffset\",void 0),e([t()],r.prototype,\"depthEnabled\",void 0),e([t()],r.prototype,\"pixelSnappingEnabled\",void 0),e([t()],r.prototype,\"draped\",void 0),e([t()],r.prototype,\"multipassEnabled\",void 0),e([t()],r.prototype,\"cullAboveGround\",void 0),e([t()],r.prototype,\"occlusionPass\",void 0),e([t()],r.prototype,\"objectAndLayerIdColorInstanced\",void 0),e([t({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0),e([t({constValue:!1})],r.prototype,\"hasVvInstancing\",void 0);export{r as HUDMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{fromMat4 as t}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as n,e as o,n as l,f as c,h as f,c as p,l as u,q as m,t as h,k as d,g}from\"../../../../chunks/vec32.js\";import{create as S,fromValues as O}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromArray as b,create as A,fromValues as T}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isMat4 as v}from\"../../../../core/libs/gl-matrix-2/types/mat4.js\";import{create as E}from\"../../../../geometry/support/aaBoundingRect.js\";import{BufferViewVec4u8 as I}from\"../../../../geometry/support/buffer/BufferView.js\";import{evaluateModelTransformScale as _}from\"../../layers/support/FastSymbolUpdates.js\";import{debugFlags as y}from\"../../support/debugFlags.js\";import{newLayout as R}from\"../../support/buffer/InterleavedLayout.js\";import{isColorAlphaHighlightOrOID as x,ShaderOutput as P}from\"../core/shaderLibrary/ShaderOutput.js\";import{HUDVerticalPixelOffset as C}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{GLTextureMaterial as D,GLTextureMaterialBindParameters as j}from\"../lib/GLTextureMaterial.js\";import{Material as L,RenderOccludedFlag as N}from\"../lib/Material.js\";import{RenderSlot as U}from\"../lib/RenderSlot.js\";import{applyScaleFactor as w,applyPrecomputedScaleFactor as F,precomputeScaleFactor as M}from\"../lib/screenSizePerspectiveUtils.js\";import{assert as z}from\"../lib/Util.js\";import{VertexAttribute as V}from\"../lib/VertexAttribute.js\";import{ScaleInfo as B}from\"./ScaleInfo.js\";import{writePosition as G,writeNormal as q,writeColor as W,writeBufferVec4 as H,writeBufferVec4Zeros as X,writeObjectAndLayerIdColor as Y}from\"./internal/bufferWriterUtils.js\";import{verticalOffsetAtDistance as Z}from\"./internal/MaterialUtil.js\";import{c as k}from\"../../../../chunks/HUDMaterial.glsl.js\";import{HUDMaterialTechnique as J}from\"../shaders/HUDMaterialTechnique.js\";import{HUDMaterialTechniqueConfiguration as K}from\"../shaders/HUDMaterialTechniqueConfiguration.js\";class Q extends L{constructor(e){super(e,new Ae),this._configuration=new K,this.produces=new Map([[U.HUD_MATERIAL,e=>x(e)&&!this.parameters.drawInSecondSlot],[U.LABEL_MATERIAL,e=>x(e)&&this.parameters.drawInSecondSlot],[U.OCCLUSION_PIXELS,()=>this.parameters.occlusionTest],[U.DRAPED_MATERIAL,e=>x(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVerticalOffset=!!this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits,this._configuration.hasPolygonOffset=this.parameters.polygonOffset,this._configuration.draped=this.parameters.draped,this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.pixelSnappingEnabled=this.parameters.pixelSnappingEnabled,this._configuration.signedDistanceFieldEnabled=this.parameters.textureIsSignedDistanceField,this._configuration.sampleSignedDistanceFieldTexelCenter=this.parameters.sampleSignedDistanceFieldTexelCenter,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.occlusionPass=t.slot===U.OCCLUSION_PIXELS&&this.parameters.occlusionTest,e===P.Color&&(this._configuration.debugDrawLabelBorder=!!y.LABELS_SHOW_BORDER),this._configuration.depthEnabled=this.parameters.depthEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,r,i,a,h,d){if(!(i.options.selectionMode&&i.options.hud&&e.visible&&i.point))return;const g=this.parameters,O=i.point,b=i.camera;let{scaleX:A,scaleY:T}=this._getScreenScale(e);A*=b.pixelRatio,T*=b.pixelRatio,t(ce,r),e.attributes.has(V.FEATUREATTRIBUTE)&&te(ce);const v=e.attributes.get(V.POSITION),E=e.attributes.get(V.SIZE),I=e.attributes.get(V.NORMAL),_=e.attributes.get(V.CENTEROFFSETANDDISTANCE);z(v.size>=3);const y=k(g),R=\"screen\"===this.parameters.centerOffsetUnits;for(let t=0;t<v.data.length/v.size;t++){const e=t*v.size;n(ie,v.data[e],v.data[e+1],v.data[e+2]),o(ie,ie,r);const a=t*E.size;Oe[0]=E.data[a]*A,Oe[1]=E.data[a+1]*T,o(ie,ie,b.viewMatrix);const h=t*_.size;if(n(ue,_.data[h],_.data[h+1],_.data[h+2]),!R&&(ie[0]+=ue[0],ie[1]+=ue[1],0!==ue[2])){const e=ue[2];l(ue,ie),c(ie,ie,f(ue,ue,e))}const x=t*I.size;if(n(ae,I.data[x],I.data[x+1],I.data[x+2]),this._normalAndViewAngle(ae,ce,b,de),this._applyVerticalOffsetTransformationView(ie,de,b,se),b.applyProjection(ie,ne),ne[0]>-1){R&&(ue[0]||ue[1])&&(ne[0]+=ue[0]*b.pixelRatio,0!==ue[1]&&(ne[1]+=w(ue[1],se.factorAlignment)*b.pixelRatio),b.unapplyProjection(ne,ie)),ne[0]+=this.parameters.screenOffset[0]*b.pixelRatio,ne[1]+=this.parameters.screenOffset[1]*b.pixelRatio,ne[0]=Math.floor(ne[0]),ne[1]=Math.floor(ne[1]),F(Oe,se.factor,Oe);const e=ge*b.pixelRatio;let t=0;if(g.textureIsSignedDistanceField&&(t=g.outlineSize*b.pixelRatio/2),re(O,ne[0],ne[1],Oe,e,t,g,y)){const e=i.ray;if(o(le,ie,s(pe,b.viewMatrix)),ne[0]=O[0],ne[1]=O[1],b.unprojectFromRenderScreen(ne,ie)){const t=S();p(t,e.direction);const r=1/u(t);f(t,t,r);d(m(e.origin,ie)*r,t,-1,!0,1,le)}}}}}intersectDraped(e,t,r,s,i,a){const n=e.attributes.get(V.POSITION),o=e.attributes.get(V.SIZE),l=this.parameters,c=k(l);let{scaleX:f,scaleY:p}=this._getScreenScale(e);f*=e.screenToWorldRatio,p*=e.screenToWorldRatio;const u=Se*e.screenToWorldRatio;for(let m=0;m<n.data.length/n.size;m++){const t=m*n.size,r=n.data[t],h=n.data[t+1],d=m*o.size;Oe[0]=o.data[d]*f,Oe[1]=o.data[d+1]*p;let g=0;l.textureIsSignedDistanceField&&(g=l.outlineSize*e.screenToWorldRatio/2),re(s,r,h,Oe,u,g,l,c)&&i(a.dist,a.normal,-1,!1)}}createBufferWriter(){return new Ee(this)}_normalAndViewAngle(e,r,s,i){return v(r)&&(r=t(fe,r)),h(i.normal,e,r),o(i.normal,i.normal,s.viewInverseTransposeMatrix),i.cosAngle=d(oe,be),i}_updateScaleInfo(e,t,r){const s=this.parameters;null!=s.screenSizePerspective?M(r,t,s.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minScaleFactor=0),null!=s.screenSizePerspectiveAlignment?M(r,t,s.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minScaleFactor=e.factor.minScaleFactor)}applyShaderOffsetsView(e,t,r,s,i,a,n){const o=this._normalAndViewAngle(t,r,i,de);return this._applyVerticalGroundOffsetView(e,o,i,n),this._applyVerticalOffsetTransformationView(n,o,i,a),this._applyPolygonOffsetView(n,o,s[3],i,n),this._applyCenterOffsetView(n,s,n),n}applyShaderOffsetsNDC(e,t,r,s,i){return this._applyCenterOffsetNDC(e,t,r,s),null!=i&&p(i,s),this._applyPolygonOffsetNDC(s,t,r,s),s}_applyPolygonOffsetView(t,r,s,i,a){const n=i.aboveGround?1:-1;let o=Math.sign(s);0===o&&(o=n);const l=n*o;if(this.parameters.shaderPolygonOffset<=0)return p(a,t);const c=e(Math.abs(r.cosAngle),.01,1),u=1-Math.sqrt(1-c*c)/c/i.viewport[2];return f(a,t,l>0?u:1/u),a}_applyVerticalGroundOffsetView(e,t,r,s){const i=u(e),a=r.aboveGround?1:-1,n=r.computeRenderPixelSizeAtDist(i)*C,o=f(ie,t.normal,a*n);return g(s,e,o),s}_applyVerticalOffsetTransformationView(e,t,r,s){const i=this.parameters;if(!i.verticalOffset?.screenLength){if(i.screenSizePerspective||i.screenSizePerspectiveAlignment){const r=u(e);this._updateScaleInfo(s,r,t.cosAngle)}else s.factor.scale=1,s.factorAlignment.scale=1;return e}const a=u(e),n=i.screenSizePerspectiveAlignment??i.screenSizePerspective,o=Z(r,a,i.verticalOffset,t.cosAngle,n);return this._updateScaleInfo(s,a,t.cosAngle),f(t.normal,t.normal,o),g(e,e,t.normal)}_applyCenterOffsetView(e,t,r){const s=\"screen\"!==this.parameters.centerOffsetUnits;return r!==e&&p(r,e),s&&(r[0]+=t[0],r[1]+=t[1],t[2]&&(l(ae,r),g(r,r,f(ae,ae,t[2])))),r}_applyCenterOffsetNDC(e,t,r,s){const i=\"screen\"!==this.parameters.centerOffsetUnits;return s!==e&&p(s,e),i||(s[0]+=t[0]/r.fullWidth*2,s[1]+=t[1]/r.fullHeight*2),s}_applyPolygonOffsetNDC(e,t,r,s){const i=this.parameters.shaderPolygonOffset;if(e!==s&&p(s,e),i){const e=r.aboveGround?1:-1,a=e*Math.sign(t[3]);s[2]-=(a||e)*i}return s}createGLMaterial(e){return new $(e)}calculateRelativeScreenBounds(e,t,r=E()){return ee(this.parameters,e,t,r),r[2]=r[0]+e[0],r[3]=r[1]+e[1],r}_getScreenScale(e){const t=e.attributes.get(V.FEATUREATTRIBUTE);if(null==t)return{scaleX:1,scaleY:1};const r=b(t.data,he),[s,i]=_(me,this.parameters,r);return{scaleX:s,scaleY:i}}}class $ extends D{constructor(e){super({...e,...e.material.parameters})}selectProgram(e){return this.ensureTechnique(J,e)}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.selectProgram(e)}}function ee(e,t,r,s){s[0]=e.anchorPosition[0]*-t[0]+e.screenOffset[0]*r,s[1]=e.anchorPosition[1]*-t[1]+e.screenOffset[1]*r}function te(e){const t=e[0],r=e[1],s=e[2],i=e[3],a=e[4],n=e[5],o=e[6],l=e[7],c=e[8],f=1/Math.sqrt(t*t+r*r+s*s),p=1/Math.sqrt(i*i+a*a+n*n),u=1/Math.sqrt(o*o+l*l+c*c);return e[0]=t*f,e[1]=r*f,e[2]=s*f,e[3]=i*p,e[4]=a*p,e[5]=n*p,e[6]=o*u,e[7]=l*u,e[8]=c*u,e}function re(e,t,r,s,i,a,n,o){let l=t-i-(o[0]>0?s[0]*o[0]:0),c=l+s[0]+2*i,f=r-i-(o[1]>0?s[1]*o[1]:0),p=f+s[1]+2*i;const u=n.distanceFieldBoundingBox;return n.textureIsSignedDistanceField&&null!=u&&(l+=s[0]*u[0],f+=s[1]*u[1],c-=s[0]*(1-u[2]),p-=s[1]*(1-u[3]),l-=a,c+=a,f-=a,p+=a),e[0]>l&&e[0]<c&&e[1]>f&&e[1]<p}const se=new B,ie=S(),ae=S(),ne=A(),oe=S(),le=S(),ce=r(),fe=r(),pe=i(),ue=S(),me=S(),he=A(),de={normal:oe,cosAngle:0},ge=1,Se=2,Oe=[0,0],be=O(0,0,1);class Ae extends j{constructor(){super(...arguments),this.renderOccluded=N.Occlude,this.isDecoration=!1,this.color=T(1,1,1,1),this.texCoordScale=[1,1],this.polygonOffset=!1,this.anchorPosition=a(.5,.5),this.screenOffset=[0,0],this.shaderPolygonOffset=1e-5,this.textureIsSignedDistanceField=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.outlineColor=T(1,1,1,1),this.outlineSize=0,this.vvSizeEnabled=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.hasSlicePlane=!1,this.pixelSnappingEnabled=!0,this.occlusionTest=!0,this.centerOffsetUnits=\"world\",this.drawInSecondSlot=!1,this.depthEnabled=!0,this.draped=!1}}const Te=R().vec3f(V.POSITION).vec3f(V.NORMAL).vec2f(V.UV0).vec4u8(V.COLOR).vec2f(V.SIZE).vec4f(V.CENTEROFFSETANDDISTANCE).vec4f(V.FEATUREATTRIBUTE),ve=Te.clone().vec4u8(V.OBJECTANDLAYERIDCOLOR);class Ee{constructor(e){this._material=e,this.vertexBufferLayout=has(\"enable-feature:objectAndLayerId-rendering\")?ve:Te}elementCount(e){return 6*e.attributes.get(V.POSITION).indices.length}write(e,t,r,s,i){G(r.attributes.get(V.POSITION),e,s.position,i,6),q(r.attributes.get(V.NORMAL),t,s.normal,i,6);const a=r.attributes.get(V.UV0).data;let n,o,l,c;if(null==a||a.length<4){const e=this._material.parameters;n=0,o=0,l=e.texCoordScale[0],c=e.texCoordScale[1]}else n=a[0],o=a[1],l=a[2],c=a[3];l=Math.min(1.99999,l+1),c=Math.min(1.99999,c+1);let f=r.attributes.get(V.POSITION).indices.length,p=i;const u=s.uv0;for(let g=0;g<f;++g)u.set(p,0,n),u.set(p,1,o),p++,u.set(p,0,l),u.set(p,1,o),p++,u.set(p,0,l),u.set(p,1,c),p++,u.set(p,0,l),u.set(p,1,c),p++,u.set(p,0,n),u.set(p,1,c),p++,u.set(p,0,n),u.set(p,1,o),p++;W(r.attributes.get(V.COLOR),4,s.color,i,6);const{data:m,indices:h}=r.attributes.get(V.SIZE);f=h.length;const d=s.size;p=i;for(let g=0;g<f;++g){const e=m[2*h[g]],t=m[2*h[g]+1];for(let r=0;r<6;++r)d.set(p,0,e),d.set(p,1,t),p++}if(r.attributes.get(V.CENTEROFFSETANDDISTANCE)?H(r.attributes.get(V.CENTEROFFSETANDDISTANCE),s.centerOffsetAndDistance,i,6):X(s.centerOffsetAndDistance,i,6*f),r.attributes.get(V.FEATUREATTRIBUTE)?H(r.attributes.get(V.FEATUREATTRIBUTE),s.featureAttribute,i,6):X(s.featureAttribute,i,6*f),null!=r.objectAndLayerIdColor){const e=r.attributes.get(V.POSITION)?.indices;if(e){const t=e.length,a=s.getField(V.OBJECTANDLAYERIDCOLOR,I);Y(r.objectAndLayerIdColor,a,t,i,6)}}}}export{Q as HUDMaterial,Ae as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.factor=new c,this.factorAlignment=new c}}class c{constructor(){this.scale=0,this.factor=0,this.minScaleFactor=0}}export{c as ScaleFactor,t as ScaleInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"./internal/MaterialUtil.js\";class e extends r{intersect(r,e,i,a,l,o){return t(r,i,a,l,void 0,o)}}export{e as TriangleMaterial};\n"],"names":["w","C","m","vertex","j","fragment","y","attributes","L","varyings","O","c","include","t","s","p","l","add","f","POSITION","vvColor","COLORFEATUREATTRIBUTE","A","multipassEnabled","output","o","Color","Alpha","uniforms","b","e","color","T","LinearDepth","a","r","code","v","_templateObject","_taggedTemplateLiteral","hasVertexColors","_templateObject2","_templateObject3","i","n","g","$","Highlight","d","_templateObject4","ObjectAndLayerIdColor","_templateObject5","float","u","_templateObject6","_templateObject7","transparencyPassType","h","_templateObject8","_templateObject9","_templateObject10","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","F","signedDistanceFieldEnabled","occlusionPass","B","H","S","camera","fullViewport","P","screenOffset","pixelRatio","D","outlineColor","outlineSize","pixelSnappingEnabled","hasScreenSizePerspective","x","debugDrawLabelBorder","UV0","COLOR","SIZE","FEATUREATTRIBUTE","z","vvSize","U","V","occlusionTestEnabled","concat","texture","E","_templateObject11","I","_templateObject12","_templateObject13","sampleSignedDistanceFieldTexelCenter","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_templateObject19","FrontFace","_templateObject20","_templateObject21","constants","_templateObject22","arguments","length","undefined","textureIsSignedDistanceField","anchorPosition","distanceFieldBoundingBox","calculateAnchorPosForRendering","type","M","center","centroid","origin","xmax","xmin","ymax","ymin","zmin","zmax","isFinite","spatialReference","rings","hasZ","R","paths","width","height","Array","Math","max","abs","isPrimitive","depth","isArray","every","PI","k","minDemResolution","isGeographic","minDemResolutionForPoints","alignPixelEnabled","NORMAL","CENTEROFFSETANDDISTANCE","shaderPolygonOffset","aboveGround","hasVerticalOffset","draped","tan","fovY","screenCenterOffsetUnitsEnabled","hudRenderStyle","Occluded","NotOccluded","_r$hudVisibility","hudVisibility","getTexture","initializeProgram","rctx","shader","get","this","configuration","_createPipeline","NONE","blending","transparent","culling","cullFace","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","super","factor","units","constructor","None","hasSlicePlane","cullAboveGround","objectAndLayerIdColorInstanced","count","COUNT","prototype","constValue","_","supportsEdges","produces","Map","OPAQUE_MATERIAL","_isTransparent","OPAQUE_NO_SSAO_DEPTH","parameters","writeLinearDepth","TRANSPARENT_MATERIAL","TRANSPARENT_NO_SSAO_DEPTH","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_configuration","getConfiguration","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","vec3f","has","vec4u8","OBJECTANDLAYERIDCOLOR","f32","forceTransparentMode","_updateOccludeeState","_material","setParameters","beginSlot","_output","ensureTechnique","Float32Array","initializeConfiguration","spherical","viewingMode","Global","hasPolygonOffset","depthEnabled","LEQUAL","primitiveType","POINTS","TRIANGLES","ONE","ONE_MINUS_SRC_ALPHA","Q","Ae","K","HUD_MATERIAL","drawInSecondSlot","LABEL_MATERIAL","OCCLUSION_PIXELS","occlusionTest","verticalOffset","screenSizePerspective","centerOffsetUnits","slot","LABELS_SHOW_BORDER","intersect","options","selectionMode","hud","visible","point","scaleX","scaleY","_getScreenScale","ce","sqrt","te","size","data","ie","Oe","viewMatrix","ue","ae","_normalAndViewAngle","de","_applyVerticalOffsetTransformationView","se","applyProjection","ne","factorAlignment","unapplyProjection","floor","ge","re","ray","le","pe","unprojectFromRenderScreen","direction","intersectDraped","screenToWorldRatio","Se","dist","normal","Ee","fe","viewInverseTransposeMatrix","cosAngle","oe","be","_updateScaleInfo","scale","minScaleFactor","screenSizePerspectiveAlignment","applyShaderOffsetsView","_applyVerticalGroundOffsetView","_applyPolygonOffsetView","_applyCenterOffsetView","applyShaderOffsetsNDC","_applyCenterOffsetNDC","_applyPolygonOffsetNDC","sign","viewport","computeRenderPixelSizeAtDist","_i$verticalOffset","_i$screenSizePerspect","screenLength","Z","fullWidth","fullHeight","calculateRelativeScreenBounds","ee","he","me","material","selectProgram","J","updateTexture","textureId","textureBindParameters","renderOccluded","N","Occlude","isDecoration","texCoordScale","vvSizeEnabled","vvOpacity","vvSymbolAnchor","vvSymbolRotationMatrix","Te","vec2f","vec4f","ve","clone","vertexBufferLayout","elementCount","indices","write","G","position","q","min","uv0","set","W","centerOffsetAndDistance","X","featureAttribute","objectAndLayerIdColor","_r$attributes$get","getField","Y"],"sourceRoot":""}