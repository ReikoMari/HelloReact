/*! For license information please see 54791.b3e41237.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[54791],{54791:(i,e,t)=>{t.r(e),t.d(e,{arcgis_track:()=>c});var o=t(85643),n=t(83308),a=t(82754),s=t(9598);const c=class{constructor(i){(0,o.r)(this,i),this.arcgisTrackReady=(0,o.c)(this,"arcgisTrackReady",7),this.trackComplete=(0,o.c)(this,"trackComplete",7),this.trackError=(0,o.c)(this,"trackError",7),this._watchHandles=[],this.referenceElement=void 0,this.error=void 0,this.geolocationOptions=void 0,this.goToLocationEnabled=!0,this.graphic=void 0,this.icon=void 0,this.positionFilterFunction=void 0,this.rotationEnabled=!0,this.scale=void 0,this.state="disabled",this.tracking=!1,this.position="bottom-left",this.view=void 0,this.widget=void 0}referenceElementWatcher(i){(0,a.r)(this,i)}geolocationOptionsWatcher(i){void 0!==i&&this.widget&&(this.widget.geolocationOptions=i)}goToLocationEnabledWatcher(i){void 0!==i&&this.widget&&(this.widget.goToLocationEnabled=i)}graphicWatcher(i){this.widget&&(this.widget.graphic=i)}iconWatcher(i){void 0!==i&&this.widget&&(this.widget.icon=i,this.widget.iconClass=i)}positionFilterFunctionWatcher(i){this.widget&&(this.widget.viewModel.positionFilterFunction=i)}rotationEnabledWatcher(i){void 0!==i&&this.widget&&(this.widget.rotationEnabled=i)}scaleWatcher(i){void 0!==i&&this.widget&&(this.widget.scale=i)}positionWatcher(i){void 0!==i&&this.widget&&this.view.ui.move(this.childElem,i)}viewWatcher(i){void 0!==i&&this.widget&&(this.widget.view=i)}async start(){this.widget.start()}async stop(){this.widget.stop()}async componentDidLoad(){const i=this._createParams(),e=await(0,n._)(i);this.widget=e,await this._addWatchers(),this._proxyEvents(),this._addContainer(),this.arcgisTrackReady.emit(),(0,a.c)(this)}disconnectedCallback(){(0,s.o)(this)}render(){return(0,o.h)("div",{ref:i=>this.childElem=i})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:i}=await(0,n.i)();(0,a.a)(this,[i((()=>this.widget.viewModel.error),(i=>this.error=i)),i((()=>this.widget.viewModel.state),(i=>this.state=i)),i((()=>this.widget.tracking),(i=>this.tracking=i),{initial:!0})])}_createParams(){const i={};return void 0!==this.geolocationOptions&&(i.geolocationOptions=this.geolocationOptions),void 0!==this.goToLocationEnabled&&(i.goToLocationEnabled=this.goToLocationEnabled),void 0!==this.graphic&&(i.graphic=this.graphic),void 0!==this.icon&&(i.icon=this.icon,i.iconClass=this.icon),void 0!==this.positionFilterFunction&&(i.viewModel={positionFilterFunction:this.positionFilterFunction}),void 0!==this.rotationEnabled&&(i.rotationEnabled=this.rotationEnabled),void 0!==this.scale&&(i.scale=this.scale),this.view&&(i.view=this.view),i}_proxyEvents(){this.widget.on("track",(i=>this.trackComplete.emit(i))),this.widget.on("track-error",(i=>this.trackError.emit(i)))}get el(){return(0,o.g)(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],geolocationOptions:["geolocationOptionsWatcher"],goToLocationEnabled:["goToLocationEnabledWatcher"],graphic:["graphicWatcher"],icon:["iconWatcher"],positionFilterFunction:["positionFilterFunctionWatcher"],rotationEnabled:["rotationEnabledWatcher"],scale:["scaleWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};c.style=""},82754:(i,e,t)=>{function o(i){const e=i.el.closest("arcgis-expand")||i.expandElem;if(null!==e&&void 0!==e&&e.widget)return i.view=e.view,e.widget.content=i.childElem,e.expandIcon||(e.widget.expandIcon=i.widget.icon,e.widget.expandIconClass=i.widget.iconClass),!0;if(e){const t=()=>{e.removeEventListener("arcgisExpandReady",t,!1),i.view=e.view,e.widget.content=i.childElem,e.expandIcon||(e.widget.expandIcon=i.widget.icon,e.widget.expandIconClass=i.widget.iconClass)};return e.addEventListener("arcgisExpandReady",t,!1),!0}return!1}function n(i,e){Array.isArray(e)?i._watchHandles=[...i._watchHandles,...e]:i._watchHandles.push(e)}function a(i){let e=!1;if(o(i)){var t;const e=null!==(t=i.el.closest("arcgis-map"))&&void 0!==t?t:i.el.closest("arcgis-scene");if(null!==e&&void 0!==e&&e.view)i.view=e.view;else if(e){const t=()=>{e.removeEventListener("arcgisViewReadyChange",t,!1),i.view=e.view};e.addEventListener("arcgisViewReadyChange",t,!1)}}else{var n,a;let t=null!==(n=i.el.closest("arcgis-map"))&&void 0!==n?n:i.el.closest("arcgis-scene");if(t||"string"!==typeof i.referenceElement||(t=document.querySelector(i.referenceElement),e=!0),null!==(a=t)&&void 0!==a&&a.view){var s;i.view=t.view;const o=null!==(s=i.childElem)&&void 0!==s?s:i.el;e||i.view.ui.add(o,i.position)}else t&&function(i,e,t){const o=()=>{i.removeEventListener("arcgisViewReadyChange",o,!1),e.view=i.view,t||(e.childElem?e.view.ui.add(e.childElem,e.position):e.view.ui.add(e.el,e.position))};i.addEventListener("arcgisViewReadyChange",o,!1)}(t,i,e)}}function s(i){return void 0===i||null===i||""===i}function c(i){return null!=i&&i%1===0}function r(i,e){return void 0===e||i.position!==e.position||i.heading!==e.heading||i.tilt!==e.tilt}function d(i,e){return void 0===e||e.atmosphereEnabled!==i.atmosphereEnabled||e.lighting.date!==i.lighting.date||e.lighting.directShadowsEnabled!==i.lighting.directShadowsEnabled||e.lighting.cameraTrackingEnabled!==i.lighting.cameraTrackingEnabled||e.lighting.date!==i.lighting.date||e.lighting.displayUTCOffset!==i.lighting.displayUTCOffset}function l(i,e){return void 0===e||i.targetGeometry!==e.targetGeometry||i.rotation!==e.rotation||i.scale!==e.scale}async function h(i,e){"string"===typeof e?i.view=await async function(i){const e=document.querySelector(i);return await new Promise((i=>{if(void 0!==(null===e||void 0===e?void 0:e.view))i(e.view);else if(e){const t=()=>{e.removeEventListener("arcgisViewReadyChange",t,!1),i(e.view)};e.addEventListener("arcgisViewReadyChange",t,!1)}}))}(e):i.widget&&(i.view=e.view)}t.d(e,{a:()=>n,b:()=>l,c:()=>a,d:()=>o,e:()=>r,f:()=>d,g:()=>c,i:()=>s,r:()=>h})},9598:(i,e,t)=>{function o(i){var e,t;i.childElem?i.el.isConnected||(i.view?i.view.ui.remove(i.childElem):null!==(e=i.widget)&&void 0!==e&&e.view&&i.widget.view.ui.remove(i.childElem),i._watchHandles&&i._watchHandles.forEach((i=>{i.remove()})),i._watchHandles=[],null===(t=i.widget)||void 0===t||t.destroy()):setTimeout((()=>{var e,t;i.el.isConnected||(i.view?i.view.ui.remove(i.el):null!==(e=i.widget)&&void 0!==e&&e.view&&i.widget.view.ui.remove(i.el),i._watchHandles&&i._watchHandles.forEach((i=>{i.remove()})),i._watchHandles=[],null===(t=i.widget)||void 0===t||t.destroy())}),1e3)}t.d(e,{o:()=>o})}}]);
//# sourceMappingURL=54791.b3e41237.chunk.js.map