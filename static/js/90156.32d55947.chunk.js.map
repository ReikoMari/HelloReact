{"version":3,"file":"static/js/90156.32d55947.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/LineOfSight/LineOfSightTarget.js","../node_modules/@arcgis/core/widgets/LineOfSight/LineOfSightViewModel.js","../node_modules/@arcgis/core/widgets/LineOfSight.js","../node_modules/@arcgis/core/widgets/support/AnalysisViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Accessor.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";let p=class extends r{constructor(o){super(o),this.location=null,this.intersectedLocation=null,this.intersectedGraphic=null,this.visible=void 0}};o([e({type:i})],p.prototype,\"location\",void 0),o([e({type:i})],p.prototype,\"intersectedLocation\",void 0),o([e({type:t})],p.prototype,\"intersectedGraphic\",void 0),o([e({type:Boolean})],p.prototype,\"visible\",void 0),p=o([s(\"esri.widgets.lineOfSight.LineOfSightTarget\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../analysis/LineOfSightAnalysis.js\";import s from\"../../analysis/LineOfSightAnalysisObserver.js\";import o from\"../../analysis/LineOfSightAnalysisTarget.js\";import i from\"../../core/Collection.js\";import{referenceSetter as n,castForReferenceSetter as a}from\"../../core/collectionUtils.js\";import{handlesGroup as r}from\"../../core/handleUtils.js\";import{watch as l,syncAndInitial as c,sync as d}from\"../../core/reactiveUtils.js\";import{property as g}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{getEffectiveElevationInfo as p,getConvertedElevation as y,absoluteHeightElevationInfo as T}from\"../../support/elevationInfoUtils.js\";import m from\"./LineOfSightTarget.js\";import{AnalysisViewModel as v}from\"../support/AnalysisViewModel.js\";const u=i.ofType(m);let f=class extends v{constructor(e){super(e),this.analysis=null,this.supportedViewType=\"3d\",this.unsupportedErrorMessage=\"LineOfSightViewModel is only supported in 3D views.\",this._vmTargetsToConnection=new Map,this._analysisTargetsToConnection=new Map}initialize(){this.addHandles([this.targets.on(\"after-add\",(e=>this._onViewModelTargetAdded(e.item))),this.targets.on(\"after-remove\",(e=>this._onViewModelTargetRemoved(e.item))),l((()=>this.analysis),(e=>this._onAnalysisChange(e)),c)])}destroy(){this._analysisTargetsToConnection.forEach((e=>e.remove()))}get state(){return this.disabled||!this.ready?\"disabled\":null==this.tool?\"ready\":this.tool.state}get observer(){const{observer:e}=this.analysis;return null==e?.position?null:this._convertAnalysisPointToAbsoluteHeight(e.position,e.elevationInfo)}set observer(e){let t=null;e&&(t=e.clone(),t.hasZ||(t.z=0)),this.analysis.observer=new s({position:t})}get targets(){return this._get(\"targets\")||new u}set targets(e){this._set(\"targets\",n(e,this.targets,u))}continue(){null!=this.tool&&this.tool.continue()}stop(){null!=this.tool&&this.tool.stop()}get testInfo(){return{analysisView:this.analysisView,getAnalysisTargetFromViewModelTarget:e=>this._vmTargetsToConnection.get(e)?.analysisTarget}}constructAnalysis(){return new t}async onConnectToAnalysisView(e){this.addHandles([e.on(\"result-changed\",(e=>{const t=this._analysisTargetsToConnection.get(e.target);t&&(null!=e.result?(t.viewModelTarget.intersectedGraphic=e.result.intersectedGraphic,t.viewModelTarget.intersectedLocation=e.result.intersectedLocation,t.viewModelTarget.visible=e.result.visible):(t.viewModelTarget.intersectedGraphic=null,t.viewModelTarget.intersectedLocation=null,t.viewModelTarget.visible=void 0))}))],\"view\")}onDisconnectFromAnalysisView(){this.removeHandles(\"view\")}_onViewModelTargetAdded(e){if(this._vmTargetsToConnection.get(e))return;const t=new o({position:e.location});this._connectViewModelWithAnalysisTarget(e,t),this.analysis.targets.add(t)}_onViewModelTargetRemoved(e){const t=this._vmTargetsToConnection.get(e);t&&(t.remove(),this.analysis.targets.remove(t.analysisTarget))}_onAnalysisTargetAdded(e){if(this._analysisTargetsToConnection.get(e))return;const{position:t}=e,s=new m({location:t?this._convertAnalysisPointToAbsoluteHeight(t,e.elevationInfo):null});this._connectViewModelWithAnalysisTarget(s,e),this.targets.add(s)}_onAnalysisTargetRemoved(e){const t=this._analysisTargetsToConnection.get(e);t&&(t.remove(),this.targets.remove(t.viewModelTarget))}_connectViewModelWithAnalysisTarget(e,t){let s=!1;const o=r([l((()=>({position:t.position,elevationInfo:t.elevationInfo})),(({position:t,elevationInfo:o})=>{s||(s=!0,e.location=t?this._convertAnalysisPointToAbsoluteHeight(t,o):null,s=!1)}),d),l((()=>e.location),(e=>{if(!s){s=!0;let o=null;e&&(o=e.clone(),o.hasZ||(o.z=0)),t.position=o,t.elevationInfo=null,s=!1}}),d)]),i={analysisTarget:t,viewModelTarget:e,remove:()=>{o.remove(),this._vmTargetsToConnection.delete(e),this._analysisTargetsToConnection.delete(t)}};this._vmTargetsToConnection.set(e,i),this._analysisTargetsToConnection.set(t,i)}_onAnalysisChange(e){const t=\"analysis\";this.removeHandles(t),this.addHandles([this.analysis.targets.on(\"after-add\",(e=>this._onAnalysisTargetAdded(e.item))),this.analysis.targets.on(\"after-remove\",(e=>this._onAnalysisTargetRemoved(e.item)))],t),this.targets.removeAll(),e.targets.forEach((e=>{this._onAnalysisTargetAdded(e)}))}_convertAnalysisPointToAbsoluteHeight(e,t){const s=e.clone();if(null!=this.view){const o=p(e.hasZ,t);s.z=y(this.view,e,o,T)}return s}};e([g({type:t})],f.prototype,\"analysis\",void 0),e([g({readOnly:!0})],f.prototype,\"state\",null),e([g()],f.prototype,\"observer\",null),e([g({type:u,cast:a,nonNullable:!0})],f.prototype,\"targets\",null),f=e([h(\"esri.widgets.lineOfSight.LineOfSightViewModel\")],f);const w=f;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"./Widget.js\";import o from\"./LineOfSight/LineOfSightViewModel.js\";import{loadCalciteComponents as r}from\"./support/componentsUtils.js\";import{globalCss as l}from\"./support/globalCss.js\";import{legacyIcon as a}from\"./support/legacyIcon.js\";import\"./support/widgetUtils.js\";import{messageBundle as d}from\"./support/decorators/messageBundle.js\";import{tsx as u}from\"./support/jsxFactory.js\";const p=\"esri-line-of-sight\",c={base:p,actions:`${p}__actions`,container:`${p}__container`,error:`${p}__error`,hint:`${p}__hint`,hintText:`${p}__hint-text`,newAnalysisButton:`${p}__new-analysis-button`,widgetIcon:a.lineOfSight},h={newAnalysisButton:`${p}__new-button`,continueButton:`${p}__continue-button`,doneButton:`${p}__done-button`};let m=class extends n{constructor(e,s){super(e,s),this.iconClass=c.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new o,this._onNewAnalysis=()=>{t(this.viewModel.start())},this._onDone=()=>{this.viewModel.stop()},this._onContinue=()=>{this.viewModel.continue()}}loadDependencies(){return r({button:()=>import(\"@esri/calcite-components/dist/components/calcite-button.js\")})}get active(){return this.viewModel.active}get analysis(){return this.viewModel.analysis}set analysis(e){this.viewModel.analysis=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}render(){return u(\"div\",{class:this.classes(c.base,l.widget,l.panel),role:\"presentation\"},this._renderContainerNode())}_renderContainerNode(){if(!this.visible)return null;if(!this.viewModel.supported)return this._renderUnsupportedMessage();let e=null;const t=[this._renderNewAnalysisButton()];return\"creating\"===this.viewModel.state?(e=this._renderHint(),t.unshift(this._renderDoneButton())):\"created\"===this.viewModel.state&&this.viewModel.targets.length>0&&t.unshift(this._renderContinueButton()),u(\"div\",{class:c.container},e,u(\"div\",{class:c.actions},t))}_renderUnsupportedMessage(){return u(\"div\",{class:c.error,key:\"esri-line-of-sight__unsupported\"},u(\"p\",null,this.messages.unsupported))}_renderHint(){return u(\"div\",{class:c.hint,key:\"esri-line-of-sight__hint\"},u(\"p\",{class:c.hintText},this.messages.hint))}_renderNewAnalysisButton(){return this._renderButton({className:c.newAnalysisButton,id:h.newAnalysisButton,label:this.messages.newAnalysis,onClick:this._onNewAnalysis,primary:!0})}_renderDoneButton(){return this._renderButton({id:h.doneButton,label:this.messages.done,onClick:this._onDone,primary:!1})}_renderContinueButton(){return this._renderButton({id:h.newAnalysisButton,label:this.messages.continueAnalysis,onClick:this._onContinue,primary:!1})}_renderButton({className:e,id:t,label:s,onClick:i,primary:n}){const o=\"disabled\"===this.viewModel.state;return u(\"calcite-button\",{appearance:n?\"solid\":\"outline-fill\",class:e,\"data-id\":t,disabled:o,key:t,onclick:i},s)}get test(){return{IDS:h}}};e([s()],m.prototype,\"active\",null),e([s({constructOnly:!0,nonNullable:!0})],m.prototype,\"analysis\",null),e([s()],m.prototype,\"iconClass\",void 0),e([s()],m.prototype,\"icon\",void 0),e([s()],m.prototype,\"label\",null),e([s(),d(\"esri/widgets/LineOfSight/t9n/LineOfSight\")],m.prototype,\"messages\",void 0),e([s()],m.prototype,\"view\",null),e([s({type:o})],m.prototype,\"viewModel\",void 0),e([s()],m.prototype,\"visible\",null),m=e([i(\"esri.widgets.LineOfSight\")],m);const _=m;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{createTask as s}from\"../../core/asyncUtils.js\";import i from\"../../core/Logger.js\";import{abortMaybe as n,removeMaybe as r}from\"../../core/maybe.js\";import{throwIfAborted as a,isAbortError as o,isAborted as l}from\"../../core/promiseUtils.js\";import{watch as c,syncAndInitial as h,sync as w,whenOnce as y,when as p}from\"../../core/reactiveUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";var _;!function(e){e[e.PENDING=0]=\"PENDING\",e[e.WAIT_FOR_VIEW_READY=1]=\"WAIT_FOR_VIEW_READY\",e[e.RUNNING=2]=\"RUNNING\"}(_||(_={}));let v=class extends t{constructor(e={}){super(e),this.view=null,this.analysisView=null,this._reconnectViewTask=null,this._forceInteractiveHandle=null,this._parentChangeFromReconnect=!1,this._startUserOperation=null,this.logger=i.getLogger(this);const t=e?.analysis;null!=t?this.analysis=t:(this._set(\"analysis\",this.constructAnalysis()),this._set(\"isAnalysisOwner\",!0)),null!=e?.visible&&(this.visible=e.visible)}normalizeCtorArgs(e){const{analysis:t,...s}=e;return s}initialize(){this.addHandles([c((()=>({readyAndNotSupported:null!=this.view&&this.view.ready&&!this.supported})),(({readyAndNotSupported:e})=>{e&&this.logger.errorOnce(this.unsupportedErrorMessage)}),h),c((()=>this.analysis?.parent),(e=>{this._parentChangeFromReconnect||e===this.view||this._set(\"isAnalysisOwner\",!1);const t=!this._parentChangeFromReconnect;this._parentChangeFromReconnect=!1,t&&this._scheduleViewReconnect()}),w),c((()=>({view:this.view,ready:null!=this.view&&this.view.ready,supported:this.supported})),(({view:e},t)=>{const s=t?.view;e!==s&&(this._startUserOperation=n(this._startUserOperation),this._disconnectFromView(s)),this._scheduleViewReconnect()}),h)])}destroy(){this._reconnectViewTask=n(this._reconnectViewTask),this._startUserOperation=n(this._startUserOperation),null!=this.analysisView&&(this.analysisView.visible=void 0),this._disconnectFromView(this.view),this._set(\"view\",null),null!=this.analysis&&this.isAnalysisOwner&&(this.analysis.destroy(),this._set(\"analysis\",null))}get supported(){return null==this.view||this.view.type===this.supportedViewType}set visible(e){this._set(\"visible\",e),null!=this.analysisView&&(this.analysisView.visible=e)}get active(){return null!=this.tool&&this.tool.active}get disabled(){return null==this.view||!this.view.ready||!this.supported}set analysis(e){e!==this._get(\"analysis\")&&(this._startUserOperation=n(this._startUserOperation),this._disconnectFromView(this.view),this._setExternalAnalysis(e),this._scheduleViewReconnect())}get ready(){return null!=this.analysisView&&!this.connectingToView}get connectingToView(){return null!=this._reconnectViewTask}get isAnalysisOwner(){return this._get(\"isAnalysisOwner\")}get tool(){return null!=this.analysisView?this.analysisView.tool:null}clear(){this._startUserOperation=n(this._startUserOperation),this._resetInteractiveCreationState(),null!=this.tool&&null!=this.view&&this.view.activeTool===this.tool&&(this.view.activeTool=null)}async start(){this.clear();const e={task:null,abort:null,state:_.PENDING},t=s((async t=>{if(e.state=_.WAIT_FOR_VIEW_READY,await y((()=>this.ready),t),e.state=_.RUNNING,null==this.analysisView||null==this.view)return;const s=this.analysisView.tool;null!=s&&(this.view.activeTool=s,p((()=>s.created),(()=>{s.active&&null!=this.view&&(this.view.activeTool=null)}),{initial:!0,once:!0}))}));return e.task=t,e.abort=()=>t.abort(),this._startUserOperation=e,t.promise}onConnectToAnalysisView(e){}onDisconnectFromAnalysisView(){}_scheduleViewReconnect(){this._reconnectViewTask=n(this._reconnectViewTask);const e=s((async t=>{try{await this._reconnectView(t)}catch(s){if(a(t),!o(s))return void this.logger.warn(\"Failed to use analysis in view model\",s);throw s}finally{e===this._reconnectViewTask&&(this._reconnectViewTask=null)}}));this._reconnectViewTask=e}async _reconnectView(e){const{view:t}=this,s=null!=t&&t.ready&&this.supported,i=this.analysis;if(this._startUserOperation=V(this._startUserOperation),this._disconnectFromView(t),s&&null!=t&&null!=i){if(this.isAnalysisOwner){if(null!=i.parent)return void this.logger.errorOnce(\"expected owned analysis to have null parent when connecting to view\");this._parentChangeFromReconnect=!0,t.analyses.add(i)}this.analysisView=await t.whenAnalysisView(i),l(e)?this._startUserOperation=V(this._startUserOperation):(this.analysisView.visible=this.visible,this._forceInteractiveHandle=this.analysisView.forceInteractiveForViewModel(),this.addHandles(this._forceInteractiveHandle),this.onConnectToAnalysisView(this.analysisView))}}_disconnectFromView(e){null!=e&&this.isAnalysisOwner&&e.analyses.includes(this.analysis)&&(this._parentChangeFromReconnect=!0,this.analysis.clear(),e.analyses.remove(this.analysis)),this.onDisconnectFromAnalysisView(),this._forceInteractiveHandle=r(this._forceInteractiveHandle),this.analysisView=null}_setExternalAnalysis(e){null==this.analysisView||this.isAnalysisOwner||(this.analysisView.visible=void 0,this._forceInteractiveHandle=r(this._forceInteractiveHandle)),this.analysisView=null,this._set(\"isAnalysisOwner\",!1),this._set(\"analysis\",e),this._parentChangeFromReconnect=!1}_resetInteractiveCreationState(){this.analysis.clear(),null!=this.tool&&this.tool.resetCreated()}get testInfo(){return{analysisView:this.analysisView}}};function V(e){return null!=e&&e.state>=_.RUNNING?(e.abort(),null):e}e([u()],v.prototype,\"supported\",null),e([u()],v.prototype,\"view\",void 0),e([u({type:Boolean,value:!0})],v.prototype,\"visible\",null),e([u()],v.prototype,\"active\",null),e([u()],v.prototype,\"disabled\",null),e([u({nonNullable:!0})],v.prototype,\"analysis\",null),e([u()],v.prototype,\"analysisView\",void 0),e([u()],v.prototype,\"ready\",null),e([u()],v.prototype,\"connectingToView\",null),e([u({readOnly:!0})],v.prototype,\"isAnalysisOwner\",null),e([u()],v.prototype,\"_reconnectViewTask\",void 0),e([u()],v.prototype,\"_forceInteractiveHandle\",void 0),e([u()],v.prototype,\"tool\",null),v=e([d(\"esri.widgets.support.AnalysisViewModel\")],v);export{v as AnalysisViewModel};\n"],"names":["p","r","constructor","o","super","this","location","intersectedLocation","intersectedGraphic","visible","e","type","i","prototype","t","Boolean","s","c","u","ofType","m","f","v","analysis","supportedViewType","unsupportedErrorMessage","_vmTargetsToConnection","Map","_analysisTargetsToConnection","initialize","addHandles","targets","on","_onViewModelTargetAdded","item","_onViewModelTargetRemoved","l","_onAnalysisChange","destroy","forEach","remove","state","disabled","ready","tool","observer","position","_convertAnalysisPointToAbsoluteHeight","elevationInfo","clone","hasZ","z","_get","_set","n","continue","stop","testInfo","analysisView","getAnalysisTargetFromViewModelTarget","_this$_vmTargetsToCon","get","analysisTarget","constructAnalysis","onConnectToAnalysisView","target","result","viewModelTarget","onDisconnectFromAnalysisView","removeHandles","_connectViewModelWithAnalysisTarget","add","_onAnalysisTargetAdded","_onAnalysisTargetRemoved","_ref","d","delete","set","removeAll","view","y","T","g","readOnly","cast","a","nonNullable","h","w","base","actions","concat","container","error","hint","hintText","newAnalysisButton","widgetIcon","lineOfSight","continueButton","doneButton","iconClass","icon","messages","viewModel","_onNewAnalysis","start","_onDone","_onContinue","loadDependencies","button","active","label","_this$messages$widget","_this$messages","widgetLabel","_overrideIfSome","render","class","classes","widget","panel","role","_renderContainerNode","supported","_renderUnsupportedMessage","_renderNewAnalysisButton","_renderHint","unshift","_renderDoneButton","length","_renderContinueButton","key","unsupported","_renderButton","className","id","newAnalysis","onClick","primary","done","continueAnalysis","appearance","onclick","test","IDS","constructOnly","_","PENDING","WAIT_FOR_VIEW_READY","RUNNING","arguments","undefined","_reconnectViewTask","_forceInteractiveHandle","_parentChangeFromReconnect","_startUserOperation","logger","getLogger","normalizeCtorArgs","readyAndNotSupported","errorOnce","_this$analysis","parent","_scheduleViewReconnect","_ref2","_disconnectFromView","isAnalysisOwner","_setExternalAnalysis","connectingToView","clear","_resetInteractiveCreationState","activeTool","task","abort","async","created","initial","once","promise","_reconnectView","warn","V","analyses","whenAnalysisView","forceInteractiveForViewModel","includes","resetCreated","value"],"sourceRoot":""}