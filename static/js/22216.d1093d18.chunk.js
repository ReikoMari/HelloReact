"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[22216],{79650:(t,i,r)=>{r.d(i,{B:()=>b,a:()=>y,b:()=>F,c:()=>m,d:()=>j,e:()=>q,f:()=>O,g:()=>E,h:()=>M,i:()=>I,n:()=>B,r:()=>x,t:()=>P,u:()=>_});r(81806);var e=r(76460),n=r(15941),s=r(97467),o=r(34761),a=r(13191),c=r(20664),l=r(9392),h=r(5568),u=r(44230),d=r(13927),g=r(95925),f=r(96190),p=r(75762);const v=()=>e.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");const b=class{constructor(){this.plane=(0,d.vt)(),this.origin=(0,l.vt)(),this.basis1=(0,l.vt)(),this.basis2=(0,l.vt)()}};function y(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return{plane:(0,d.vt)(t.plane),origin:(0,l.o8)(t.origin),basis1:(0,l.o8)(t.basis1),basis2:(0,l.o8)(t.basis2)}}function m(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y();return O(t.origin,t.basis1,t.basis2,i)}function O(t,i,r){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y();return(0,c.c)(e.origin,t),(0,c.c)(e.basis1,i),(0,c.c)(e.basis2,r),_(e),function(t,i){Math.abs((0,c.k)(t.basis1,t.basis2)/((0,c.l)(t.basis1)*(0,c.l)(t.basis2)))>1e-6&&v().warn(i,"Provided basis vectors are not perpendicular"),Math.abs((0,c.k)(t.basis1,B(t)))>1e-6&&v().warn(i,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,c.k)(B(t),t.origin)-t.plane[3])>1e-6&&v().warn(i,"Plane offset is not consistent with plane origin")}(e,"fromValues()"),e}function _(t){(0,d.mR)(t.basis2,t.basis1,t.origin,t.plane)}function L(t,i,r){t!==r&&m(t,r);const e=(0,c.h)(p.rq.get(),B(t),i);return(0,c.g)(r.origin,r.origin,e),r.plane[3]-=i,r}function E(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y();const r=(t[2]-t[0])/2,e=(t[3]-t[1])/2;return(0,c.s)(i.origin,t[0]+r,t[1]+e,0),(0,c.s)(i.basis1,r,0,0),(0,c.s)(i.basis2,0,e,0),(0,d.fA)(0,0,1,0,i.plane),i}function I(t,i,r){return!!(0,d.Ui)(t.plane,i,r)&&z(t,r)}function T(t,i,r){const e=U.get();H(t,i,e,U.get());let s=Number.POSITIVE_INFINITY;for(const o of X){const a=k(t,o,D.get()),l=p.rq.get();if((0,d.T7)(e,a,l)){const t=(0,c.E)(p.rq.get(),i.origin,l),e=Math.abs((0,n.XM)((0,c.k)(i.direction,t)));e<s&&(s=e,(0,c.c)(r,l))}}return s===Number.POSITIVE_INFINITY?A(t,i,r):r}function A(t,i,r){if(I(t,i,r))return r;const e=U.get(),n=U.get();H(t,i,e,n);let s=Number.POSITIVE_INFINITY;for(const o of X){const a=k(t,o,D.get()),l=p.rq.get();if((0,d.gv)(e,a,l)){const t=(0,g.kb)(i,l);if(!(0,d.Tj)(n,l))continue;t<s&&(s=t,(0,c.c)(r,l))}}return N(t,i.origin)<s&&R(t,i.origin,r),r}function R(t,i,r){const e=(0,d._I)(t.plane,i,p.rq.get()),n=(0,u.H6)(V(t,t.basis1),e,-1,1,p.rq.get()),s=(0,u.H6)(V(t,t.basis2),e,-1,1,p.rq.get());return(0,c.f)(r,(0,c.g)(p.rq.get(),n,s),t.origin),r}function w(t,i,r){const{origin:e,basis1:n,basis2:s}=t,o=(0,c.f)(p.rq.get(),i,e),a=(0,f.gr)(n,o),l=(0,f.gr)(s,o),h=(0,f.gr)(B(t),o);return(0,c.s)(r,a,l,h)}function N(t,i){const r=w(t,i,p.rq.get()),{basis1:e,basis2:n}=t,s=(0,c.l)(e),o=(0,c.l)(n),a=Math.max(Math.abs(r[0])-s,0),l=Math.max(Math.abs(r[1])-o,0),h=r[2];return a*a+l*l+h*h}function M(t,i){return Math.sqrt(N(t,i))}function q(t,i){return(0,d.Tj)(t.plane,i)&&z(t,i)}function C(t,i){const r=-t.plane[3];return(0,f.gr)(B(t),i)-r}function j(t,i){return(0,c.j)(t.basis1,i.basis1)&&(0,c.j)(t.basis2,i.basis2)&&(0,c.j)(t.origin,i.origin)}function P(t,i,r){return t!==r&&m(t,r),(0,o.B8)(Q,i),(0,o.mg)(Q,Q),(0,c.e)(r.basis1,t.basis1,Q),(0,c.e)(r.basis2,t.basis2,Q),(0,c.e)((0,d.Qj)(r.plane),(0,d.Qj)(t.plane),Q),(0,c.e)(r.origin,t.origin,i),(0,d.mP)(r.plane,r.plane,r.origin),r}function x(t,i,r,e){return t!==e&&m(t,e),(0,o.$0)(J,i,r),(0,c.e)(e.basis1,t.basis1,J),(0,c.e)(e.basis2,t.basis2,J),_(e),e}function B(t){return(0,d.Qj)(t.plane)}function z(t,i){const r=(0,c.f)(p.rq.get(),i,t.origin),e=(0,c.p)(t.basis1),n=(0,c.p)(t.basis2),s=(0,c.k)(t.basis1,r),o=(0,c.k)(t.basis2,r);return-s-e<0&&s-e<0&&-o-n<0&&o-n<0}function V(t,i){const r=D.get();return(0,c.c)(r.origin,t.origin),(0,c.c)(r.vector,i),r}function k(t,i,r){const{basis1:e,basis2:n,origin:s}=t,o=(0,c.h)(p.rq.get(),e,i.origin[0]),a=(0,c.h)(p.rq.get(),n,i.origin[1]);(0,c.g)(r.origin,o,a),(0,c.g)(r.origin,r.origin,s);const l=(0,c.h)(p.rq.get(),e,i.direction[0]),h=(0,c.h)(p.rq.get(),n,i.direction[1]);return(0,c.h)(r.vector,(0,c.g)(l,l,h),2),r}function H(t,i,r,e){const n=B(t);(0,d.mR)(n,i.direction,i.origin,r),(0,d.mR)((0,d.Qj)(r),n,i.origin,e)}const S={plane:(0,d.vt)(),origin:(0,l.fA)(0,0,0),basis1:(0,l.fA)(1,0,0),basis2:(0,l.fA)(0,1,0)},U=new s.I(d.vt),D=new s.I(u.vt),G=(0,l.vt)(),Y=new s.I((()=>y())),X=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],Q=(0,a.vt)(),J=(0,a.vt)(),F=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:b,altitudeAt:C,axisAt:function(t,i,r,e){return function(t,i,r){switch(i){case h._.X:(0,c.c)(r,t.basis1),(0,c.n)(r,r);break;case h._.Y:(0,c.c)(r,t.basis2),(0,c.n)(r,r);break;case h._.Z:(0,c.c)(r,B(t))}return r}(t,r,e)},closestPoint:A,closestPointOnSilhouette:T,copy:m,copyWithoutVerify:function(t,i){(0,c.c)(i.origin,t.origin),(0,c.c)(i.basis1,t.basis1),(0,c.c)(i.basis2,t.basis2),(0,d.C)(i.plane,t.plane)},create:y,distance:M,distance2:N,distanceToSilhouette:function(t,i){let r=Number.NEGATIVE_INFINITY;for(const e of X){const n=k(t,e,D.get()),s=(0,u.kb)(n,i);s>r&&(r=s)}return Math.sqrt(r)},elevate:L,equals:j,extrusionContainsPoint:q,fromAABoundingRect:E,fromValues:O,intersectRay:I,intersectRayClosestSilhouette:function(t,i,r){if(I(t,i,r))return r;const e=T(t,i,p.rq.get());return(0,c.g)(r,i.origin,(0,c.h)(p.rq.get(),i.direction,(0,c.q)(i.origin,e)/(0,c.l)(i.direction))),r},normal:B,projectPoint:R,projectPointLocal:w,rotate:x,setAltitudeAt:function(t,i,r,e){const n=C(t,i),s=(0,c.h)(G,B(t),r-n);return(0,c.g)(e,i,s),e},setExtent:function(t,i,r){return E(i,r),L(r,C(t,t.origin),r),r},transform:P,up:S,updateUnboundedPlane:_,wrap:function(t,i,r){const e=Y.get();return e.origin=t,e.basis1=i,e.basis2=r,e.plane=(0,d.LV)(0,0,0,0),_(e),e}},Symbol.toStringTag,{value:"Module"}))},81284:(t,i,r)=>{function e(t){return"point"===t.type}r.d(i,{v:()=>e})},80935:(t,i,r)=>{r.d(i,{R1:()=>o,aY:()=>n,cN:()=>s});var e=r(81284);class n{constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.array=t,this.spatialReference=i,this.offset=r}}function s(t){return"array"in t}function o(t,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ground";if((0,e.v)(i))return t.getElevation(i.x,i.y,i.z||0,i.spatialReference,r);if(s(i)){var n;let e=i.offset;return t.getElevation(i.array[e++],i.array[e++],i.array[e]||0,null!==(n=i.spatialReference)&&void 0!==n?n:t.spatialReference,r)}return t.getElevation(i[0],i[1],i[2]||0,t.spatialReference,r)}},21255:(t,i,r)=>{r.d(i,{DC:()=>o,MQ:()=>a,mi:()=>c});var e=r(3112),n=r(35737),s=r(46571);function o(t){return(0,s.i3)(t)&&t.intersector===e.dz.TERRAIN&&!!t.target}class a extends n.R6{constructor(t,i,r){super(t,i),this.triangleNr=r}}function c(t){return(0,s.i3)(t)&&t.intersector===e.dz.OVERLAY&&!!t.target}},29808:(t,i,r)=>{r.d(i,{G7:()=>L,TH:()=>p,hz:()=>y});var e=r(34761),n=r(13191),s=r(20664),o=r(9392),a=r(43047),c=r(55855),l=r(95925),h=r(64465),u=r(3112),d=r(35737),g=r(46571),f=r(97974);const p=1e-5;class v{constructor(t){this.options=new u.H6,this._results=new m,this.transform=new f.dg,this.tolerance=p,this.verticalOffset=null,this._ray=(0,l.vt)(),this._rayEnd=(0,o.vt)(),this._rayBeginTransformed=(0,o.vt)(),this._rayEndTransformed=(0,o.vt)(),this.viewingMode=null!==t&&void 0!==t?t:h.RT.Global}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,i,r){this.resetWithRay((0,l.Cr)(t,i,this._ray),r)}resetWithRay(t,i){this.camera=i,t!==this._ray&&(0,l.C)(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===h.RT.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,s.g)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;this.point=i,this.filterPredicate=e,this.tolerance=null!==r&&void 0!==r?r:p;const s=(0,f.ou)(this.verticalOffset);if(t&&t.length>0){const i=n?t=>{n(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const r of t){var o;const t=null===(o=r.getSpatialQueryAccelerator)||void 0===o?void 0:o.call(r);null!=t?(null!=s?t.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,i,s):t.forEachAlongRay(this._ray.origin,this._ray.direction,i),this.options.selectionMode&&this.options.hud&&t.forEachDegenerateObject(i)):r.objects.forAll((t=>i(t)))}}this.sortResults()}intersectObject(t){const i=t.geometries;if(!i)return;const r=t.effectiveTransformation,e=(0,f.ou)(this.verticalOffset);for(const o of i){if(!o.visible)continue;const{material:i,id:a}=o;this.transform.setAndInvalidateLazyTransforms(r,o.transformation),(0,s.e)(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),(0,s.e)(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const c=this.transform.transform;null!=e&&(e.objectTransform=this.transform),i.intersect(o,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((i,r,e,s,o,l)=>{if(i>=0){if(null!=this.filterPredicate&&!this.filterPredicate(this._ray.origin,this._rayEnd,i))return;const h=s?this._results.hud:this._results,g=s?s=>{const c=new d.B$(t,a,e,l);s.set(u.dz.HUD,c,i,r,n.zK,o)}:n=>n.set(u.dz.OBJECT,{object:t,geometryId:a,triangleNr:e},i,r,c,o);if((null==h.min.drapedLayerOrder||o>=h.min.drapedLayerOrder)&&(null==h.min.dist||i<h.min.dist)&&g(h.min),this.options.store!==u.oH.MIN&&(null==h.max.drapedLayerOrder||o<h.max.drapedLayerOrder)&&(null==h.max.dist||i>h.max.dist)&&g(h.max),this.options.store===u.oH.ALL)if(s){const t=new _(this._ray);g(t),this._results.hud.all.push(t)}else{const t=new O(this._ray);g(t),this._results.all.push(t)}}}))}}sortResults(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._results.all).sort(((t,i)=>{var r,e;return t.dist!==i.dist?(null!==(r=t.dist)&&void 0!==r?r:0)-(null!==(e=i.dist)&&void 0!==e?e:0):t.drapedLayerOrder!==i.drapedLayerOrder?b(t.drapedLayerOrder,i.drapedLayerOrder):b(t.drapedLayerGraphicOrder,i.drapedLayerGraphicOrder)}))}}function b(t,i){return(null!==i&&void 0!==i?i:-Number.MAX_VALUE)-(null!==t&&void 0!==t?t:-Number.MAX_VALUE)}function y(t){return new v(t)}class m{constructor(){this.min=new O((0,l.vt)()),this.max=new O((0,l.vt)()),this.hud={min:new _((0,l.vt)()),max:new _((0,l.vt)()),all:new Array},this.ground=new O((0,l.vt)()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class O{get ray(){return this._ray}get distanceInRenderSpace(){return null!=this.dist?((0,s.h)(E,this.ray.direction,this.dist),(0,s.l)(E)):null}getIntersectionPoint(t){return!!(0,g.i3)(this)&&((0,s.h)(E,this.ray.direction,this.dist),(0,s.g)(t,this.ray.origin,E),!0)}getTransformedNormal(t){return(0,s.c)(I,this.normal),I[3]=0,(0,a.t)(I,I,this.transformation),(0,s.c)(t,I),(0,s.n)(t,t)}constructor(t){this.intersector=u.dz.OBJECT,this.normal=(0,o.vt)(),this.transformation=(0,n.vt)(),this._ray=(0,l.vt)(),this.init(t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=u.dz.OBJECT,(0,l.C)(t,this._ray)}set(t,i,r,a,c,l,h){this.intersector=t,this.dist=r,(0,s.c)(this.normal,null!==a&&void 0!==a?a:o.Cb),(0,e.C)(this.transformation,null!==c&&void 0!==c?c:n.zK),this.target=i,this.drapedLayerOrder=l,this.drapedLayerGraphicOrder=h}copy(t){(0,l.C)(t.ray,this._ray),this.intersector=t.intersector,this.dist=t.dist,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,(0,s.c)(this.normal,t.normal),(0,e.C)(this.transformation,t.transformation)}}class _ extends O{constructor(){super(...arguments),this.intersector=u.dz.HUD}}function L(t){return new O(t)}const E=(0,o.vt)(),I=(0,c.vt)()},3112:(t,i,r)=>{var e,n;r.d(i,{H6:()=>s,dz:()=>e,oH:()=>n}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(e||(e={}));class s{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=n.ALL}}!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(n||(n={}))},35737:(t,i,r)=>{r.d(i,{B$:()=>s,HE:()=>o,R6:()=>a});var e=r(9392);class n{constructor(t,i,r){this.object=t,this.geometryId=i,this.triangleNr=r}}class s extends n{constructor(t,i,r,n){super(t,i,r),this.center=null!=n?(0,e.o8)(n):null}}class o{constructor(t){this.layerUid=t}}class a extends o{constructor(t,i){super(t),this.graphicUid=i}}},46571:(t,i,r)=>{r.d(i,{$I:()=>l,Q5:()=>c,hH:()=>h,i3:()=>a});var e=r(20664),n=r(9392),s=r(79650),o=r(3112);function a(t){return null!=(null===t||void 0===t?void 0:t.dist)}function c(t){return(i,r,n)=>((0,e.m)(u,i,r,n),!(0,s.e)(t,u))}function l(t){return a(t)&&t.intersector===o.dz.OBJECT&&!!t.target}function h(t){return a(t)&&t.intersector===o.dz.HUD&&!!t.target&&"center"in t.target&&null!=t.target.center}const u=(0,n.vt)()}}]);
//# sourceMappingURL=22216.d1093d18.chunk.js.map