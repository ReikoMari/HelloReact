"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[5508],{56002:(e,t,n)=>{function o(e){let t,n,o=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(s,o)||(n=e.apply(this,s),t=this,o=s,r=!0),n}}n.d(t,{B:()=>o})},4216:(e,t,n)=>{n.d(t,{A:()=>c});var o,r=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=o=class extends i.oY{constructor(e){super(e),this.type="cloudy",this.cloudCover=.5}clone(){return new o({cloudCover:this.cloudCover})}};(0,r._)([(0,l.e)({cloudy:"cloudy"})],d.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"cloudCover",void 0),d=o=(0,r._)([(0,a.$)("esri.views.3d.environment.CloudyWeather")],d);const c=d},23695:(e,t,n)=>{n.d(t,{A:()=>c});var o,r=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=o=class extends i.oY{constructor(e){super(e),this.type="foggy",this.fogStrength=.5}clone(){return new o({fogStrength:this.fogStrength})}};(0,r._)([(0,l.e)({foggy:"foggy"})],d.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"fogStrength",void 0),d=o=(0,r._)([(0,a.$)("esri.views.3d.environment.FoggyWeather")],d);const c=d},20728:(e,t,n)=>{n.d(t,{A:()=>c});var o,r=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=o=class extends i.oY{constructor(e){super(e),this.type="rainy",this.cloudCover=.5,this.precipitation=.5}clone(){return new o({cloudCover:this.cloudCover,precipitation:this.precipitation})}};(0,r._)([(0,l.e)({rainy:"rainy"})],d.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"cloudCover",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"precipitation",void 0),d=o=(0,r._)([(0,a.$)("esri.views.3d.environment.RainyWeather")],d);const c=d},92521:(e,t,n)=>{n.d(t,{A:()=>c});var o,r=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=o=class extends i.oY{constructor(e){super(e),this.type="snowy",this.cloudCover=.5,this.precipitation=.5,this.snowCover="disabled"}clone(){return new o({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};(0,r._)([(0,l.e)({snowy:"snowy"})],d.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"cloudCover",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"precipitation",void 0),(0,r._)([(0,s.MZ)({type:["enabled","disabled"],nonNullable:!0,json:{write:!0}})],d.prototype,"snowCover",void 0),d=o=(0,r._)([(0,a.$)("esri.views.3d.environment.SnowyWeather")],d);const c=d},68814:(e,t,n)=>{n.d(t,{A:()=>c});var o,r=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=o=class extends i.oY{constructor(e){super(e),this.type="sunny",this.cloudCover=.5}clone(){return new o({cloudCover:this.cloudCover})}};(0,r._)([(0,l.e)({sunny:"sunny"})],d.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"cloudCover",void 0),d=o=(0,r._)([(0,a.$)("esri.views.3d.environment.SunnyWeather")],d);const c=d},53203:(e,t,n)=>{n.d(t,{TJ:()=>c,eM:()=>a,k9:()=>p,l2:()=>d,ni:()=>u});var o=n(4216),r=n(23695),i=n(20728),s=n(92521),l=n(68814);const a={key:"type",base:l.A,typeMap:{sunny:l.A,cloudy:o.A,rainy:i.A,snowy:s.A,foggy:r.A}},d=Object.keys(a.typeMap);function c(e,t){return!!d.includes(e)||(t.error('"'.concat(e,'" is not a valid weather type')),!1)}const u=1e4,p=1e5},5508:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var o=n(35143),r=n(56002),i=n(46053),s=(n(81806),n(76460)),l=(n(47249),n(85842)),a=n(53203),d=n(25329),c=n(77666),u=n(98108),p=n(87540),h=n(76099),y=n(63582),v=n(54761);const g="esri-weather",w={base:g,widgetIcon:n(15062).T.partlyCloudy,content:"".concat(g,"__content"),hasError:"".concat(g,"__content--has-error"),selector:"".concat(g,"__selector"),options:"".concat(g,"__options"),optionsHidden:"".concat(g,"__options--hidden"),error:"".concat(g,"__error"),warning:"".concat(g,"__warning")},b={base:"".concat("".concat(g,"__labeled-slider"))};var _,C,m;(m=_||(_={})).Disabled="disabled",m.Ready="ready",m.Error="error",function(e){e.NotVisible="not-visible",e.LocalScene="local-scene",e.NoAtmosphere="no-atmosphere",e.UnsupportedView="unsupported-view"}(C||(C={}));let M=class extends d.A{constructor(e){super(e),this._onChange=e=>{this.onChange(e.target.value)}}render(){const{label:e}=this;return(0,v.K)("div",{class:b.base},(0,v.K)("calcite-label",{scale:"s"},e,(0,v.K)("calcite-slider",{"aria-label":e,disabled:this.disabled,max:1,min:0,step:.01,value:this.value,onCalciteSliderChange:this._onChange,onCalciteSliderInput:this._onChange})))}loadDependencies(){return(0,c.W)({label:()=>Promise.all([n.e(39879),n.e(65423)]).then(n.bind(n,65423)),slider:()=>Promise.all([n.e(39879),n.e(62785),n.e(95203),n.e(28225)]).then(n.bind(n,28225))})}};(0,o._)([(0,i.MZ)()],M.prototype,"value",void 0),(0,o._)([(0,i.MZ)()],M.prototype,"onChange",void 0),(0,o._)([(0,i.MZ)()],M.prototype,"disabled",void 0),M=(0,o._)([(0,l.$)("esri.widgets.Weather.LabeledSlider")],M);var f=n(91967);let k=class extends f.A{constructor(e){super(e),this.header=!0}};(0,o._)([(0,i.MZ)({type:Boolean,nonNullable:!0})],k.prototype,"header",void 0),k=(0,o._)([(0,l.$)("esri.widgets.Weather.VisibleElements")],k);const Z=k;var A=n(68134),S=n(4216),K=n(23695),N=n(20728),W=n(92521),x=n(68814);let T=class extends f.A{constructor(e){super(e),this.view=null,this._weatherByType={sunny:new x.A,cloudy:new S.A,rainy:new N.A,snowy:new W.A,foggy:new K.A},this._settingWeather=!1}initialize(){this.addHandles([(0,A.watch)((()=>this.current),(e=>{this._settingWeather||null==e||(this._weatherByType={...this._weatherByType,[e.type]:e})}),A.syncAndInitial)])}get state(){const e=this.view;return null!=e&&e.ready?null!=this.error?this.error===C.NotVisible?_.Ready:_.Error:_.Ready:_.Disabled}get weatherByType(){return this._weatherByType}get error(){const e=this.view;return null!=e&&e.ready?"3d"!==e.type?C.UnsupportedView:"local"===e.viewingMode?C.LocalScene:e.environment.atmosphereEnabled?e.environmentManager.weatherVisible?null:C.NotVisible:C.NoAtmosphere:null}get current(){var e,t;return null!==(e=null===(t=this._environment)||void 0===t?void 0:t.weather)&&void 0!==e?e:this._weatherByType.sunny}set current(e){const t=this._environment;t&&(t.weather=e)}get _environment(){const e=this.view;return null!=e&&"3d"===e.type?e.environment:null}setWeatherByType(e){if(!(0,a.TJ)(e,s.A.getLogger(this)))return;const t=this._environment;null!=t&&(this._settingWeather=!0,t.weather=this._weatherByType[e],this._settingWeather=!1)}setSnowCoverEnabled(e){const t=this.current;"snowCover"in t&&(t.snowCover=e?"enabled":"disabled")}};(0,o._)([(0,i.MZ)()],T.prototype,"view",void 0),(0,o._)([(0,i.MZ)()],T.prototype,"state",null),(0,o._)([(0,i.MZ)()],T.prototype,"_weatherByType",void 0),(0,o._)([(0,i.MZ)()],T.prototype,"weatherByType",null),(0,o._)([(0,i.MZ)()],T.prototype,"error",null),(0,o._)([(0,i.MZ)()],T.prototype,"current",null),(0,o._)([(0,i.MZ)()],T.prototype,"_environment",null),T=(0,o._)([(0,l.$)("esri.widgets.Weather.WeatherViewModel")],T);const B=T,E={sunny:"brightness",cloudy:"partly-cloudy",rainy:"rain",snowy:"snow",foggy:"fog"};let L=class extends d.A{constructor(e){super(e),this.viewModel=new B,this.headingLevel=4,this.visibleElements=new Z,this.iconClass=w.widgetIcon,this.icon=null,this._renderWeatherTypeButton=e=>{const t=this.viewModel,n=this.messages[e].label,o=t.state===_.Disabled,r=!o&&t.current.type===e;return(0,v.K)("calcite-button",{appearance:r?"solid":"outline","aria-checked":r?"true":"false",disabled:o,iconStart:E[e],key:"".concat(e,"-type-button"),kind:r?"brand":"neutral",label:n,onclick:()=>{r||t.setWeatherByType(e)},scale:"l",title:n})},this._memoizedCallbacks=(0,r.B)((e=>({onCloudCoverChange:t=>{"cloudCover"in e&&(e.cloudCover=t)},onPrecipitationChange:t=>{"precipitation"in e&&(e.precipitation=t)},onFogStrengthChange:t=>{"fogStrength"in e&&(e.fogStrength=t)},onSnowCoverChange:e=>{this.viewModel.setSnowCoverEnabled(e.target.checked)}})))}render(){const e=this.viewModel.state===_.Disabled;return(0,v.K)("div",{"aria-label":this.messages.widgetLabelAccessible,class:this.classes(w.base,u.D.widget,e&&u.D.widgetDisabled),role:"region"},this._renderContent())}loadDependencies(){return(0,c.W)({button:()=>Promise.all([n.e(39879),n.e(62785),n.e(95203),n.e(75151),n.e(11309)]).then(n.bind(n,11309)),checkbox:()=>Promise.all([n.e(39879),n.e(95203),n.e(92022)]).then(n.bind(n,92022)),icon:()=>Promise.all([n.e(39879),n.e(95012)]).then(n.bind(n,95012)),label:()=>Promise.all([n.e(39879),n.e(65423)]).then(n.bind(n,65423))})}get view(){var e;return null===(e=this.viewModel)||void 0===e?void 0:e.view}set view(e){this.viewModel&&(this.viewModel.view=e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get _errorMessage(){const e=this.messages.error;switch(this.viewModel.error){case C.LocalScene:return e.localScene;case C.NoAtmosphere:return e.noAtmosphere;case C.UnsupportedView:return e.unsupported;default:return null}}get _warningMessage(){var e;return this.viewModel.error===C.NotVisible&&null!=this.view&&"3d"===(null===(e=this.view)||void 0===e?void 0:e.type)&&this.view.environment.atmosphereEnabled?this.messages.error.notVisible:null}_renderContent(){const{headingLevel:e,messages:t,viewModel:n,visibleElements:o}=this,r=this._warningMessage,i=n.current,s=n.state===_.Error;return(0,v.K)(v.w,null,o.header?(0,v.K)(p.D,{level:e},t.widgetLabel):null,s?(0,v.K)("div",{class:w.error,key:"error"},this._errorMessage):null,(0,v.K)("div",{class:(0,h.Ly)({[w.content]:!0,[w.hasError]:s}),key:"content"},(0,v.K)("div",{"aria-label":t.weatherType,class:w.selector,key:"type-selector",role:"radiogroup"},a.l2.map(this._renderWeatherTypeButton)),Object.values(n.weatherByType).map((e=>(0,v.K)("div",{class:(0,h.Ly)({[w.options]:!0,[w.optionsHidden]:e.type!==(null===i||void 0===i?void 0:i.type)}),key:"options-container"},this._renderOptions(e)))),null!=r?this._renderWarning(r):null))}_renderOptions(e){const{viewModel:t,messages:n}=this,o=t.state===_.Disabled,r=this._memoizedCallbacks(e);switch(e.type){case"sunny":return(0,v.K)(M,{disabled:o,key:"sunny-cover",label:n.sunny.cloudCover,value:e.cloudCover,onChange:r.onCloudCoverChange});case"cloudy":return(0,v.K)(M,{disabled:o,key:"cloudy-cover",label:n.cloudy.cloudCover,value:e.cloudCover,onChange:r.onCloudCoverChange});case"rainy":return(0,v.K)(v.w,null,(0,v.K)(M,{disabled:o,key:"rainy-cover",label:n.rainy.cloudCover,value:e.cloudCover,onChange:r.onCloudCoverChange}),(0,v.K)(M,{disabled:o,key:"rainy-precipitation",label:n.rainy.precipitation,value:e.precipitation,onChange:r.onPrecipitationChange}));case"snowy":return(0,v.K)(v.w,null,(0,v.K)(M,{disabled:o,key:"snowy-cloud-cover",label:n.snowy.cloudCover,value:e.cloudCover,onChange:r.onCloudCoverChange}),(0,v.K)(M,{disabled:o,key:"snowy-precipitation",label:n.snowy.precipitation,value:e.precipitation,onChange:r.onPrecipitationChange}),(0,v.K)("calcite-label",{key:"snow-cover",layout:"inline",scale:"s",title:n.snowy.snowCoverTooltip},(0,v.K)("calcite-checkbox",{checked:"enabled"===e.snowCover,disabled:o,onCalciteCheckboxChange:r.onSnowCoverChange}),n.snowy.snowCover));case"foggy":return(0,v.K)(M,{disabled:o,key:"foggy-cover",label:n.foggy.fogStrength,value:e.fogStrength,onChange:r.onFogStrengthChange})}}_renderWarning(e){return(0,v.K)("div",{class:w.warning,key:"warning"},(0,v.K)("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s"}),e)}};(0,o._)([(0,i.MZ)()],L.prototype,"viewModel",void 0),(0,o._)([(0,i.MZ)()],L.prototype,"view",null),(0,o._)([(0,i.MZ)()],L.prototype,"headingLevel",void 0),(0,o._)([(0,i.MZ)({type:Z,nonNullable:!0})],L.prototype,"visibleElements",void 0),(0,o._)([(0,i.MZ)()],L.prototype,"iconClass",void 0),(0,o._)([(0,i.MZ)()],L.prototype,"icon",void 0),(0,o._)([(0,i.MZ)()],L.prototype,"label",null),(0,o._)([(0,i.MZ)(),(0,y.G)("esri/widgets/Weather/t9n/Weather")],L.prototype,"messages",void 0),(0,o._)([(0,i.MZ)()],L.prototype,"_errorMessage",null),(0,o._)([(0,i.MZ)()],L.prototype,"_warningMessage",null),L=(0,o._)([(0,l.$)("esri.widgets.Weather")],L);const D=L}}]);
//# sourceMappingURL=5508.0bee842f.chunk.js.map