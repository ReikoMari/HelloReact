"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[10286],{15372:(t,e,i)=>{i.d(e,{A:()=>_});var n,s=i(35143),o=i(42553),l=i(53084),r=i(46053),a=(i(81806),i(76460),i(85842)),u=i(93619),m=i(45802);i(47249);const d=new m.J({slider:"slider",picker:"picker"});let c=n=class extends o.oY{constructor(t){super(t),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new n({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,s._)([(0,r.MZ)({type:d.apiValues,nonNullable:!0,json:{type:d.jsonValues,default:null,read:{reader:d.read},write:{isRequired:!0,writer:d.write}}})],c.prototype,"interactionMode",void 0),(0,s._)([(0,r.MZ)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const t=null!=this.stopInterval;return{enabled:!t,isRequired:!t}}}}})],c.prototype,"numStops",void 0),(0,s._)([(0,r.MZ)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],c.prototype,"stopInterval",void 0),c=n=(0,s._)([(0,a.$)("esri.webdoc.widgets.Range")],c);const p=c;var h,v=i(18379);let y=h=class extends o.oY{constructor(t){super(t),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new h((0,l.o8)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,s._)([(0,r.MZ)({type:p,json:{write:!0}})],y.prototype,"range",void 0),(0,s._)([(0,r.MZ)({type:v.A,json:{write:!0}})],y.prototype,"timeSlider",void 0),(0,s._)([(0,r.MZ)({type:u.A,json:{write:!0}})],y.prototype,"floorFilter",void 0),y=h=(0,s._)([(0,a.$)("esri.webdoc.Widgets")],y);const _=y},93619:(t,e,i)=>{i.d(e,{A:()=>m});var n,s=i(35143),o=i(42553),l=i(53084),r=i(46053),a=(i(81806),i(76460),i(85842));let u=n=class extends o.oY{constructor(t){super(t),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new n((0,l.o8)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,s._)([(0,r.MZ)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],u.prototype,"enabled",void 0),(0,s._)([(0,r.MZ)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],u.prototype,"longNames",void 0),(0,s._)([(0,r.MZ)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],u.prototype,"minimized",void 0),(0,s._)([(0,r.MZ)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],u.prototype,"pinnedLevels",void 0),(0,s._)([(0,r.MZ)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],u.prototype,"site",void 0),(0,s._)([(0,r.MZ)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],u.prototype,"facility",void 0),(0,s._)([(0,r.MZ)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],u.prototype,"level",void 0),u=n=(0,s._)([(0,a.$)("esri.webdoc.widgets.FloorFilter")],u);const m=u},18379:(t,e,i)=>{i.d(e,{A:()=>v});var n,s=i(35143),o=i(82111),l=i(53666),r=i(42553),a=i(53084),u=i(48611),m=i(46053),d=(i(81806),i(76460),i(28379)),c=i(85842),p=i(17707);let h=n=class extends r.oY{constructor(t){super(t),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(t){if(!t)return;const e=null!=t[0]?new Date(t[0]):null,i=null!=t[1]?new Date(t[1]):null;return new o.A({start:e,end:i})}writeCurrentTimeExtent(t,e,i){t&&(0,u.sM)(i,[null!=t.start?t.start.getTime():null,null!=t.end?t.end.getTime():null],e)}readFullTimeExtent(t,e){const i=e.properties;if(!i)return;const n=null!=i.endTime?new Date(i.endTime):null,s=null!=i.startTime?new Date(i.startTime):null;return new o.A({start:s,end:n})}writeFullTimeExtent(t,e){if(!t)return;const i=e.properties=e.properties||{},n=t.end,s=t.start;n&&(i.endTime=null!=n?n.getTime():null),s&&(i.startTime=null!=s?s.getTime():null)}readStopInterval(t,e,i){return t?l.A.fromJSON({value:t.interval,unit:t.units},i):null}writeStopInterval(t,e,i,n){if(!t)return;const s=t.toJSON(n);(0,u.sM)(i,{interval:s.value,units:s.unit},e)}readStops(t){return null!==t&&void 0!==t&&t.length?t.map((t=>new Date(t))):null}writeStops(t,e,i){(null===t||void 0===t?void 0:t.length)&&(0,u.sM)(i,t.map((t=>t.getTime())),e)}clone(){return new n((0,a.o8)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,s._)([(0,m.MZ)({type:o.A,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],h.prototype,"currentTimeExtent",void 0),(0,s._)([(0,d.w)("currentTimeExtent")],h.prototype,"readCurrentTimeExtent",null),(0,s._)([(0,p.K)("currentTimeExtent")],h.prototype,"writeCurrentTimeExtent",null),(0,s._)([(0,m.MZ)({type:o.A,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],h.prototype,"fullTimeExtent",void 0),(0,s._)([(0,d.w)("fullTimeExtent")],h.prototype,"readFullTimeExtent",null),(0,s._)([(0,p.K)("fullTimeExtent")],h.prototype,"writeFullTimeExtent",null),(0,s._)([(0,m.MZ)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],h.prototype,"loop",void 0),(0,s._)([(0,m.MZ)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var t;const e=!!this.stopInterval,i=!(null===(t=this.stops)||void 0===t||!t.length),n=!(e||i);return{enabled:n,isRequired:n}}}}})],h.prototype,"numStops",void 0),(0,s._)([(0,m.MZ)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],h.prototype,"numThumbs",void 0),(0,s._)([(0,m.MZ)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],h.prototype,"stopDelay",void 0),(0,s._)([(0,m.MZ)({type:l.A,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var t;const e=null!=this.numStops,i=!(null===(t=this.stops)||void 0===t||!t.length);return{enabled:!i,isRequired:!(e||i)}}}}})],h.prototype,"stopInterval",void 0),(0,s._)([(0,d.w)("stopInterval")],h.prototype,"readStopInterval",null),(0,s._)([(0,p.K)("stopInterval")],h.prototype,"writeStopInterval",null),(0,s._)([(0,m.MZ)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],h.prototype,"stops",void 0),(0,s._)([(0,d.w)("stops")],h.prototype,"readStops",null),(0,s._)([(0,p.K)("stops")],h.prototype,"writeStops",null),h=n=(0,s._)([(0,c.$)("esri.webdoc.widgets.TimeSlider")],h);const v=h},10286:(t,e,i)=>{i.r(e),i.d(e,{default:()=>P});var n=i(35143),s=i(53666),o=i(18690),l=i(4212),r=i(63241),a=i(76460),u=i(68134),m=i(18288),d=i(46053),c=i(85842),p=i(65256),h=i(67478),v=i(22785),y=i(25329),_=i(77666),g=i(98108),w=i(15062),f=i(20459),x=i(63582),T=i(12254),b=i(54761),M=i(76099),E=i(91896);const S="esri-time-slider",k={widgetIcon:w.T.timeClock,timeSlider:"".concat(S),timeSliderOutOfBounds:"".concat(S,"--out-of-bounds"),timeSliderMode:"".concat(S,"__mode--"),timeSliderLayout:"".concat(S,"__layout--"),timeSliderRow:"".concat(S,"__row"),animation:"".concat(S,"__animation"),animationButton:"".concat(S,"__animation-button"),timeExtent:"".concat(S,"__time-extent"),timeExtentGroup:"".concat(S,"__time-extent-group"),timeExtentDate:"".concat(S,"__time-extent-date"),timeExtentTime:"".concat(S,"__time-extent-time"),timeExtentSeparator:"".concat(S,"__time-extent-separator"),playbackControls:"".concat(S,"__playback-controls"),min:"".concat(S,"__min"),minDate:"".concat(S,"__min-date"),minTime:"".concat(S,"__min-time"),slider:"".concat(S,"__slider"),sliderMajorTick:"majorTick",sliderMinorTick:"minorTick",max:"".concat(S,"__max"),maxDate:"".concat(S,"__max-date"),maxTime:"".concat(S,"__max-time"),previous:"".concat(S,"__previous"),previousButton:"".concat(S,"__previous-button"),next:"".concat(S,"__next"),nextButton:"".concat(S,"__next-button"),warning:"".concat(S,"__warning"),warningText:"".concat(S,"__warning-text"),hasActions:"".concat(S,"--has-actions"),actions:"".concat(S,"__actions"),actionsButton:"".concat(S,"__actions-button")};var Z=i(82111),j=i(19276),A=i(54099),C=i(50346),F=i(40565),D=(i(47249),i(81806),i(15372)),K=i(18379),I=i(42052);function N(t){return null!=t&&void 0!==t.count}function R(t){return null!=t&&void 0!==t.interval}function O(t){return null!=t&&void 0!==t.dates}let L=class extends A.A.EventedAccessor{constructor(t){super(t),this._animationController=null,this._isViewTimeExtentInitialized=!1,this._timerId=null,this.actions=new j.A,this.fullTimeExtent=null,this.loop=!1,this.mode="time-window",this.stops={count:10},this.timeExtent=null,this.view=null}initialize(){this.addHandles([(0,u.watch)((()=>this.effectiveStops),(()=>{null==this.timeExtent&&(this.timeExtent=this._getDefaultTimeExtent())}),u.initial),(0,u.watch)((()=>this.view),((t,e)=>{this._unregisterWidget(e),this._registerWidget(t)}),u.syncAndInitial),(0,u.watch)((()=>this.timeExtent),(t=>{if(null==this.view)return;const e=this.view.timeExtent;(null!=t&&!t.isAllTime||null!=e&&!e.isAllTime)&&(null!=t&&null!=e&&t.equals(e)||(this.view.timeExtent=t))}),u.initial),(0,u.watch)((()=>{var t;return null===(t=this.view)||void 0===t?void 0:t.timeExtent}),(t=>{this._isViewTimeExtentInitialized?(null!=t&&!t.isAllTime||null!=this.timeExtent&&!this.timeExtent.isAllTime)&&(null!=t&&null!=this.timeExtent&&t.equals(this.timeExtent)||(this.timeExtent=t)):this._isViewTimeExtentInitialized=!0}))])}destroy(){null!=this._timerId&&(clearInterval(this._timerId),this._timerId=null),this._unregisterWidget(this.view),this.view=null,null!=this._animationController&&(this._animationController.abort(),this._animationController=null)}get effectiveStops(){const{fullTimeExtent:t,stops:e}=this;if(O(e)){const{dates:i}=e;if(null==i||0===i.length)return null;const n=i.sort(((t,e)=>t.getTime()-e.getTime()));if(null==t)return n;const{start:s,end:o}=t;return null==s||null==o?n:n.filter((t=>!(t.getTime()<s.getTime()||t.getTime()>o.getTime())))}if(N(e)){var i;const n=null!==(i=e.timeExtent)&&void 0!==i?i:t;return this._divideTimeExtentByCount(n,e.count)}if(R(e)){var n;const i=null!==(n=e.timeExtent)&&void 0!==n?n:t;return this._divideTimeExtentByInterval(i,e.interval)}return[]}set playRate(t){t<=0||t>36e5||("playing"===this.state&&this._startAnimation(),this._set("playRate",t))}get state(){return null==this.fullTimeExtent?"disabled":null!=this._animationController?"playing":"ready"}get timeExtentValues(){const{mode:t,timeExtent:e}=this;if(null==e||e.isAllTime||e.isEmpty)return null;const{start:i,end:n}=e;switch(t){case"cumulative-from-end":case"instant":return null!=i?[i.getTime()]:null;case"cumulative-from-start":return null!=n?[n.getTime()]:null;case"time-window":return null!=i&&null!=n?[i.getTime(),n.getTime()]:null}}static async getPropertiesFromWebMap(t,e){(0,r.eO)(a.A.getLogger("esri.widgets.TimeSlider.TimeSliderViewModel"),"`TimeSliderViewModel.getPropertiesFromWebMap` is deprecated in favor of 'timeUtils.getTimeSliderSettingsFromWebMap'",{replacement:"timeUtils.getTimeSliderSettingsFromWebMap",version:"4.29",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-support-timeUtils.html#getTimeSliderSettingsFromWebMap",warnOnce:!0});const{getTimeSliderSettingsFromWebMap:n}=await Promise.resolve().then(i.bind(i,56246));return n(t,e)}next(){this._step({forward:!0,allowRestart:!1})}play(){this._startAnimation()}previous(){this._step({forward:!1,allowRestart:!1})}stop(){this._stopAnimation()}triggerAction(t){this.emit("trigger-action",{action:t})}updateWebDocument(t){if((0,I.r)(t)){const e=new K.A({currentTimeExtent:this.timeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:N(this.stops)?this.stops.count:null,numThumbs:"time-window"===this.mode?2:1,stopDelay:this.playRate,stopInterval:R(this.stops)?this.stops.interval:null,stops:O(this.stops)?this.stops.dates:null});t.widgets?t.widgets.timeSlider=e:t.widgets=new D.A({timeSlider:e})}}valuesToTimeExtent(t){if(null==t)return null;const e=t.sort(((t,e)=>t-e)).map((t=>new Date(t))),i=e.length>0?e[0]:null,n=e.length>1?e[1]:null;switch(this.mode){case"time-window":return new Z.A({start:i,end:n});case"instant":return new Z.A({start:i,end:i});case"cumulative-from-start":return new Z.A({start:null,end:i});case"cumulative-from-end":return new Z.A({start:i,end:null});default:return Z.A.allTime}}async _animate(){try{var t;const e=this.view,i=null===(t=this._animationController)||void 0===t?void 0:t.signal;await Promise.all([(0,C.Pl)(this.playRate,null,i),null!=e&&(0,u.whenOnce)((()=>!1===e.updating),i)])}catch(e){return(0,C.zf)(e)||a.A.getLogger(this).error(e),void(this._animationController=null)}this._step({forward:!0,allowRestart:!1}),null!=this._animationController&&this._animate()}_divideTimeExtentByCount(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(!t||!e)return[];const{start:i,end:n}=t;if(null==i||null==n)return[];if(e>1e4)return this._divideTimeExtentByCount(t);const s=[],o=i.getTime(),l=n.getTime()-o;for(let r=0;r<=e;r++)s.push(new Date(o+r/e*l));return s}_divideTimeExtentByInterval(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;if(!t||!e)return[];const{start:n,end:s}=t;if(null==n||null==s)return[];const o=s.getTime()-n.getTime(),l=e.toMilliseconds();if(l<=0||o/l>i)return this._divideTimeExtentByCount(t);const r=[],{value:a,unit:u}=e;let d=n;for(;d.getTime()<=s.getTime();)r.push(new Date(d.getTime())),d=(0,m.S1)(d,a,u);return r}_getDefaultTimeExtent(){const{effectiveStops:t,mode:e}=this;if(null==t||!e)return null;switch(e){case"time-window":return t.length>1?new Z.A({start:t[0],end:t[1]}):null;case"cumulative-from-start":return t.length>0?new Z.A({start:null,end:t[0]}):null;case"cumulative-from-end":return t.length>0?new Z.A({start:t[0],end:null}):null;case"instant":return t.length>0?new Z.A({start:t[0],end:t[0]}):null;default:return null}}_registerWidget(t){null!=t&&(t.persistableViewModels.includes(this)||t.persistableViewModels.add(this))}_startAnimation(){this._stopAnimation(),this._animationController=new AbortController,this._step({forward:!0,allowRestart:!0}),this._animate()}_step(t){const{forward:e,allowRestart:i}=t,{effectiveStops:n}=this;if(null==this.timeExtentValues||null==n)return;const s=n.map((t=>t.getTime())),o=this.timeExtentValues.map((t=>{const e=s.indexOf(t);if(-1!==e)return e;const i=s.reduce(((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e));return s.indexOf(i)})),l=o.map((t=>t+(e?1:-1))),r=l.some((t=>t<0||t>s.length-1)),{loop:a,state:u}=this;if(r)if(a||i){const t=Math.min(...o),i=Math.max(...o),n=(e?o.map((e=>e-t)):o.map((t=>t+(s.length-1-i)))).map((t=>s[t]));this.timeExtent=this.valuesToTimeExtent(n)}else"playing"===u&&this.stop();else{const t=l.map((t=>s[t]));this.timeExtent=this.valuesToTimeExtent(t)}}_stopAnimation(){null!=this._animationController&&(this._animationController.abort(),this._animationController=null)}_unregisterWidget(t){null!=t&&t.persistableViewModels.remove(this)}};(0,n._)([(0,d.MZ)()],L.prototype,"_animationController",void 0),(0,n._)([(0,d.MZ)({type:j.A})],L.prototype,"actions",void 0),(0,n._)([(0,d.MZ)({readOnly:!0})],L.prototype,"effectiveStops",null),(0,n._)([(0,d.MZ)({type:Z.A})],L.prototype,"fullTimeExtent",void 0),(0,n._)([(0,d.MZ)({nonNullable:!0})],L.prototype,"loop",void 0),(0,n._)([(0,d.MZ)({nonNullable:!0})],L.prototype,"mode",void 0),(0,n._)([(0,d.MZ)({nonNullable:!0,value:1e3})],L.prototype,"playRate",null),(0,n._)([(0,d.MZ)({readOnly:!0})],L.prototype,"state",null),(0,n._)([(0,d.MZ)({cast:t=>null==t?null:(R(t)&&(t.interval=(0,F.dp)(s.A,t.interval)),(R(t)||N(t))&&(t.timeExtent=(0,F.dp)(Z.A,t.timeExtent)),t)})],L.prototype,"stops",void 0),(0,n._)([(0,d.MZ)({type:Z.A})],L.prototype,"timeExtent",void 0),(0,n._)([(0,d.MZ)({readOnly:!0})],L.prototype,"timeExtentValues",null),(0,n._)([(0,d.MZ)()],L.prototype,"view",void 0),(0,n._)([(0,d.MZ)()],L.prototype,"next",null),(0,n._)([(0,d.MZ)()],L.prototype,"play",null),(0,n._)([(0,d.MZ)()],L.prototype,"previous",null),(0,n._)([(0,d.MZ)()],L.prototype,"stop",null),(0,n._)([(0,d.MZ)()],L.prototype,"updateWebDocument",null),L=(0,n._)([(0,c.$)("esri.widgets.TimeSlider.TimeSliderViewModel")],L);const W=L,B=[{minor:{value:100,unit:"milliseconds"},major:{value:1,unit:"seconds"},format:{second:"numeric"}},{minor:{value:500,unit:"milliseconds"},major:{value:5,unit:"seconds"},format:{second:"numeric"}},{minor:{value:1,unit:"seconds"},major:{value:20,unit:"seconds"},format:{minute:"numeric",second:"numeric"}},{minor:{value:2,unit:"seconds"},major:{value:30,unit:"seconds"},format:{minute:"numeric",second:"numeric"}},{minor:{value:10,unit:"seconds"},major:{value:1,unit:"minutes"},format:{minute:"numeric"}},{minor:{value:15,unit:"seconds"},major:{value:5,unit:"minutes"},format:{hour:"numeric",minute:"numeric"}},{minor:{value:1,unit:"minutes"},major:{value:20,unit:"minutes"},format:{hour:"numeric",minute:"numeric"}},{minor:{value:5,unit:"minutes"},major:{value:2,unit:"hours"},format:{hour:"numeric",minute:"numeric"}},{minor:{value:15,unit:"minutes"},major:{value:6,unit:"hours"},format:{hour:"numeric",minute:"numeric"}},{minor:{value:1,unit:"hours"},major:{value:1,unit:"days"},format:{day:"numeric",month:"short"}},{minor:{value:6,unit:"hours"},major:{value:1,unit:"weeks"},format:{day:"numeric",month:"short"}},{minor:{value:1,unit:"days"},major:{value:1,unit:"months"},format:{month:"long"}},{minor:{value:2,unit:"days"},major:{value:1,unit:"months"},format:{month:"short"}},{minor:{value:3,unit:"days"},major:{value:1,unit:"months"},format:{month:"short"}},{minor:{value:4,unit:"days"},major:{value:3,unit:"months"},format:{month:"short",year:"numeric"}},{minor:{value:1,unit:"weeks"},major:{value:1,unit:"years"},format:{year:"numeric"}},{minor:{value:1,unit:"months"},major:{value:1,unit:"years"},format:{year:"numeric"}},{minor:{value:2,unit:"months"},major:{value:2,unit:"years"},format:{year:"numeric"}},{minor:{value:1,unit:"years"},major:{value:1,unit:"decades"},format:{year:"numeric"}},{minor:{value:2,unit:"years"},major:{value:5,unit:"decades"},format:{year:"numeric"}},{minor:{value:5,unit:"decades"},major:{value:10,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:1,unit:"centuries"},major:{value:10,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:2,unit:"centuries"},major:{value:20,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:5,unit:"centuries"},major:{value:50,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:10,unit:"centuries"},major:{value:100,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:20,unit:"centuries"},major:{value:200,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:50,unit:"centuries"},major:{value:500,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:100,unit:"centuries"},major:{value:1e3,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:200,unit:"centuries"},major:{value:1e3,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:500,unit:"centuries"},major:{value:5e3,unit:"centuries"},format:{era:"short",year:"numeric"}},{minor:{value:1e3,unit:"centuries"},major:{value:1e4,unit:"centuries"},format:{era:"short",year:"numeric"}}];let V=class extends y.A{constructor(t,e){super(t,e),this._ignoreNextSliderUpdate=!1,this._slider=new v.default({precision:0,visibleElements:{rangeLabels:!1},rangeLabelInputsEnabled:!1,thumbsConstrained:!1}),this._tickFormat=null,this.disabled=!1,this.iconClass=k.widgetIcon,this.icon=null,this.labelFormatFunction=null,this.messages=null,this.messagesCommon=null,this.tickConfigs=null,this.timeVisible=!1,this.viewModel=new W}initialize(){this.addHandles([(0,u.watch)((()=>this._slider.values),(t=>{if(this._ignoreNextSliderUpdate)return void(this._ignoreNextSliderUpdate=!1);const e=this.viewModel.valuesToTimeExtent(t);null!=this.timeExtent?null!=e?this.timeExtent.equals(e)||(this.timeExtent=e):this.timeExtent=null:null!=e&&(this.timeExtent=e)})),(0,u.watch)((()=>this.effectiveStops),(()=>this._updateSliderSteps()),u.initial)])}loadDependencies(){return(0,_.W)({action:()=>Promise.all([i.e(39879),i.e(62785),i.e(48897),i.e(37918)]).then(i.bind(i,92111)),"action-menu":()=>Promise.all([i.e(39879),i.e(62785),i.e(48347),i.e(60731),i.e(48897),i.e(53794),i.e(24706),i.e(6279)]).then(i.bind(i,6279))})}destroy(){this._slider.destroy(),this._tickFormat=null}get _dateFormat(){return this._getIntlOptions("short-date")}get _timeFormat(){return this._getIntlOptions("long-time")}get actions(){return this.viewModel.actions}set actions(t){this.viewModel.actions=t}get effectiveStops(){return this.viewModel.effectiveStops}get fullTimeExtent(){return this.viewModel.fullTimeExtent}set fullTimeExtent(t){this.viewModel.fullTimeExtent=t}get interactive(){return!(this.disabled||"disabled"===this.viewModel.state||this.timeZone===h.L5)}get label(){var t,e;return null!==(t=null===(e=this.messages)||void 0===e?void 0:e.widgetLabel)&&void 0!==t?t:""}set label(t){this._overrideIfSome("label",t)}set layout(t){["auto","compact","wide"].includes(t)||(t="auto"),this._set("layout",t)}get loop(){return this.viewModel.loop}set loop(t){this.viewModel.loop=t}get mode(){return this.viewModel.mode}set mode(t){this.viewModel.mode=t}get playRate(){return this.viewModel.playRate}set playRate(t){this.viewModel.playRate=t}get stops(){return this.viewModel.stops}set stops(t){this.viewModel.stops=t}get tickFormats(){const{timeZone:t}=this;return B.map((e=>{let{minor:i,major:n,format:o}=e;return{minor:new s.A(i),major:new s.A(n),format:{...o,timeZone:t}}}))}get timeExtent(){return this.viewModel.timeExtent}set timeExtent(t){this.viewModel.timeExtent=t}get timeZone(){var t,e;return null!==(t=null===(e=this.viewModel.view)||void 0===e?void 0:e.timeZone)&&void 0!==t?t:h.qU}set timeZone(t){this._overrideIfSome("timeZone",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}static async getPropertiesFromWebMap(t,e){return(0,r.eO)(a.A.getLogger("esri.widgets.TimeSlider"),"`TimeSlider.getPropertiesFromWebMap` is deprecated in favor of 'timeUtils.getTimeSliderSettingsFromWebMap'",{replacement:"timeUtils.getTimeSliderSettingsFromWebMap",version:"4.29",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-support-timeUtils.html#getTimeSliderSettingsFromWebMap",warnOnce:!0}),W.getPropertiesFromWebMap(t,e)}next(){return this.viewModel.next()}play(){return this.viewModel.play()}previous(){return this.viewModel.previous()}stop(){return this.viewModel.stop()}render(){var t;const{_slider:e,actions:i,domNode:n,effectiveStops:s,fullTimeExtent:l,interactive:r,messages:a,messagesCommon:u,mode:m,tickConfigs:d,timeExtent:c,timeVisible:h,viewModel:{state:v,timeExtentValues:y}}=this;if(null!=l){const{start:t,end:i}=l;if(null!=t&&null!=i){const n=t.getTime(),s=i.getTime(),o=e.min!==n||e.max!==s;if(o&&(e.min=n,e.max=s),null!=d)e.tickConfigs!==d&&(e.tickConfigs=d);else{var _,f;const t=(s-n)/((null===(_=e.trackElement)||void 0===_?void 0:_.offsetWidth)||400),i=null!==(f=this.tickFormats.find((e=>e.minor.toMilliseconds()>3*t)))&&void 0!==f?f:this.tickFormats.at(-1),l=this._tickFormat!==i&&null!=i;if(l&&(this._tickFormat=i),o||l){const t={mode:"position",values:this._getTickPositions(i.minor),labelsVisible:!1,tickCreatedFunction:(t,e)=>{null===e||void 0===e||e.classList.add(k.sliderMinorTick)}},n={mode:"position",values:this._getTickPositions(i.major),labelsVisible:!0,tickCreatedFunction:(t,e)=>{null===e||void 0===e||e.classList.add(k.sliderMajorTick)},labelFormatFunction:t=>(0,p.Yq)(t,i.format)};e.tickConfigs=[t,n]}}}}const x=null==(null===(t=this.fullTimeExtent)||void 0===t?void 0:t.start)||null==this.fullTimeExtent.end||null==this.timeExtent||this.timeExtent.isAllTime||this.timeExtent.isEmpty||null!=this.timeExtent.start&&(this.timeExtent.start<this.fullTimeExtent.start||this.timeExtent.start>this.fullTimeExtent.end)||null!=this.timeExtent.end&&(this.timeExtent.end>this.fullTimeExtent.end||this.timeExtent.end<this.fullTimeExtent.start);if(x)switch(this._ignoreNextSliderUpdate=!0,m){case"time-window":e.values=[e.min,e.max];break;case"instant":case"cumulative-from-end":e.values=[e.min];break;case"cumulative-from-start":e.values=[e.max]}else null!=y?(0,o.aI)(e.values,y)||(e.values=y):e.values=null;e.disabled=!r;const T="ready"===v,S="playing"===v,Z=x||!r||null==s||0===s.length,j="auto"===this.layout?n.clientWidth<858?"compact":"wide":this.layout,A=(0,b.K)("div",{class:k.animation},(0,b.K)("button",{"aria-disabled":Z?"true":"false","aria-label":S?u.control.stop:u.control.play,bind:this,class:this.classes(g.D.widgetButton,k.animationButton,Z&&g.D.buttonDisabled),disabled:Z,onclick:this._playOrStopClick,title:S?u.control.stop:u.control.play,type:"button"},(0,b.K)("div",{class:this.classes((T||Z)&&w.T.play,S&&w.T.pause)}))),C=null!=this.labelFormatFunction?(0,b.K)("div",{afterCreate:this._createLabel,afterUpdate:this._createLabel,bind:this,class:k.timeExtentDate,"data-date":c?[c.start,c.end]:null,"data-layout":j,"data-type":"extent",key:"extent"}):null==c||null!=c&&c.isAllTime?[(0,b.K)("div",{class:this.classes(k.warning,w.T.noticeTriangle)}),(0,b.K)("div",{class:k.warningText,key:"warning-text"},a.noTimeExtent)]:c.isEmpty?[(0,b.K)("div",{class:this.classes(k.warning,w.T.noticeTriangle)}),(0,b.K)("div",{class:k.warningText,key:"warning-text"},a.emptyTimeExtent)]:[null!=c.start&&(0,b.K)("div",{class:k.timeExtentGroup,key:"start-date-group"},(0,b.K)("div",{class:k.timeExtentDate,key:"start-date"},this._formatDate(c.start)),h?(0,b.K)("div",{class:k.timeExtentTime,key:"start-time"},this._formatTime(c.start)):null),null!=c.start&&null!=c.end&&c.start.getTime()!==c.end.getTime()&&(0,b.K)("div",{class:k.timeExtentSeparator,key:"separator"},"\u2013"),null!=c.end&&(null==c.start||c.start.getTime()!==c.end.getTime())&&(0,b.K)("div",{class:k.timeExtentGroup,key:"end-date-group"},(0,b.K)("div",{class:k.timeExtentDate,key:"end-date"},this._formatDate(c.end)),h?(0,b.K)("div",{class:k.timeExtentTime,key:"end-time"},this._formatTime(c.end)):null)],F=(0,b.K)("div",{class:this.classes(k.timeExtent,!r&&g.D.buttonDisabled)},[C]),D=null!=this.labelFormatFunction?(0,b.K)("div",{afterCreate:this._createLabel,afterUpdate:this._createLabel,bind:this,class:k.minDate,"data-date":null===l||void 0===l?void 0:l.start,"data-layout":j,"data-type":"min",key:"min-date"}):null!=(null===l||void 0===l?void 0:l.start)&&[(0,b.K)("div",{class:k.minDate,key:"min-date"},this._formatDate(l.start)),h&&(0,b.K)("div",{class:k.minTime,key:"min-time"},this._formatTime(l.start))],K=(0,b.K)("div",{class:this.classes(k.min,!r&&g.D.buttonDisabled)},[D]),I=(0,b.K)("div",{class:k.slider},e.render()),N=null!=this.labelFormatFunction?(0,b.K)("div",{afterCreate:this._createLabel,afterUpdate:this._createLabel,bind:this,class:k.maxDate,"data-date":null===l||void 0===l?void 0:l.end,"data-layout":j,"data-type":"max",key:"max-date"}):null!=(null===l||void 0===l?void 0:l.end)&&[(0,b.K)("div",{class:k.maxDate,key:"max-date"},this._formatDate(l.end)),h&&(0,b.K)("div",{class:k.maxTime,key:"max-time"},this._formatTime(l.end))],R=(0,b.K)("div",{class:this.classes(k.max,!r&&g.D.buttonDisabled)},[N]),O=(0,b.K)("div",{class:k.previous},(0,b.K)("button",{"aria-disabled":Z?"true":"false","aria-label":u.pagination.previous,bind:this,class:this.classes(g.D.widgetButton,k.previousButton,(S||Z)&&g.D.buttonDisabled),disabled:Z,onclick:this._previousClick,title:u.pagination.previous,type:"button"},(0,b.K)("div",{class:w.T.reverse}))),L=(0,b.K)("div",{class:k.next},(0,b.K)("button",{"aria-disabled":Z?"true":"false","aria-label":u.pagination.next,bind:this,class:this.classes(g.D.widgetButton,k.nextButton,(S||Z)&&g.D.buttonDisabled),disabled:Z,onclick:this._nextClick,title:u.pagination.next,type:"button"},(0,b.K)("div",{class:w.T.forward}))),W=(null===i||void 0===i?void 0:i.length)>0,B=W&&(0,b.K)("div",{class:k.actions,title:u.options},(0,b.K)("calcite-action-menu",{class:k.actionsButton,label:u.options},i.toArray().map((t=>(0,b.K)("calcite-action",{bind:this,icon:t.icon,id:t.id,onclick:()=>this.viewModel.triggerAction(t),text:t.title,textEnabled:!0})))));return(0,b.K)("div",{afterCreate:t=>{this.addHandles((0,M.EV)(t,(()=>this.scheduleRender())))},"aria-label":a.widgetLabel,class:this.classes(k.timeSlider,g.D.widget,"".concat(k.timeSliderMode).concat(m),"".concat(k.timeSliderLayout).concat(j),!r&&g.D.disabled,x&&k.timeSliderOutOfBounds,W&&k.hasActions,(0,E.fJ)())},"wide"===j&&(0,b.K)("div",{class:k.timeSliderRow},(0,b.K)("div",{class:k.playbackControls},[A,F,K,I,R,O,L]),B),"compact"===j&&[(0,b.K)("div",{class:k.timeSliderRow,key:"time-slider-row-1"},[F,B]),(0,b.K)("div",{class:k.timeSliderRow,key:"time-slider-row-2"},[I]),(0,b.K)("div",{class:k.timeSliderRow,key:"time-slider-row-3"},[K,O,A,L,R])])}updateWebDocument(t){var e;null===(e=this.viewModel)||void 0===e||e.updateWebDocument(t)}_createLabel(t){if(null==this.labelFormatFunction)return;const e=t.getAttribute("data-type"),i=t.getAttribute("data-layout"),n=t["data-date"];this.labelFormatFunction(n,e,t,i)}_formatDate(t){return(0,p.Yq)(t,this._dateFormat)}_formatTime(t){return(0,p.Yq)(t,this._timeFormat)}_getIntlOptions(t){const{timeZone:e}=this;return{...(0,p.J2)(t),timeZone:e}}_getTickPositions(t){const{fullTimeExtent:e}=this;if(null==(null===e||void 0===e?void 0:e.start)||null==e.end)return[];const{start:i,end:n}=e,s=[],{value:o,unit:l}=t;let r=(0,m.lL)(i,l,this.timeZone);for(;r.getTime()<=n.getTime();)r.getTime()>=i.getTime()&&s.push(r.getTime()),r=(0,m.S1)(r,o,l,this.timeZone);return s}_updateSliderSteps(){this._slider.steps=null!=this.effectiveStops&&this.effectiveStops.length>0?this.effectiveStops.map((t=>t.getTime())):null}_playOrStopClick(){switch(this.viewModel.state){case"ready":this.viewModel.play();break;case"playing":this.viewModel.stop();break;case"disabled":break;default:(0,l.Xb)(this.viewModel.state)}}_previousClick(){this.viewModel.previous()}_nextClick(){this.viewModel.next()}};(0,n._)([(0,d.MZ)()],V.prototype,"_dateFormat",null),(0,n._)([(0,d.MZ)()],V.prototype,"_timeFormat",null),(0,n._)([(0,d.MZ)()],V.prototype,"actions",null),(0,n._)([(0,d.MZ)()],V.prototype,"disabled",void 0),(0,n._)([(0,d.MZ)()],V.prototype,"effectiveStops",null),(0,n._)([(0,d.MZ)()],V.prototype,"fullTimeExtent",null),(0,n._)([(0,d.MZ)()],V.prototype,"iconClass",void 0),(0,n._)([(0,d.MZ)()],V.prototype,"icon",void 0),(0,n._)([(0,d.MZ)({readOnly:!0})],V.prototype,"interactive",null),(0,n._)([(0,d.MZ)()],V.prototype,"label",null),(0,n._)([(0,d.MZ)()],V.prototype,"labelFormatFunction",void 0),(0,n._)([(0,d.MZ)({value:"auto"})],V.prototype,"layout",null),(0,n._)([(0,d.MZ)()],V.prototype,"loop",null),(0,n._)([(0,d.MZ)(),(0,x.G)("esri/widgets/TimeSlider/t9n/TimeSlider")],V.prototype,"messages",void 0),(0,n._)([(0,d.MZ)(),(0,x.G)("esri/t9n/common")],V.prototype,"messagesCommon",void 0),(0,n._)([(0,d.MZ)()],V.prototype,"mode",null),(0,n._)([(0,d.MZ)()],V.prototype,"playRate",null),(0,n._)([(0,d.MZ)()],V.prototype,"stops",null),(0,n._)([(0,d.MZ)()],V.prototype,"tickConfigs",void 0),(0,n._)([(0,d.MZ)()],V.prototype,"tickFormats",null),(0,n._)([(0,d.MZ)()],V.prototype,"timeExtent",null),(0,n._)([(0,d.MZ)({nonNullable:!0})],V.prototype,"timeVisible",void 0),(0,n._)([(0,d.MZ)()],V.prototype,"timeZone",null),(0,n._)([(0,d.MZ)()],V.prototype,"view",null),(0,n._)([(0,d.MZ)({type:W}),(0,T.U)("trigger-action")],V.prototype,"viewModel",void 0),(0,n._)([(0,f.$)()],V.prototype,"_playOrStopClick",null),(0,n._)([(0,f.$)()],V.prototype,"_previousClick",null),(0,n._)([(0,f.$)()],V.prototype,"_nextClick",null),V=(0,n._)([(0,c.$)("esri.widgets.TimeSlider")],V);const P=V},12254:(t,e,i)=>{function n(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const i=e._delegatedEventNames,n=Array.isArray(t)?t:function(t){return t.split(",").map((t=>t.trim()))}(t);i.push(...n)}}i.d(e,{U:()=>n})}}]);
//# sourceMappingURL=10286.e39c0be5.chunk.js.map