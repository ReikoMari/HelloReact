"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[81594],{55877:(e,t,i)=>{var n;i.d(t,{u:()=>n}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(n||(n={}))},96820:(e,t,i)=>{i.d(t,{Cq:()=>d,Ee:()=>h,J1:()=>y,LF:()=>_,Me:()=>w,Mm:()=>p,Sz:()=>I,W4:()=>f,cs:()=>M,e_:()=>g,nD:()=>m,t_:()=>b,tr:()=>v,v7:()=>k,zJ:()=>u,zq:()=>A});var n=i(55877),a=i(73582),s=i(15941),o=i(24648),r=i(88685),l=i(31633),c=i(50265);function d(e,t,i){return e.units[t][i]}function u(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return"".concat((0,c.ZV)(t,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:t>0?"never":"exceptZero"})," ").concat(d(e,i,a))}function m(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return"".concat((0,c.ZV)(t,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:"exceptZero"})," ").concat(d(e,i,a))}function h(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.x0)(t,i);return u(e,(0,l.oU)(t,i,s),s,n,a)}function p(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.x0)(t,i);return m(e,(0,l.oU)(t,i,s),s,n,a)}function f(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.x$)(t,i);return u(e,(0,l.oU)(t,i,s),s,n,a)}function g(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.x$)(t,i);return m(e,(0,l.oU)(t,i,s),s,n,a)}function v(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.OU)(t,i);return u(e,(0,l.oU)(t,i,s),s,n,a)}function y(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.OU)(t,i);return m(e,(0,l.oU)(t,i,s),s,n,a)}function b(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.y7)(t,i);return u(e,(0,l.oU)(t,i,s),s,n,a)}function _(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.y7)(t,i);return m(e,(0,l.oU)(t,i,s),s,n,a)}function A(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.wv)(t,i);return u(e,(0,l.oU)(t,i,s),s,n,a)}function I(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const s=(0,l.TL)(t,i);return u(e,(0,l.oU)(t,i,s),s,n,a)}function w(e,t,i,n,s){var r;s=null!==(r=s)&&void 0!==r?r:2;let d=a.ie.normalize((0,o.g2)((0,l.oU)(e,t,"degrees"),i,n),0,!0);const u={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:s,minimumFractionDigits:s,signDisplay:d>0?"never":"exceptZero"};return d=D(d,u),(0,c.ZV)(d,u)}function M(e,t,i,n,a){var s;i!==n&&(e=-e);const o={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:a=null!==(s=a)&&void 0!==s?s:2,minimumFractionDigits:a,signDisplay:"exceptZero"};let r=(0,l.oU)(e,t,"degrees")%360;return r=D(r,o),(0,c.ZV)(r,o)}const F=new Map;function D(e,t){const i=JSON.stringify(t);let n=F.get(i);return n||(n=new Intl.NumberFormat("en-US",t),F.set(i,n)),/\-?\+?360/.test(n.format(e))?0:e}const T=["B","kB","MB","GB","TB"];function k(e,t){let i=0===(t=Math.round(t))?0:Math.floor(Math.log(t)/Math.log(n.u.KILOBYTES));i=(0,s.qE)(i,0,T.length-1);const a=(0,c.ZV)(t/n.u.KILOBYTES**i,{maximumFractionDigits:2});return(0,r.HC)(e.units.bytes[T[i]],{fileSize:a})}},88084:(e,t,i)=>{i.d(t,{A:()=>m});var n,a=i(35143),s=i(42553),o=i(46053),r=i(40565),l=(i(47249),i(81806),i(85842));function c(e){const{exifInfo:t,exifName:i,tagName:n}=e;if(!t||!i||!n)return null;const a=t.find((e=>e.name===i));return a?function(e){const{tagName:t,tags:i}=e;if(!i||!t)return null;const n=i.find((e=>e.name===t));return(null===n||void 0===n?void 0:n.value)||null}({tagName:n,tags:a.tags}):null}const d={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let u=n=class extends s.oY{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=c({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return d[t]||null}clone(){return new n({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,a._)([(0,o.MZ)({type:String})],u.prototype,"contentType",void 0),(0,a._)([(0,o.MZ)()],u.prototype,"exifInfo",void 0),(0,a._)([(0,o.MZ)({readOnly:!0})],u.prototype,"orientationInfo",null),(0,a._)([(0,o.MZ)({type:r.jz})],u.prototype,"id",void 0),(0,a._)([(0,o.MZ)({type:String})],u.prototype,"globalId",void 0),(0,a._)([(0,o.MZ)({type:String})],u.prototype,"keywords",void 0),(0,a._)([(0,o.MZ)({type:String})],u.prototype,"name",void 0),(0,a._)([(0,o.MZ)({json:{read:!1}})],u.prototype,"parentGlobalId",void 0),(0,a._)([(0,o.MZ)({json:{read:!1}})],u.prototype,"parentObjectId",void 0),(0,a._)([(0,o.MZ)({type:r.jz})],u.prototype,"size",void 0),(0,a._)([(0,o.MZ)({json:{read:!1}})],u.prototype,"url",void 0),u=n=(0,a._)([(0,l.$)("esri.layers.support.AttachmentInfo")],u);const m=u},81594:(e,t,i)=>{i.r(t),i.d(t,{default:()=>F});var n=i(35143),a=i(50076),s=i(68134),o=i(96820),r=i(46053),l=i(21403),c=(i(47249),i(81806),i(85842)),d=i(25329),u=i(78583),m=i(28899);function h(e){const t=e.toLowerCase();return"image/bmp"===t||"image/emf"===t||"image/exif"===t||"image/gif"===t||"image/x-icon"===t||"image/jpeg"===t||"image/png"===t||"image/tiff"===t||"image/x-wmf"===t}var p=i(77666),f=i(98108),g=i(15062),v=i(76099),y=i(63582),b=i(54761);const _={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},A="esri-attachments",I={base:A,loaderContainer:"".concat(A,"__loader-container"),loader:"".concat(A,"__loader"),fadeIn:"".concat(A,"--fade-in"),container:"".concat(A,"__container"),containerList:"".concat(A,"__container--list"),containerPreview:"".concat(A,"__container--preview"),actions:"".concat(A,"__actions"),deleteButton:"".concat(A,"__delete-button"),addAttachmentButton:"".concat(A,"__add-attachment-button"),errorMessage:"".concat(A,"__error-message"),items:"".concat(A,"__items"),item:"".concat(A,"__item"),itemButton:"".concat(A,"__item-button"),itemMask:"".concat(A,"__item-mask"),itemMaskIcon:"".concat(A,"__item-mask--icon"),itemImage:"".concat(A,"__image"),itemImageResizable:"".concat(A,"__image--resizable"),itemLabel:"".concat(A,"__label"),itemFilename:"".concat(A,"__filename"),itemChevronIcon:"".concat(A,"__item-chevron-icon"),itemLink:"".concat(A,"__item-link"),itemLinkOverlay:"".concat(A,"__item-link-overlay"),itemLinkOverlayIcon:"".concat(A,"__item-link-overlay-icon"),itemEditIcon:"".concat(A,"__item-edit-icon"),itemAddIcon:"".concat(A,"__item-add-icon"),itemAddButton:"".concat(A,"__item-add-button"),formNode:"".concat(A,"__form-node"),fileFieldset:"".concat(A,"__file-fieldset"),fileLabel:"".concat(A,"__file-label"),fileName:"".concat(A,"__file-name"),fileInput:"".concat(A,"__file-input"),metadata:"".concat(A,"__metadata"),metadataFieldset:"".concat(A,"__metadata-fieldset"),progressBar:"".concat(A,"__progress-bar")},w=window.CSS;let M=class extends d.A{constructor(e,t){super(e,t),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={..._},this._supportsImageOrientation=w&&w.supports&&w.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}normalizeCtorArgs(e){var t;return null!==(t=e)&&void 0!==t&&t.viewModel||(e={viewModel:new u.A,...e}),e}initialize(){this.addHandles([(0,s.on)((()=>{var e;return null===(e=this.viewModel)||void 0===e?void 0:e.attachmentInfos}),"change",(()=>this.scheduleRender())),(0,s.on)((()=>{var e;return null===(e=this.viewModel)||void 0===e?void 0:e.fileInfos}),"change",(()=>this.scheduleRender())),(0,s.watch)((()=>{var e;return null===(e=this.viewModel)||void 0===e?void 0:e.mode}),(()=>this._modeChanged()),s.initial)])}loadDependencies(){return(0,p.W)({icon:()=>Promise.all([i.e(39879),i.e(95012)]).then(i.bind(i,95012))})}get capabilities(){return this.viewModel.capabilities}set capabilities(e){this.viewModel.capabilities=e}get effectiveDisplayType(){const{displayType:e}=this;return e&&"auto"!==e?e:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}castVisibleElements(e){return{..._,...e}}addAttachment(){const{_addAttachmentForm:e,viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.addAttachment(e).then((e=>(this._set("submitting",!1),this._set("error",null),t.mode="view",e))).catch((e=>{throw this._set("submitting",!1),this._set("error",new a.A("attachments:add-attachment",this.messages.addErrorMessage,e)),e}))}deleteAttachment(e){const{viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.deleteAttachment(e).then((e=>(this._set("submitting",!1),this._set("error",null),t.mode="view",e))).catch((e=>{throw this._set("submitting",!1),this._set("error",new a.A("attachments:delete-attachment",this.messages.deleteErrorMessage,e)),e}))}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:t}=this;return this._set("submitting",!0),this._set("error",null),e.updateAttachment(t).then((t=>(this._set("submitting",!1),this._set("error",null),e.mode="view",t))).catch((e=>{throw this._set("submitting",!1),this._set("error",new a.A("attachments:update-attachment",this.messages.updateErrorMessage,e)),e}))}addFile(){const e=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",e}updateFile(){const{viewModel:e}=this,t=e.updateFile(this.selectedFile,this._updateAttachmentForm,e.activeFileInfo);return e.mode="view",t}deleteFile(e){var t;const i=this.viewModel.deleteFile(e||(null===(t=this.viewModel.activeFileInfo)||void 0===t?void 0:t.file));return this.viewModel.mode="view",i}render(){const{submitting:e,viewModel:t}=this,{state:i}=t;return(0,b.K)("div",{class:this.classes(I.base,f.D.widget)},e?this._renderProgressBar():null,"loading"===i?this._renderLoading():this._renderAttachments(),this._renderErrorMessage())}_renderErrorMessage(){const{error:e,visibleElements:t}=this;return e&&t.errorMessage?(0,b.K)("div",{class:I.errorMessage,key:"error-message"},e.message):null}_renderAttachments(){const{activeFileInfo:e,mode:t,activeAttachmentInfo:i}=this.viewModel;return"add"===t?this._renderAddForm():"edit"===t?this._renderDetailsForm(i||e):this._renderAttachmentContainer()}_renderLoading(){return(0,b.K)("div",{class:I.loaderContainer,key:"loader"},(0,b.K)("div",{class:I.loader}))}_renderProgressBar(){return this.visibleElements.progressBar?(0,b.K)("div",{class:I.progressBar,key:"progress-bar"}):null}_renderAddForm(){const{submitting:e,selectedFile:t}=this,i=e||!t,n=this.visibleElements.cancelAddButton?(0,b.K)("button",{bind:this,class:this.classes(f.D.button,f.D.buttonTertiary,f.D.buttonSmall,f.D.buttonHalf,e&&f.D.buttonDisabled),disabled:e,onclick:this._cancelForm,type:"button"},this.messages.cancel):null,a=this.visibleElements.addSubmitButton?(0,b.K)("button",{class:this.classes(f.D.button,f.D.buttonSecondary,f.D.buttonSmall,f.D.buttonHalf,{[f.D.buttonDisabled]:i}),disabled:i,type:"submit"},this.messages.add):null,s=t?(0,b.K)("span",{class:I.fileName,key:"file-name"},t.name):null,o=(0,b.K)("form",{afterCreate:v.cA,afterRemoved:v.N_,bind:this,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,b.K)("fieldset",{class:I.fileFieldset},s,(0,b.K)("label",{class:this.classes(I.fileLabel,f.D.button,f.D.buttonSecondary)},t?this.messages.changeFile:this.messages.selectFile,(0,b.K)("input",{bind:this,class:I.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))),a,n);return(0,b.K)("div",{class:I.formNode,key:"add-form-container"},o)}_renderDetailsForm(e){var t,i,n,a;const{visibleElements:s,viewModel:r,selectedFile:l,submitting:c}=this,{capabilities:d}=r,u=c||!l;let m,h,p,g;l?(m=l.type,h=l.name,p=l.size):e&&"file"in e?(m=e.file.type,h=e.file.name,p=e.file.size):e&&"contentType"in e&&(m=e.contentType,h=e.name,p=e.size,g=e.url);const y=d.editing&&null!==(t=d.operations)&&void 0!==t&&t.delete&&s.deleteButton?(0,b.K)("button",{bind:this,class:this.classes(f.D.button,f.D.buttonSmall,f.D.buttonTertiary,I.deleteButton,{[f.D.buttonDisabled]:c}),disabled:c,key:"delete-button",onclick:t=>this._submitDeleteAttachment(t,e),type:"button"},this.messages.delete):void 0,_=d.editing&&null!==(i=d.operations)&&void 0!==i&&i.update&&s.updateButton?(0,b.K)("button",{class:this.classes(f.D.button,f.D.buttonSmall,f.D.buttonThird,{[f.D.buttonDisabled]:u}),disabled:u,key:"update-button",type:"submit"},this.messages.update):void 0,A=this.visibleElements.cancelUpdateButton?(0,b.K)("button",{bind:this,class:this.classes(f.D.button,f.D.buttonSmall,f.D.buttonTertiary,f.D.buttonThird,{[f.D.buttonDisabled]:c}),disabled:c,key:"cancel-button",onclick:this._cancelForm,type:"button"},this.messages.cancel):void 0,w=d.editing&&null!==(n=d.operations)&&void 0!==n&&n.update?(0,b.K)("fieldset",{class:I.fileFieldset,key:"file"},(0,b.K)("span",{class:I.fileName,key:"file-name"},h),(0,b.K)("label",{class:this.classes(I.fileLabel,f.D.button,f.D.buttonSecondary)},this.messages.changeFile,(0,b.K)("input",{bind:this,class:I.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))):void 0,M=(0,b.K)("fieldset",{class:I.metadataFieldset,key:"size"},(0,b.K)("label",null,(0,o.v7)(this.messagesUnits,null!==(a=p)&&void 0!==a?a:0))),F=(0,b.K)("fieldset",{class:I.metadataFieldset,key:"content-type"},(0,b.K)("label",null,m)),D=null!=g?(0,b.K)("a",{class:I.itemLink,href:g,rel:"noreferrer",target:"_blank"},this._renderImageMask(e,400),(0,b.K)("div",{class:I.itemLinkOverlay},(0,b.K)("span",{class:I.itemLinkOverlayIcon},(0,b.K)("calcite-icon",{icon:"launch"})))):this._renderImageMask(e,400),T=(0,b.K)("form",{afterCreate:v.cA,afterRemoved:v.N_,bind:this,"data-node-ref":"_updateAttachmentForm",onsubmit:t=>this._submitUpdateAttachment(t,e)},(0,b.K)("div",{class:I.metadata},M,F),w,(0,b.K)("div",{class:I.actions},y,A,_));return(0,b.K)("div",{class:I.formNode,key:"edit-form-container"},D,T)}_renderImageMask(e,t){return e?"file"in e?this._renderGenericImageMask(e.file.name,e.file.type):this._renderImageMaskForAttachment(e,t):null}_renderGenericImageMask(e,t){const{supportsResizeAttachments:i}=this.viewModel,n=function(e){const t=(0,m.s)("esri/themes/base/images/files/");return e?"text/plain"===e?"".concat(t,"text-32.svg"):"application/pdf"===e?"".concat(t,"pdf-32.svg"):"text/csv"===e?"".concat(t,"csv-32.svg"):"application/gpx+xml"===e?"".concat(t,"gpx-32.svg"):"application/x-dwf"===e?"".concat(t,"cad-32.svg"):"application/postscript"===e||"application/json"===e||"text/xml"===e||"model/vrml"===e?"".concat(t,"code-32.svg"):"application/x-zip-compressed"===e||"application/x-7z-compressed"===e||"application/x-gzip"===e||"application/x-tar"===e||"application/x-gtar"===e||"application/x-bzip2"===e||"application/gzip"===e||"application/x-compress"===e||"application/x-apple-diskimage"===e||"application/x-rar-compressed"===e||"application/zip"===e?"".concat(t,"zip-32.svg"):e.includes("image/")?"".concat(t,"image-32.svg"):e.includes("audio/")?"".concat(t,"sound-32.svg"):e.includes("video/")?"".concat(t,"video-32.svg"):e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?"".concat(t,"excel-32.svg"):e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?"".concat(t,"word-32.svg"):e.includes("powerpoint")||e.includes("presentationml")?"".concat(t,"report-32.svg"):"".concat(t,"generic-32.svg"):"".concat(t,"generic-32.svg")}(t),a={[I.itemImageResizable]:i};return(0,b.K)("div",{class:this.classes(I.itemMaskIcon,I.itemMask),key:n},(0,b.K)("img",{alt:e,class:this.classes(a,I.itemImage),src:n,title:e}))}_renderImageMaskForAttachment(e,t){const{supportsResizeAttachments:i}=this.viewModel;if(!e)return null;const{contentType:n,name:a,url:s}=e;if(!i||!h(n))return this._renderGenericImageMask(a,n);const o=this._getCSSTransform(e),r=o?{transform:o,"image-orientation":"none"}:{},l="".concat(s).concat(null!==s&&void 0!==s&&s.includes("?")?"&":"?","w=").concat(t),c={[I.itemImageResizable]:i};return(0,b.K)("div",{class:this.classes(I.itemMask),key:l},(0,b.K)("img",{alt:a,class:this.classes(c,I.itemImage),src:l,styles:r,title:a}))}_renderFile(e){const{file:t}=e;return(0,b.K)("li",{class:I.item,key:t},(0,b.K)("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:I.itemButton,key:"details-button",onclick:()=>this._startEditFile(e),title:this.messages.attachmentDetails,type:"button"},this._renderImageMask(e),(0,b.K)("label",{class:I.itemLabel},(0,b.K)("span",{class:I.itemFilename},t.name||this.messages.noTitle),(0,b.K)("span",{"aria-hidden":"true",class:this.classes(I.itemChevronIcon,(0,v.V8)(this.container)?g.T.left:g.T.right)}))))}_renderAttachmentInfo(e){let{attachmentInfo:t,displayType:i}=e;const{viewModel:n,effectiveDisplayType:a}=this,{capabilities:s,supportsResizeAttachments:o}=n,{contentType:r,name:l,url:c}=t,d=this._renderImageMask(t,"list"===i?48:400),u=s.editing?(0,b.K)("span",{"aria-hidden":"true",class:this.classes(I.itemChevronIcon,(0,v.V8)(this.container)?g.T.left:g.T.right)}):null,m=[d,"preview"===a&&o&&h(r)?null:(0,b.K)("label",{class:I.itemLabel},(0,b.K)("span",{class:I.itemFilename},l||this.messages.noTitle),u)],p=s.editing?(0,b.K)("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:I.itemButton,"data-attachment-info-id":t.id,key:"details-button",onclick:()=>this._startEditAttachment(t),title:this.messages.attachmentDetails,type:"button"},m):(0,b.K)("a",{class:I.itemButton,href:null!==c&&void 0!==c?c:void 0,key:"details-link",target:"_blank"},m);return(0,b.K)("li",{class:I.item,key:t},p)}_renderAttachmentContainer(){var e;const{effectiveDisplayType:t,viewModel:i,visibleElements:n}=this,{attachmentInfos:a,capabilities:s,fileInfos:o}=i,r=!(null===a||void 0===a||!a.length),l=!(null===o||void 0===o||!o.length),c={[I.containerList]:"preview"!==t,[I.containerPreview]:"preview"===t},d=s.editing&&null!==(e=s.operations)&&void 0!==e&&e.add&&n.addButton?(0,b.K)("button",{bind:this,class:this.classes(f.D.button,f.D.buttonTertiary,I.addAttachmentButton),onclick:()=>this._startAddAttachment(),type:"button"},(0,b.K)("span",{"aria-hidden":"true",class:this.classes(I.itemAddIcon,g.T.plus)}),this.messages.add):void 0,u=r?(0,b.K)("ul",{class:I.items,key:"attachments-list"},a.toArray().map((e=>this._renderAttachmentInfo({attachmentInfo:e,displayType:t})))):void 0,m=l?(0,b.K)("ul",{class:I.items,key:"file-list"},o.toArray().map((e=>this._renderFile(e)))):void 0,h=l||r?void 0:(0,b.K)("div",{class:f.D.empty},this.messages.noAttachments);return(0,b.K)("div",{class:this.classes(I.container,c),key:"attachments-container"},u,m,h,d)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){var t;const i=null===(t=e.target.files)||void 0===t?void 0:t.item(0);this._set("selectedFile",i)}_submitDeleteAttachment(e,t){e.preventDefault(),t&&("file"in t?this.deleteFile(t.file):t&&this.deleteAttachment(t))}_submitAddAttachment(e){e.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(e,t){e.preventDefault(),t&&"file"in t?this.updateFile():this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this;t.activeFileInfo=null,t.activeAttachmentInfo=e,t.mode="edit"}_startEditFile(e){const{viewModel:t}=this;t.activeAttachmentInfo=null,t.activeFileInfo=e,t.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e){const{orientationInfo:t}=e;return!this._supportsImageOrientation&&t?[t.rotation?"rotate(".concat(t.rotation,"deg)"):"",t.mirrored?"scaleX(-1)":""].join(" "):""}};(0,n._)([(0,r.MZ)()],M.prototype,"capabilities",null),(0,n._)([(0,r.MZ)()],M.prototype,"displayType",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],M.prototype,"effectiveDisplayType",null),(0,n._)([(0,r.MZ)()],M.prototype,"graphic",null),(0,n._)([(0,r.MZ)()],M.prototype,"label",null),(0,n._)([(0,r.MZ)(),(0,y.G)("esri/widgets/Attachments/t9n/Attachments")],M.prototype,"messages",void 0),(0,n._)([(0,r.MZ)(),(0,y.G)("esri/core/t9n/Units")],M.prototype,"messagesUnits",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],M.prototype,"selectedFile",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],M.prototype,"submitting",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],M.prototype,"error",void 0),(0,n._)([(0,r.MZ)({type:u.A})],M.prototype,"viewModel",void 0),(0,n._)([(0,r.MZ)()],M.prototype,"visibleElements",void 0),(0,n._)([(0,l.w)("visibleElements")],M.prototype,"castVisibleElements",null),M=(0,n._)([(0,c.$)("esri.widgets.Attachments")],M);const F=M},78583:(e,t,i)=>{i.d(t,{A:()=>y});var n=i(35143),a=i(39356),s=i(91967),o=i(19276),r=i(50076),l=i(68134),c=i(46053),d=i(21403),u=(i(47249),i(81806),i(85842)),m=i(88084),h=i(9708),p=i(9912);const f={editing:!1,operations:{add:!0,update:!0,delete:!0}},g=o.A.ofType(m.A);let v=class extends s.A{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.capabilities={...f},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new g,this.fileInfos=new o.A,this.graphic=null,this.mode="view",this.filesEnabled=!1,this.addHandles((0,l.watch)((()=>this.graphic),(()=>this._graphicChanged()),l.initial))}destroy(){this._attachmentLayer=null,this.graphic=null}castCapabilities(e){return{...f,...e}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:e}=this;if(!e)return!1;const t=e.layer||e.sourceLayer;return(null===t||void 0===t?void 0:t.loaded)&&"capabilities"in t&&t.capabilities&&"operations"in t.capabilities&&"supportsResizeAttachments"in t.capabilities.operations&&t.capabilities.operations.supportsResizeAttachments||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t}=this;if(!e||"function"!=typeof e.queryAttachments)throw new r.A("invalid-layer","getAttachments(): A valid layer is required.");const i=this._getObjectId(),n=new h.A({objectIds:[i],returnMetadata:!0}),a=[],s=e.queryAttachments(n).then((e=>e[i]||a)).catch((()=>a));this._getAttachmentsPromise=s,this.notifyChange("state");const o=await s;return t.removeAll(),o.length&&t.addMany(o),this._getAttachmentsPromise=null,this.notifyChange("state"),o}async addAttachment(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.graphic;const{_attachmentLayer:n,attachmentInfos:a,capabilities:s}=this;if(!i)throw new r.A("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:i});if(!e)throw new r.A("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(null===(t=s.operations)||void 0===t||!t.add)throw new r.A("invalid-capabilities","addAttachment(): add capabilities are required.");if(!n||"function"!=typeof n.addAttachment)throw new r.A("invalid-layer","addAttachment(): A valid layer is required.");const o=n.addAttachment(i,e).then((e=>this._queryAttachment(e.objectId,i))),l=await o;return a.add(l),l}async deleteAttachment(e){var t;const{_attachmentLayer:i,attachmentInfos:n,graphic:a,capabilities:s}=this;if(!e)throw new r.A("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(null===(t=s.operations)||void 0===t||!t.delete)throw new r.A("invalid-capabilities","deleteAttachment(): delete capabilities are required.");if(!i||"function"!=typeof i.deleteAttachments)throw new r.A("invalid-layer","deleteAttachment(): A valid layer is required.");if(!a)throw new r.A("invalid-graphic","deleteAttachment(): A graphic is required.");const o=i.deleteAttachments(a,[e.id]).then((()=>e)),l=await o;return n.remove(l),l}async updateAttachment(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeAttachmentInfo;const{_attachmentLayer:n,attachmentInfos:a,graphic:s,capabilities:o}=this;if(!e)throw new r.A("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!i)throw new r.A("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:i});if(null===(t=o.operations)||void 0===t||!t.update)throw new r.A("invalid-capabilities","updateAttachment(): Update capabilities are required.");const l=a.indexOf(i);if(!n||"function"!=typeof n.updateAttachment)throw new r.A("invalid-layer","updateAttachment(): A valid layer is required.");if(!s)throw new r.A("invalid-graphic","updateAttachment(): A graphic is required.");const c=n.updateAttachment(s,i.id,e).then((e=>this._queryAttachment(e.objectId))),d=await c;return a.splice(l,1,d),d}async commitFiles(){return await Promise.all(this.fileInfos.items.map((e=>this.addAttachment(e.form)))),this.fileInfos.removeAll(),this.getAttachments()}addFile(e,t){if(!e||!t)return null;const i={file:e,form:t};return this.fileInfos.add(i),i}updateFile(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.activeFileInfo;if(!e||!t||!i)return null;const n=this.fileInfos.indexOf(i);return n>-1&&this.fileInfos.splice(n,1,{file:e,form:t}),this.fileInfos.items[n]}deleteFile(e){const t=this.fileInfos.find((t=>t.file===e));return t?(this.fileInfos.remove(t),t):null}async _queryAttachment(e,t){const{_attachmentLayer:i}=this;if(!e||null===i||void 0===i||!i.queryAttachments)throw new r.A("invalid-attachment-id","Could not query attachment.");const n=this._getObjectId(t),a=new h.A({objectIds:[n],attachmentsWhere:"AttachmentId=".concat(e),returnMetadata:!0});return i.queryAttachments(a).then((e=>e[n][0]))}_getObjectId(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.graphic;return null!==(e=null===t||void 0===t?void 0:t.getObjectId())&&void 0!==e?e:null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((()=>{})))}_setAttachmentLayer(){const{graphic:e}=this,t=(0,p.JF)(e);this._attachmentLayer=t?"scene"===t.type&&null!=t.associatedLayer?t.associatedLayer:t:null}};(0,n._)([(0,c.MZ)()],v.prototype,"capabilities",void 0),(0,n._)([(0,d.w)("capabilities")],v.prototype,"castCapabilities",null),(0,n._)([(0,c.MZ)()],v.prototype,"activeAttachmentInfo",void 0),(0,n._)([(0,c.MZ)()],v.prototype,"activeFileInfo",void 0),(0,n._)([(0,c.MZ)({readOnly:!0,type:g})],v.prototype,"attachmentInfos",void 0),(0,n._)([(0,c.MZ)()],v.prototype,"fileInfos",void 0),(0,n._)([(0,c.MZ)({type:a.A})],v.prototype,"graphic",void 0),(0,n._)([(0,c.MZ)()],v.prototype,"mode",void 0),(0,n._)([(0,c.MZ)({readOnly:!0})],v.prototype,"state",null),(0,n._)([(0,c.MZ)()],v.prototype,"filesEnabled",void 0),(0,n._)([(0,c.MZ)({readOnly:!0})],v.prototype,"supportsResizeAttachments",null),v=(0,n._)([(0,u.$)("esri.widgets.Attachments.AttachmentsViewModel")],v);const y=v},9912:(e,t,i)=>{i.d(t,{A4:()=>k,AB:()=>M,Ao:()=>te,DU:()=>J,Fr:()=>se,JF:()=>w,MK:()=>q,Tt:()=>D,Uu:()=>P,a$:()=>j,bG:()=>V,bV:()=>T,c3:()=>$,cS:()=>ne,gd:()=>L,kX:()=>F,ld:()=>G,lm:()=>S,n1:()=>N,n_:()=>R,q6:()=>ie,s$:()=>Q,sS:()=>B,u2:()=>K,x1:()=>Y,xL:()=>x});var n=i(76460),a=i(88685),s=i(65256),o=i(50265),r=i(53430),l=i(31933),c=i(42633),d=i(98976),u=i(67478);const m=()=>n.A.getLogger("esri.widgets.Feature.support.featureUtils"),h=/href=(""|'')/gi,p=/(\{([^\{\r\n]+)\})/g,f=/\'/g,g=/^\s*expression\//i,v=/(\n)/gi,y=/[\u00A0-\u9999<>\&]/gim,b=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,_=/^(?:mailto:|tel:)/,A="relationships/",I=(0,s.J2)("short-date-short-time");function w(e){var t;if(null!=e)return null!==(t=e.sourceLayer||e.layer)&&void 0!==t?t:void 0}async function M(e,t){return"function"==typeof e?e(t):e}function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return!_.test(e.trim().toLowerCase())}function D(e){return!!e&&g.test(e)}function T(e,t){const i=function(e,t){if(!D(t)||!e)return;const i=t.replace(g,"").toLowerCase();return e.find((e=>{let{name:t}=e;return t.toLowerCase()===i}))}(t,null===e||void 0===e?void 0:e.fieldName);return i?i.title||null:e?e.label||e.fieldName:null}function k(e,t){const i=Z(t,e);return i?i.name:e}function x(e,t){return e&&e.map((e=>k(e,t)))}function Z(e,t){var i;return e&&"function"==typeof e.getField&&t&&null!==(i=e.getField(t))&&void 0!==i?i:null}function E(e){return"".concat(e).trim()}function K(e){let{attributes:t,globalAttributes:i,layer:n,text:a,expressionAttributes:s,fieldInfoMap:o}=e;return a?L({formattedAttributes:i,template:z(a,{...i,...s,...t},n),fieldInfoMap:o}):""}function L(e){let{formattedAttributes:t,template:i,fieldInfoMap:n}=e;return E(function(e){return e.replaceAll(h,"")}((0,a.HC)((0,a.HC)(i,(e=>function(e,t){const i=t.get(e.toLowerCase());return"{".concat((null===i||void 0===i?void 0:i.fieldName)||e,"}")}(e,n))),t)))}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={...e};return Object.keys(i).forEach((e=>function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=t[e];if("string"==typeof n){const a="%27",s=(i?encodeURIComponent(n):n).replaceAll(f,a);t[e]=s}}(e,i,t))),i}function q(e,t){return e.replaceAll(p,((e,i,n)=>{const a=Z(t,n);return a?"{".concat(a.name,"}"):i}))}function z(e,t,i){const n=q(e,i);return n?n.replaceAll(b,((e,i,n)=>function(e,t,i){const n=(t=E(t))&&"{"!==t[0];return(0,a.HC)(e,C(i,n||!1))}(e,i||n,t))):n}function B(e){return function(e){return null!=e&&"object"==typeof e&&"fieldsIndex"in e&&"geometryType"in e&&"getField"in e&&"load"in e&&"loaded"in e&&"objectIdField"in e&&"spatialReference"in e&&"type"in e&&("feature"===e.type||"scene"===e.type)&&"when"in e}(e)&&function(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"queryFeatureCount"in e&&"queryObjectIds"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e&&"relationships"in e}(e)}function N(e){return!!e&&"object"==typeof e&&"sourceLayer"in e&&B(e.sourceLayer)}function U(e,t){const{fieldInfos:i,fieldName:n,preventPlacesFormatting:a,layer:s,timeZone:l}=t,d=S(i,n),u=Z(s,n);if(d&&!(0,r.JL)(n)){var m;const t=null===u||void 0===u?void 0:u.type,i=null===(m=d.format)||void 0===m?void 0:m.dateFormat;if("date"===t||"date-only"===t||"time-only"===t||"timestamp-offset"===t||i)return(0,c.i0)(e,{format:i,fieldType:t,timeZoneOptions:{layerTimeZone:s&&"preferredTimeZone"in s?s.preferredTimeZone:null,viewTimeZone:l,datesInUnknownTimezone:!(!s||!("datesInUnknownTimezone"in s))&&!!s.datesInUnknownTimezone}})}const h=null===d||void 0===d?void 0:d.format;return"string"==typeof e&&(0,r.JL)(n)&&h?function(e,t){return e=e.trim(),/\d{2}-\d{2}/.test(e)?e:e.includes(",")?O(e,",",", ",t):e.includes(";")?O(e,";","; ",t):e.includes(" ")?O(e," "," ",t):(0,o.ZV)(Number(e),(0,o.yx)(t))}(e,h):"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){const t=Number(e);if(!isNaN(t))return t}return e}(e,h))||null==e||null==h?P(e):(0,o.ZV)(e,a?{...(0,o.yx)(h),minimumFractionDigits:0,maximumFractionDigits:20}:(0,o.yx)(h))}function O(e,t,i,n){return e.trim().split(t).map((e=>(0,o.ZV)(Number(e),(0,o.yx)(n)))).join(i)}function S(e,t){if(null!==e&&void 0!==e&&e.length&&t)return e.find((e=>{var i;return(null===(i=e.fieldName)||void 0===i?void 0:i.toLowerCase())===t.toLowerCase()}))}function j(e,t,i,n){const{creatorField:a,creationDateField:o,editorField:r,editDateField:l}=e;if(!t)return;const c=(0,u.hv)(n&&"preferredTimeZone"in n?n.preferredTimeZone:null,!(!n||!("datesInUnknownTimezone"in n))&&!!n.datesInUnknownTimezone,i,I,"date"),d={...I,...c},m=t[l];if("number"==typeof m){const e=t[r];return{type:"edit",date:(0,s.Yq)(m,d),user:e}}const h=t[o];if("number"==typeof h){const e=t[a];return{type:"create",date:(0,s.Yq)(h,d),user:e}}return null}function R(e,t){const i=new Map;return e?(e.forEach((e=>{const n=k(e.fieldName,t);e.fieldName=n,i.set(n.toLowerCase(),e)})),i):i}function G(e){const t=[];if(!e)return t;const{fieldInfos:i,content:n}=e;return i&&t.push(...i),n&&Array.isArray(n)?(n.forEach((e=>{if("fields"===e.type){const i=null===e||void 0===e?void 0:e.fieldInfos;i&&t.push(...i)}})),t):t}function V(e){return e.replaceAll(y,(e=>"&#".concat(e.charCodeAt(0),";")))}function P(e){return"string"==typeof e?e.replaceAll(v,'<br class="esri-text-new-line" />'):e}function H(e){var t;const{value:i,fieldName:n,fieldInfos:a,fieldInfoMap:s,layer:o,graphic:l,timeZone:d}=e;if(null==i)return"";const u=function(e){let{fieldName:t,value:i,graphic:n,layer:a}=e;if(Q(t))return null;if(!a||"function"!=typeof a.getFieldDomain)return null;const s=n&&a.getFieldDomain(t,{feature:n});return s&&"coded-value"===s.type?s.getName(i):null}({fieldName:n,value:i,graphic:l,layer:o});if(u)return u;const m=function(e){let{fieldName:t,graphic:i,layer:n}=e;if(Q(t))return null;if(!n||"function"!=typeof n.getFeatureType)return null;const{typeIdField:a}=n;if(!a||t!==a)return null;const s=n.getFeatureType(i);return s?s.name:null}({fieldName:n,graphic:l,layer:o});if(m)return m;if(s.get(n.toLowerCase()))return U(i,{fieldInfos:a||Array.from(s.values()),fieldName:n,layer:o,timeZone:d});const h=null===o||void 0===o||null===(t=o.fieldsIndex)||void 0===t?void 0:t.get(n);return h&&((0,c.fs)(h)||(0,r.OH)(h))?(0,c.i0)(i,{fieldType:h.type,timeZoneOptions:{layerTimeZone:o&&"preferredTimeZone"in o?o.preferredTimeZone:null,viewTimeZone:d,datesInUnknownTimezone:!(!o||!("datesInUnknownTimezone"in o))&&!!o.datesInUnknownTimezone}}):P(i)}function Y(e){let{fieldInfos:t,attributes:i,layer:n,graphic:a,fieldInfoMap:s,relatedInfos:o,timeZone:r}=e;const l={};return null!==o&&void 0!==o&&o.forEach((e=>function(e){var t,i;let{attributes:n,relatedInfo:a,fieldInfoMap:s,fieldInfos:o,layer:r,timeZone:l}=e;n&&a&&(null!==(t=a.relatedFeatures)&&void 0!==t&&t.forEach((e=>W({attributes:n,graphic:e,relatedInfo:a,fieldInfoMap:s,fieldInfos:o,layer:r,timeZone:l}))),null===(i=a.relatedStatsFeatures)||void 0===i||i.forEach((e=>W({attributes:n,graphic:e,relatedInfo:a,fieldInfoMap:s,fieldInfos:o,layer:r,timeZone:l}))))}({attributes:l,relatedInfo:e,fieldInfoMap:s,fieldInfos:t,layer:n,timeZone:r}))),i&&Object.keys(i).forEach((e=>{const o=i[e];l[e]=H({fieldName:e,fieldInfos:t,fieldInfoMap:s,layer:n,value:o,graphic:a,timeZone:r})})),l}async function J(e,t){var i;const{layer:n,graphic:a,outFields:s,objectIds:o,returnGeometry:r,spatialReference:c}=e,d=o[0];if("number"!=typeof d&&"string"!=typeof d){const e="Could not query required fields for the specified feature. The feature's ID is invalid.",t={layer:n,graphic:a,objectId:d,requiredFields:s};return m().warn(e,t),null}if(null===(i=(0,l.BR)(n))||void 0===i||null===(i=i.operations)||void 0===i||!i.supportsQuery){const e="The specified layer cannot be queried. The following fields will not be available.",t={layer:n,graphic:a,requiredFields:s,returnGeometry:r};return m().warn(e,t),null}const u=n.createQuery();return u.objectIds=o,u.outFields=null!==s&&void 0!==s&&s.length?s:[n.objectIdField],u.returnGeometry=!!r,u.returnZ=!!r,u.returnM=!!r,u.outSpatialReference=c,(await n.queryFeatures(u,t)).features[0]}async function $(e,t){let{graphic:i,popupTemplate:n,layer:a,spatialReference:s}=e;if(!a||!n)return;if("function"==typeof a.load&&await a.load(t),!i.attributes)return;const o=i.attributes[a.objectIdField];if(null==o)return;const l=[o],c=await n.getRequiredFields(a.fieldsIndex),u=(0,r.Kl)(c,i),m=u?[]:c,h=n.returnGeometry||await async function(e){var t;if(null===(t=e.expressionInfos)||void 0===t||!t.length)return!1;const i=await(0,d.lw)(),{arcadeUtils:{hasGeometryFunctions:n}}=i;return n(e)}(n);if(u&&!h)return;const p=await J({layer:a,graphic:i,outFields:m,objectIds:l,returnGeometry:h,spatialReference:s},t);p&&(p.geometry&&(i.geometry=p.geometry),p.attributes&&(i.attributes={...i.attributes,...p.attributes}))}function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e&&e.includes(A)}function W(e){let{attributes:t,graphic:i,relatedInfo:n,fieldInfos:a,fieldInfoMap:s,layer:o,timeZone:r}=e;t&&i&&n&&Object.keys(i.attributes).forEach((e=>{const l=function(e){return e?"".concat(A).concat(e.layerId,"/").concat(e.fieldName):""}({layerId:n.relation.id.toString(),fieldName:e}),c=i.attributes[e];t[l]=H({fieldName:l,fieldInfos:a,fieldInfoMap:s,layer:o,value:c,graphic:i,timeZone:r})}))}const X=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},ee=e=>{var t;let{layer:i,method:n,query:a,definitionExpression:s}=e;if(null===(t=i.capabilities)||void 0===t||null===(t=t.query)||void 0===t||!t.supportsCacheHint||"attachments"===n)return;const o=null!=a.where?a.where:null,r=null!=a.geometry?a.geometry:null;X(s)||X(o)||"extent"===(null===r||void 0===r?void 0:r.type)||"tile"===a.resultType||(a.cacheHint=!0)},te=e=>{let{query:t,layer:i,method:n}=e;ee({layer:i,method:n,query:t,definitionExpression:"".concat(i.definitionExpression," ").concat(i.serviceDefinitionExpression)})},ie=e=>{let{queryPayload:t,layer:i,method:n}=e;ee({layer:i,method:n,query:t,definitionExpression:"".concat(i.definitionExpression," ").concat(i.serviceDefinitionExpression)})};function ne(e,t,i){return e&&t&&i?ae(e.allLayers,t,i)||ae(e.allTables,t,i):null}function ae(e,t,i){let{relatedTableId:n}=i;const a="scene"===t.type&&t.associatedLayer?t.associatedLayer.url:t.url;return e.filter(B).find((e=>e!==t&&e.url===a&&e.layerId===n))}function se(e){const t=e.getObjectId();return null!=t?"oid:".concat(t):"uid:".concat(e.uid)}}}]);
//# sourceMappingURL=81594.8667fc33.chunk.js.map