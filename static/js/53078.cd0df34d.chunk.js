"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[53078],{7811:(t,e,o)=>{o.d(e,{Nt:()=>P,ld:()=>L});var i=o(35143),n=o(39356),r=o(54099),l=o(54901),s=o(30726),a=o(24648),c=o(68134),p=o(31633),u=o(46053),d=(o(81806),o(76460),o(47249),o(85842)),h=o(63733),v=o(74e3),y=o(12482),f=o(14185),g=o(94277),m=o(42151),_=o(56829),M=o(82307),w=o(97513),x=o(75706),O=o(73697),Z=o(86855);let I=class extends O.w{constructor(t){super(t),this.type="draw-point",this.elevation=(0,Z.S3)()}get allFields(){return[this.elevation]}};(0,i._)([(0,u.MZ)()],I.prototype,"type",void 0),(0,i._)([(0,u.MZ)()],I.prototype,"elevation",void 0),(0,i._)([(0,u.MZ)()],I.prototype,"allFields",null),(0,i._)([(0,u.MZ)()],I.prototype,"helpMessage",void 0),I=(0,i._)([(0,d.$)("esri.views.interactive.tooltip.DrawPointTooltipInfo")],I);let T=class extends O.w{constructor(t){super(t),this.type="draw-polyline",this.direction=(0,Z.Gk)(),this.distance=(0,Z.R0)({title:t=>t.messages.sketch.distance}),this.elevation=(0,Z.S3)(),this.totalLength=(0,Z.R0)({format:(t,e)=>e.formatters.totalLength(t),title:t=>t.messages.sketch.totalLength,readOnly:!0})}get allFields(){return[this.direction,this.distance,this.elevation,this.totalLength]}};(0,i._)([(0,u.MZ)()],T.prototype,"type",void 0),(0,i._)([(0,u.MZ)()],T.prototype,"direction",void 0),(0,i._)([(0,u.MZ)()],T.prototype,"distance",void 0),(0,i._)([(0,u.MZ)()],T.prototype,"elevation",void 0),(0,i._)([(0,u.MZ)()],T.prototype,"totalLength",void 0),(0,i._)([(0,u.MZ)()],T.prototype,"allFields",null),(0,i._)([(0,u.MZ)()],T.prototype,"helpMessage",void 0),T=(0,i._)([(0,d.$)("esri.views.interactive.tooltip.DrawPolylineTooltipInfo")],T);let b=class extends O.w{constructor(t){super(t),this.type="draw-polygon",this.direction=(0,Z.Gk)(),this.distance=(0,Z.R0)({title:t=>t.messages.sketch.distance}),this.elevation=(0,Z.S3)(),this.area=(0,Z.Am)({readOnly:!0})}get allFields(){return[this.direction,this.distance,this.elevation,this.area]}};(0,i._)([(0,u.MZ)()],b.prototype,"type",void 0),(0,i._)([(0,u.MZ)()],b.prototype,"distance",void 0),(0,i._)([(0,u.MZ)()],b.prototype,"elevation",void 0),(0,i._)([(0,u.MZ)()],b.prototype,"area",void 0),(0,i._)([(0,u.MZ)()],b.prototype,"allFields",null),(0,i._)([(0,u.MZ)()],b.prototype,"helpMessage",void 0),b=(0,i._)([(0,d.$)("esri.views.interactive.tooltip.DrawPolygonTooltipInfo")],b);let k=class extends O.w{constructor(t){super(t),this.type="draw-mesh",this.elevation=(0,Z.S3)()}get allFields(){return[this.elevation]}};(0,i._)([(0,u.MZ)()],k.prototype,"type",void 0),(0,i._)([(0,u.MZ)()],k.prototype,"elevation",void 0),(0,i._)([(0,u.MZ)()],k.prototype,"allFields",null),(0,i._)([(0,u.MZ)()],k.prototype,"helpMessage",void 0),k=(0,i._)([(0,d.$)("esri.views.interactive.tooltip.DrawMeshTooltipInfo")],k);let V=class extends O.w{constructor(t){super(t),this.type="draw-rectangle",this.xSize=a.r7,this.ySize=a.r7,this.area=a.iT}get allFields(){return[]}};(0,i._)([(0,u.MZ)()],V.prototype,"type",void 0),(0,i._)([(0,u.MZ)()],V.prototype,"xSize",void 0),(0,i._)([(0,u.MZ)()],V.prototype,"ySize",void 0),(0,i._)([(0,u.MZ)()],V.prototype,"area",void 0),(0,i._)([(0,u.MZ)()],V.prototype,"allFields",null),V=(0,i._)([(0,d.$)("esri.views.interactive.tooltip.DrawRectangleTooltipInfo")],V);let E=class extends O.w{constructor(t){super(t),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=a.iT}get allFields(){return[]}};(0,i._)([(0,u.MZ)()],E.prototype,"type",void 0),(0,i._)([(0,u.MZ)()],E.prototype,"radius",void 0),(0,i._)([(0,u.MZ)()],E.prototype,"xSize",void 0),(0,i._)([(0,u.MZ)()],E.prototype,"ySize",void 0),(0,i._)([(0,u.MZ)()],E.prototype,"area",void 0),(0,i._)([(0,u.MZ)()],E.prototype,"allFields",null),E=(0,i._)([(0,d.$)("esri.views.interactive.tooltip.DrawCircleTooltipInfo")],E);var G=o(18975),R=o(89646),C=o(71008),z=o(68655),A=o(29772),S=o(49281);class U{constructor(){this.committedVertices=null,this.cursorVertex=null,this.full=null,this.outline=null,this.cursorEdge=null,this.circle=null,this.rectangle=null}}let P=class extends(r.A.EventedMixin(_.g)){constructor(t){super(t),this._graphic=null,this._createOperationGeometry=null,this.defaultZ=0,this.directionOptions=null,this.geometryType=null,this.hasZ=!0,this.geometryToPlace=null,this.mode=null,this.snappingManager=null,this.snapToScene=!1,this.sketchOptions=new w.A}initialize(){this.internalGraphicsLayer=new h.default({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer);const t=this.drawOperation=this.makeDrawOperation(),{sketchOptions:e}=this,o=this.view.type;this.tooltipInfos={point:new I({sketchOptions:e,viewType:o}),polyline:new T({sketchOptions:e,viewType:o}),polygon:new b({sketchOptions:e,viewType:o}),mesh:new k({sketchOptions:e,viewType:o}),rectangle:new V({sketchOptions:e}),circle:new E({sketchOptions:e})},this.tooltip=new G.m({view:this.view}),this._initializeConstraints(),this.addHandles([t.on("vertex-add",(t=>this.onVertexAdd(t))),t.on("vertex-remove",(t=>this.onVertexRemove(t))),t.on("vertex-update",(t=>this.onVertexUpdate(t))),t.on("cursor-update",(t=>this.onCursorUpdate(t))),t.on("cursor-remove",(()=>this._updateGraphic())),t.on("complete",(t=>this.onComplete(t))),(0,c.watch)((()=>this.cursor),(e=>t.cursor=e),c.syncAndInitial),(0,S.fm)((()=>this._updateTooltipInfo())),(0,S.fm)((()=>{t.constraintZ=this._constraintZ}))]),this.finishToolCreation()}destroy(){this.drawOperation=(0,s.pR)(this.drawOperation),this.tooltip=(0,s.pR)(this.tooltip),this._destroyAllVisualizations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,s.pR)(this.internalGraphicsLayer),this._set("view",null)}get _defaultElevation(){const t=(0,p.G9)(this.drawOperation.coordinateHelper.spatialReference);return(0,a.d_)(this.defaultZ*t,"meters")}get _inputModeAvailable(){var t;const{inputEnabled:e,visibleElements:o}=this.sketchOptions.tooltips;return e&&!0===(null===(t=this.activeTooltipInfo)||void 0===t?void 0:t.editableFields.some((t=>!0===o[t.name])))}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}get cursor(){return this._get("cursor")}set cursor(t){this._set("cursor",t)}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),null!=this._graphic&&(this._graphic.symbol=t)}get updating(){var t,e;return null!==(t=null===(e=this.drawOperation)||void 0===e?void 0:e.updating)&&void 0!==t&&t}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){if(!this.destroyed)return"key-down"===t.type&&t.key===M.ac.enterInputMode&&this._inputModeAvailable?(this.tooltip.enterInputMode(),void t.stopPropagation()):void this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo(),0===this.drawOperation.numCommittedVertices&&this._initializeConstraints()}_destroyAllVisualizations(){this.removeHandles(F.outline),this.removeHandles(F.regularVertices),this.removeHandles(F.activeVertex),this.removeHandles(F.activeEdge),this.removeHandles(D)}_createOrUpdateGraphic(t){if(null!=this._graphic)return this.updateGraphicGeometry(t),this._graphic;const e=new n.A({...this.graphicProperties,symbol:this.graphicSymbol});return this._graphic=e,this.updateGraphicGeometry(t),this.internalGraphicsLayer.add(e),this.addHandles(this.initializeGraphic(e)),this.notifyChange("graphic"),this.addHandles((0,l.hA)((()=>{this.internalGraphicsLayer.remove(e),this._graphic===e&&(this._graphic=null)})),D),e}updateGraphicGeometry(t){this._graphic.geometry=t}_getCreateOperationGeometry(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{operationComplete:!1};if(null==this.drawOperation)return;const{coordinateHelper:e,view:o,visualizationCursorVertex:i,lastVertex:n,committedVertices:r,geometryIncludingUncommittedVertices:l,numCommittedVertices:s}=this.drawOperation;if(!(s>0||null!=i))return;const a=t.operationComplete?r:l,c=a.length,p=null!=i?e.pointToArray(i):null,u=o.spatialReference,d="3d"===o.type&&"global"===o.viewingMode,h=new U;h.committedVertices=r,h.cursorVertex=p;const{geometryType:y}=this;switch(y){case"point":case"mesh":h.full=e.arrayToPoint(a[0]);break;case"multipoint":h.full=c>0?(0,f.eq)(a,u):null;break;case"polyline":case"polygon":c>0&&(h.full="polygon"===y?(0,f.N6)([a],u,d,!0):(0,f.LZ)([a],u,d),h.cursorEdge=null!=p&&n&&!(0,v.CI)(i,n)?(0,f.LZ)([[p,e.pointToArray(n)]],u,d):null,h.outline=c>1?h.full:null);break;case"circle":case"rectangle":{var g,_;if(h.committedVertices=h.cursorVertex=null,!c)break;const e=(0,m.ZP)(o,a[0]),i=a[0],n=e.makeMapPoint(i[0]+H*o.resolution,i[1]);"circle"===y?1===c&&t.operationComplete?h.circle=(0,f.zV)([i,n],e,!0):2===c&&(this.forceUniformSize?h.circle=(0,f.zV)(a,e,this.centered):h.rectangle=(0,f.zd)(a,e,this.centered)):1===c&&t.operationComplete?h.rectangle=(0,f.GF)([i,n],e,!0):2===c&&(h.rectangle=this.forceUniformSize?(0,f.GF)(a,e,this.centered):(0,f._T)(a,e,this.centered)),h.full=null!=h.circle?h.circle.geometry:null===(g=h.rectangle)||void 0===g?void 0:g.geometry,h.outline="polygon"===(null===(_=h.full)||void 0===_?void 0:_.type)?h.full:null;break}default:return null}return h}initializeGraphic(t){return(0,l.hA)()}onComplete(t){if(!this.drawOperation)return;this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const t=this._getCreateOperationGeometry({operationComplete:!0});null!=t&&(e=this._createOrUpdateGraphic(t.full))}this._createOperationGeometry=null,this.emit("complete",{graphic:e,...t})}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){const{drawOperation:t}=this;t&&(t.isCompleted||t.cancel())}onOutlineChanged(t){return(0,l.hA)()}onCursorEdgeChanged(t){return(0,l.hA)()}onVertexAdd(t){var e;this._updateGraphic(),this._unlockConstraintsOnVertexAddOrRemove(),this._lockElevationOnVertexAdd(null===(e=t.vertices.at(0))||void 0===e?void 0:e.coordinates),this.emit("vertex-add",t)}onVertexRemove(t){this._updateGraphic(),this._unlockConstraintsOnVertexAddOrRemove(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,null!=t?(null!=t.cursorEdge?this.addHandles(this.onCursorEdgeChanged(t.cursorEdge),F.activeEdge):this.removeHandles(F.activeEdge),null!=t.outline?this.addHandles(this.onOutlineChanged(t.outline),F.outline):this.removeHandles(F.outline),null!=t.committedVertices?this.addHandles(this.onRegularVerticesChanged(t.committedVertices),F.regularVertices):this.removeHandles(F.regularVertices),null!=t.cursorVertex?this.addHandles(this.onActiveVertexChanged(t.cursorVertex),F.activeVertex):this.removeHandles(F.activeVertex),null!=t.full?this._createOrUpdateGraphic(t.full):this.removeHandles(D)):this._destroyAllVisualizations()}get activeTooltipInfo(){var t;const{drawOperation:e,graphic:o,view:i}=this;if(!e)return null;const n=this.tooltipInfos,r=null===o||void 0===o||null===(t=o.geometry)||void 0===t?void 0:t.type;switch(this.geometryType){case"point":return"2d"===i.type&&0===this.defaultZ?null:"point"===r?n.point:null;case"polyline":return"polyline"===r?n.polyline:null;case"polygon":return"polygon"===r?n.polygon:null;case"rectangle":return"polygon"===r?n.rectangle:null;case"circle":return"polygon"===r?n.circle:null;case"mesh":return"mesh"===r?n.mesh:null;default:return null}}_updateTooltipInfo(){const{activeTooltipInfo:t,tooltip:e,sketchOptions:o}=this;switch(null===t||void 0===t?void 0:t.type){case"draw-point":this._updateDrawPointTooltipInfo(t);break;case"draw-polyline":this._updateDrawPolylineTooltipInfo(t);break;case"draw-polygon":this._updateDrawPolygonTooltipInfo(t);break;case"draw-rectangle":this._updateDrawRectangleTooltipInfo(t);break;case"draw-circle":this._updateDrawCircleTooltipInfo(t);break;case"draw-mesh":this.updateDrawMeshTooltipInfo(t)}e.view=this.view,e.info=o.tooltips.effectiveEnabled?t:null}_updateDrawPointTooltipInfo(t){const{drawOperation:e,graphic:o,view:i,sketchOptions:n}=this,{coordinateHelper:r,cursorVertex:l}=e;if(t.sketchOptions=n,t.viewType=i.type,t.helpMessage=(0,g.$)("point",null===o||void 0===o?void 0:o.geometry),this.updateElevation(t.elevation),!l)return void(e.constraintInfo=void 0);const s=(0,x.hj)(l,i,r.spatialReference,this._constraintElevationInfo,r.hasZ(),n.values.effectiveDirectionMode);e.constraintInfo={context:s,distance:null,direction:null,elevation:t.elevation.committed}}_updateDrawPolylineTooltipInfo(t){const e=this._createOperationGeometry,o=null!=e?e.full:null;if("polyline"!==(null===o||void 0===o?void 0:o.type))return;this._updatePolylineOrPolygonCommon(t);const i=(0,z.ob)(o);t.totalLength.actual=null!==i&&void 0!==i?i:a.r7,t.sketchOptions=this.sketchOptions,t.viewType=this.view.type,t.helpMessage=(0,g.$)("polyline",o)}_updateDrawPolygonTooltipInfo(t){const e=this._createOperationGeometry,o=null!=e?e.full:null;if("polygon"!==(null===o||void 0===o?void 0:o.type))return;this._updatePolylineOrPolygonCommon(t);const i=(0,C.n)(o);t.area.actual=null!==i&&void 0!==i?i:a.iT,t.sketchOptions=this.sketchOptions,t.viewType=this.view.type,t.helpMessage=(0,g.$)("polygon",o)}_updatePolylineOrPolygonCommon(t){const{view:e,drawOperation:o,sketchOptions:i}=this,{coordinateHelper:n,cursorVertex:r,lastVertex:l,secondToLastVertex:s}=o,c=i.values.effectiveDirectionMode,p=l&&r?(0,z.Kt)(l,r):null;if(t.distance.actual=null!==p&&void 0!==p?p:a.r7,t.distance.readOnly=null==l,t.direction.actual=null,t.direction.readOnly=!0,l&&r&&("absolute"===c||s)){const e=(0,R.uR)(s,l,r,c);t.direction.actual=null!==e&&void 0!==e?e:a.n0,t.direction.readOnly=!1}this.updateElevation(t.elevation);const u=null!==r&&void 0!==r?r:l;if(u){const i=(0,x.hj)(u,e,n.spatialReference,this._constraintElevationInfo,n.hasZ(),c);o.constraintInfo={context:i,distance:t.distance.committed,direction:t.direction.committed,elevation:t.elevation.committed}}else o.constraintInfo=void 0}updateDrawMeshTooltipInfo(t){}_updateDrawRectangleTooltipInfo(t){var e,o,i;t.sketchOptions=this.sketchOptions,t.xSize=null!==(e=this._xSize)&&void 0!==e?e:a.r7,t.ySize=null!==(o=this._ySize)&&void 0!==o?o:a.r7,t.area=null!==(i=this._fullGeometryArea)&&void 0!==i?i:a.iT}_updateDrawCircleTooltipInfo(t){var e,o,i,n;const{forceUniformSize:r}=this;t.sketchOptions=this.sketchOptions,t.radius=r?null!==(e=this._circleRadius)&&void 0!==e?e:a.r7:null,t.xSize=r?null:null!==(o=this._xSize)&&void 0!==o?o:a.r7,t.ySize=r?null:null!==(i=this._ySize)&&void 0!==i?i:a.r7,t.area=null!==(n=this._fullGeometryArea)&&void 0!==n?n:a.iT}get _circleRadius(){var t;const e=this._createOperationGeometry;return null!=(null===e||void 0===e||null===(t=e.circle)||void 0===t?void 0:t.center)&&null!=e.circle.edge?(0,z.Kt)(e.circle.center,e.circle.edge):null}get _xSize(){var t;const e=null===(t=this._createOperationGeometry)||void 0===t||null===(t=t.rectangle)||void 0===t?void 0:t.midpoints;return null!=e?(0,z.Kt)(e.left,e.right):null}get _ySize(){var t;const e=null===(t=this._createOperationGeometry)||void 0===t||null===(t=t.rectangle)||void 0===t?void 0:t.midpoints;return null!=e?(0,z.Kt)(e.top,e.bottom):null}get _fullGeometryArea(){var t;const e=null===(t=this._createOperationGeometry)||void 0===t?void 0:t.full;return"polygon"!==(null===e||void 0===e?void 0:e.type)?null:(0,C.n)(e)}updateElevation(t){var e,o;const{drawOperation:i}=this,n=null!==(e=null===i||void 0===i?void 0:i.cursorVertex)&&void 0!==e?e:null===i||void 0===i?void 0:i.lastVertex;t.actual=null!==(o=(0,A.Of)(n))&&void 0!==o?o:this._defaultElevation,t.visible="3d"===this.view.type&&this.hasZ,t.readOnly=!1}get _constraintElevationInfo(){var t,e;return null!==(t=null===(e=this.drawOperation)||void 0===e?void 0:e.elevationInfo)&&void 0!==t?t:y.qt}get _constraintZ(){const{geometryType:t}=this;switch(t){case"point":case"mesh":case"polyline":case"polygon":{const e=this.tooltipInfos[t].elevation.committed;if(!e)return;const o=this.drawOperation.coordinateHelper.spatialReference;return(0,a.l3)(e,"meters")/(0,p.G9)(o)}default:return}}_initializeConstraints(){const{directionOptions:t,drawOperation:e,geometryType:o,tooltipInfos:i,sketchOptions:n}=this,r=t=>{var o;const n=null===(o=e.elevationInfo)||void 0===o?void 0:o.mode,r=i[t].elevation;"relative-to-ground"===n||"relative-to-scene"===n||"on-the-ground"===n?r.lock(this._defaultElevation):r.unlock()};switch(o){case"polygon":case"polyline":r(o),(e=>{if(t){const o=i[e].direction;o.committed=t.angle,o.unlockOnVertexPlacement=!1,n.values.directionMode=t.mode}})(o);break;case"point":case"mesh":r(o)}}_lockElevationOnVertexAdd(t){const{activeTooltipInfo:e,drawOperation:o,view:i}=this,n=this._constraintElevationInfo;if("2d"===i.type||!t||"absolute-height"!==n.mode||1!==(null===o||void 0===o?void 0:o.numCommittedVertices)||!e||"draw-polyline"!==e.type&&"draw-polygon"!==e.type||e.elevation.locked)return;const[r,l,s]=t,a=this._getConvertedVertexElevation(r,l,s,n);null!=a&&e.elevation.lock(a)}_unlockConstraintsOnVertexAddOrRemove(){var t;null===(t=this.activeTooltipInfo)||void 0===t||t.allFields.forEach((t=>{t.unlockOnVertexPlacement&&t.unlock()}))}_getConvertedVertexElevation(t,e,o,i){var n,r;const{view:l,drawOperation:s}=this;if("3d"!==l.type||!s)return;const{spatialReference:a}=s.coordinateHelper;null!==(n=o)&&void 0!==n||(o=0);const c=s.elevationInfo,p=(0,y.Fo)(l,t,e,o,a,c,i);return null!==(r=(0,A.Qc)(p,a))&&void 0!==r?r:this._defaultElevation}};(0,i._)([(0,u.MZ)()],P.prototype,"_createOperationGeometry",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"_defaultElevation",null),(0,i._)([(0,u.MZ)()],P.prototype,"_inputModeAvailable",null),(0,i._)([(0,u.MZ)({value:!0})],P.prototype,"centered",null),(0,i._)([(0,u.MZ)()],P.prototype,"cursor",null),(0,i._)([(0,u.MZ)({nonNullable:!0})],P.prototype,"defaultZ",void 0),(0,i._)([(0,u.MZ)({constructOnly:!0})],P.prototype,"directionOptions",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"drawOperation",void 0),(0,i._)([(0,u.MZ)({value:!0})],P.prototype,"enabled",null),(0,i._)([(0,u.MZ)({value:!0})],P.prototype,"forceUniformSize",null),(0,i._)([(0,u.MZ)({constructOnly:!0})],P.prototype,"geometryType",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"graphic",null),(0,i._)([(0,u.MZ)({constructOnly:!0})],P.prototype,"graphicProperties",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"graphicSymbol",null),(0,i._)([(0,u.MZ)({constructOnly:!0})],P.prototype,"hasZ",void 0),(0,i._)([(0,u.MZ)({constructOnly:!0})],P.prototype,"geometryToPlace",void 0),(0,i._)([(0,u.MZ)({constructOnly:!0})],P.prototype,"mode",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"snappingManager",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"snapToScene",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"tooltip",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"tooltipInfos",void 0),(0,i._)([(0,u.MZ)({constructOnly:!0,type:w.A})],P.prototype,"sketchOptions",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],P.prototype,"updating",null),(0,i._)([(0,u.MZ)({constructOnly:!0,nonNullable:!0})],P.prototype,"view",void 0),(0,i._)([(0,u.MZ)()],P.prototype,"activeTooltipInfo",null),(0,i._)([(0,u.MZ)()],P.prototype,"_circleRadius",null),(0,i._)([(0,u.MZ)()],P.prototype,"_xSize",null),(0,i._)([(0,u.MZ)()],P.prototype,"_ySize",null),(0,i._)([(0,u.MZ)()],P.prototype,"_fullGeometryArea",null),(0,i._)([(0,u.MZ)()],P.prototype,"_constraintElevationInfo",null),(0,i._)([(0,u.MZ)()],P.prototype,"_constraintZ",null),P=(0,i._)([(0,d.$)("esri.views.draw.DrawGraphicTool")],P);const D=Symbol("create-operation-graphic"),F={outline:Symbol("outline-visual"),regularVertices:Symbol("regular-vertices-visual"),activeVertex:Symbol("active-vertex-visual"),activeEdge:Symbol("active-edge-visual")};function L(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment";case"mesh":return"point"}}const H=48},14185:(t,e,o)=>{o.d(e,{GF:()=>w,LZ:()=>_,N6:()=>M,_T:()=>x,eq:()=>m,zV:()=>k,zd:()=>V});o(35238);var i=o(18690),n=o(53084),r=o(31633),l=o(20664),s=o(9392),a=o(70961),c=o(63391),p=o(5262),u=o(80963),d=o(42151),h=o(13904),v=o(66388),y=o(23701),f=o(65215);function g(t,e){const o=new h.A({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(o.z=t[2]),o}function m(t,e){return new v.A({points:t,spatialReference:e})}function _(t,e,o){const i=new y.A({paths:t,spatialReference:e});return o&&(0,p._7)(i),i}function M(t,e,o){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const l=(0,n.o8)(t);l.forEach((t=>{const e=t[0],o=t[t.length-1];(0,i.aI)(e,o)&&1!==t.length||t.push(t[0])}));let s=new f.A({rings:l,spatialReference:e});return s.rings.forEach((t=>{(0,p.$3)(t)||t.reverse()})),o&&(0,p._7)(s),r&&s.isSelfIntersecting&&(0,u.fn)(e)&&(s=(0,c.simplify)(s)),s}function w(t,e,o){const n=e.mapToLocalMultiple(t),r=[],l={x:n[0].x,y:n[0].y},s=n[1].x,a=n[1].y,c=Math.round(s-l.x),p=Math.round(a-l.y),u=Math.max(Math.abs(c),Math.abs(p));if(o){const t={x:l.x+u,y:l.y+u},e={x:l.x-u,y:l.y-u};r.push((0,d.E5)(t.x,e.y),(0,d.E5)(e.x,e.y),(0,d.E5)(e.x,t.y),(0,d.E5)(t.x,t.y))}else{const t={x:c>0?l.x+u:l.x-u,y:p>0?l.y+u:l.y-u};r.push((0,d.E5)(l.x,l.y),(0,d.E5)(t.x,l.y),(0,d.E5)(t.x,t.y),(0,d.E5)(l.x,t.y))}return O(M([r.map((t=>e.localToMap(t))).filter(i.Ru)],e.spatialReference,e.doUnnormalization,!0),r,e)}function x(t,e,o){let n=e.mapToLocalMultiple(t);if(1===n.length){const t=48,e=n[0];n=[(0,d.E5)(e.x-t,e.y+t),(0,d.E5)(e.x+t,e.y-t),(0,d.E5)(e.x+t,e.y-t),(0,d.E5)(e.x-t,e.y+t)]}const r=[],l={x:n[0].x,y:n[0].y},s={x:n[1].x,y:n[1].y};if(o){const t=Math.round(s.x-l.x),e=Math.round(s.y-l.y);r.push((0,d.E5)(l.x-t,l.y-e),(0,d.E5)(s.x,l.y-e),(0,d.E5)(s.x,s.y),(0,d.E5)(l.x-t,s.y))}else r.push((0,d.E5)(l.x,l.y),(0,d.E5)(s.x,l.y),(0,d.E5)(s.x,s.y),(0,d.E5)(l.x,s.y));return O(M([r.map((t=>e.localToMap(t))).filter(i.Ru)],e.spatialReference,e.doUnnormalization,!0),r,e)}function O(t,e,o){const i=Z(e[3],e[2],o),n=Z(e[1],e[2],o),r=Z(e[0],e[1],o),l=Z(e[0],e[3],o);return{geometry:t,midpoints:null!=i&&null!=n&&null!=r&&null!=l?{top:i,right:n,bottom:r,left:l}:null}}function Z(t,e,o){T[0]=t.x,T[1]=t.y,T[2]=0,b[0]=e.x,b[1]=e.y,b[2]=0,(0,l.m)(T,T,b,.5),I.x=T[0],I.y=b[1],I.z=b[2];const i=o.localToMap(I);return null!=i?g(i,o.spatialReference):null}const I=(0,d.E5)(0,0,0),T=(0,s.vt)(),b=(0,s.vt)();function k(t,e,o,i){const n=e.mapToLocalMultiple(t);let l=null,s=null;if(o)l=n[0],s=n[1];else{const t=n[0],e=n[1],o=Math.round(e.x-t.x),i=Math.round(e.y-t.y),r=Math.max(Math.abs(o),Math.abs(i));l=(0,d.E5)(o>0?t.x+r/2:t.x-r/2,i>0?t.y+r/2:t.y-r/2),s=(0,d.E5)(Math.abs(o)>Math.abs(i)?l.x-r/2:l.x,Math.abs(o)>Math.abs(i)?l.y:l.y-r/2)}const h=e.localToMap(l),v=e.localToMap(s);if(null==h||null==v)return null;e.doUnnormalization&&(0,p.JM)([[h,v]],e.spatialReference);const y=g(h,e.spatialReference),f=g(v,e.spatialReference),m=(0,r.GA)(e.spatialReference);let _=0;if((0,u.fn)(e.spatialReference))_=m*(0,c.distance)(y,f,null);else{const t=l.x-s.x,e=l.y-s.y;_=m*Math.sqrt(t*t+e*e)*(i||1)}const w=new a.A({center:y,radius:_,radiusUnit:"meters",spatialReference:e.spatialReference});return{geometry:M(w.rings,w.spatialReference,!1),center:y,edge:f}}function V(t,e,o){const n=e.mapToLocalMultiple(t),r=n[0],l=n[1],s=Math.round(l.x-r.x),a=Math.round(l.y-r.y),c=(0,d.E5)(o?r.x:r.x+s/2,o?r.y:r.y+a/2),p=o?s:s/2,u=o?a:a/2,h=[],v=2*Math.PI/60;function y(t){const e=Math.cos(t),o=Math.sin(t);return(0,d.E5)(p*e+c.x,u*o+c.y)}for(let i=0;i<60;i++)h.push(y(i*v));h.push(h[0]);const{spatialReference:f,doUnnormalization:m}=e,_=M([h.map((t=>e.localToMap(t))).filter(i.Ru)],f,m,!1),w=e.localToMap(y(Math.PI/2)),x=e.localToMap(y(0)),O=e.localToMap(y(-Math.PI/2)),Z=e.localToMap(y(Math.PI));return{geometry:_,midpoints:null!=w&&null!=x&&null!=O&&null!=Z?{top:g(w,f),right:g(x,f),bottom:g(O,f),left:g(Z,f)}:null}}},94277:(t,e,o)=>{function i(t,e){switch(t){case"point":case"multipoint":return"point";case"polyline":return function(t){return(null!=t&&"polyline"===t.type&&t.paths.length?t.paths[0].length:0)<2?"polylineZeroVertices":"polylineOneVertex"}(e);case"polygon":return function(t){const e=null!=t&&"polygon"===t.type&&t.rings.length?t.rings[0].length:0;return e<3?"polylineZeroVertices":e<4?"polygonOneVertex":"polygonTwoVertices"}(e);default:return}}o.d(e,{$:()=>i})},30120:(t,e,o)=>{o.d(e,{Bb:()=>d,G3:()=>y,fJ:()=>h});var i=o(19555),n=o(20664),r=o(9392),l=o(79650),s=o(75762),a=o(87823),c=o(14721),p=o(51230),u=o(86210);function d(t,e){return v(t,e,!1)}function h(t,e){return v(t,e,!0)}function v(t,e,o){if(t instanceof u.D){if(t.operation instanceof a.a)return function(t,e){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=o?-1:1,s=(0,r.fA)(i*t.dx,i*t.dy,i*t.dz);(0,n.g)(e.origin,e.origin,s),(0,l.u)(e)}(t.operation,e,o),!0;if(t.operation instanceof c.m)return function(t,e){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=o?-t.angle:t.angle;(0,n.K)(e.basis1,e.basis1,r.uY,i),(0,n.K)(e.basis2,e.basis2,r.uY,i),(0,l.u)(e)}(t.operation,e,o),!0;if(t.operation instanceof p.j)return function(t,e){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=o?1/t.factor1:t.factor1,s=o?1/t.factor2:t.factor2;(0,n.h)(e.basis1,e.basis1,r),(0,n.h)(e.basis2,e.basis2,s),(0,i.Vj)(e.origin,e.origin,t.origin,t.axis1,r),(0,i.Vj)(e.origin,e.origin,t.origin,t.axis2,s),(0,l.u)(e)}(t.operation,e,o),!0}return!1}function y(t,e,o,n){n||(n=(0,l.a)());const r=(0,i.hZ)(s.oG.get(),t[1],-t[0]),a=(0,i.hZ)(s.oG.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),c=(0,i.hZ)(s.oG.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),p=s.oG.get();e.components.forEach((e=>e.vertices.forEach((e=>{let{pos:o}=e;(0,i.hZ)(p,(0,i.Om)(t,o),(0,i.Om)(r,o)),(0,i.jk)(a,a,p),(0,i.T9)(c,c,p)}))));const u=1e-6,d=(0,i.hZ)(s.oG.get(),c[0]-a[0]<u?o/2:0,c[1]-a[1]<u?o/2:0);return(0,i.Re)(a,a,d),(0,i.WQ)(c,c,d),(0,i.hs)(n.basis1,t,(c[0]-a[0])/2),(0,i.hs)(n.basis2,r,(c[1]-a[1])/2),(0,i.hZ)(n.origin,a[0]*t[0]+a[1]*r[0],a[0]*t[1]+a[1]*r[1]),(0,i.WQ)(n.origin,n.origin,n.basis1),(0,i.WQ)(n.origin,n.origin,n.basis2),(0,l.u)(n),n}},86855:(t,e,o)=>{o.d(e,{Am:()=>f,Gk:()=>h,S3:()=>y,R0:()=>v});var i=o(24648),n=o(31633),r=o(35143),l=o(91967),s=o(49723),a=o(46053),c=(o(81806),o(76460),o(47249),o(85842));let p=class extends l.A{constructor(t){super(t),this.actual=null,this.committed=null,this.id=(0,s.lk)(),this.inputValue=null,this.readOnly=!1,this.unlockOnVertexPlacement=!0,this.visible=!0}get dirty(){return null!=this.inputValue}get locked(){return null!=this.committed}lock(t){this.inputValue=null,this.committed=null!==t&&void 0!==t?t:this.actual}unlock(){this.committed=null,this.inputValue=null}};(0,r._)([(0,a.MZ)()],p.prototype,"actual",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"committed",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"createQuantity",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"dirty",null),(0,r._)([(0,a.MZ)()],p.prototype,"format",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"id",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"inputValue",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"locked",null),(0,r._)([(0,a.MZ)()],p.prototype,"name",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"readOnly",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"suffix",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"title",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"toInputUnits",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"unlockOnVertexPlacement",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"visible",void 0),p=(0,r._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipField")],p);let u=class extends p{constructor(t){super(t),this.mode="absolute-height"}normalizeCtorArgs(t){const e=t=>t.inputUnitInfos.verticalLength.unit;return{name:"elevation",actual:i.r7,createQuantity:(t,o)=>(0,i.d_)(t,e(o)),toInputUnits:(t,o)=>(0,i.kM)(t,e(o)),format:(t,e)=>e.formatters.verticalLength(t),suffix:t=>t.inputUnitInfos.verticalLength.abbreviation,title:t=>t.messages.sketch.elevation,unlockOnVertexPlacement:!1,...t}}};(0,r._)([(0,a.MZ)()],u.prototype,"mode",void 0),u=(0,r._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],u);var d=o(89646);const h=t=>{const e=t=>t.inputUnitInfos.direction.unit;return new p({name:"direction",actual:i.IV,createQuantity:(t,o)=>(0,i.Wq)(t,e(o),"geographic"),toInputUnits:(t,o)=>{let{value:r,unit:l,rotationType:s}=t;const a=(0,d.jQ)((0,i.Wq)(r,l,s),o.sketchOptions.values.effectiveDirectionMode),c=e(o),p=(0,n.oU)(a.value,"degrees",c);return(0,i.Wq)(p,c,"geographic")},format:(t,e)=>{let{formatters:o,sketchOptions:i}=e;const n=i.values.effectiveDirectionMode,r=(0,d.jQ)(t,n);switch(n){case d.rZ.Absolute:return o.direction(r);case d.rZ.Relative:return o.directionRelative(r);case d.rZ.RelativeBilateral:return o.directionRelativeBilateral(r)}},suffix:t=>t.inputUnitInfos.direction.abbreviation,title:t=>{let{messages:e,sketchOptions:o}=t;switch(o.values.effectiveDirectionMode){case d.rZ.Absolute:return e.sketch.direction.absolute;case d.rZ.Relative:case d.rZ.RelativeBilateral:return e.sketch.direction.relative}},...t})},v=t=>{const e=t=>t.inputUnitInfos.length.unit;return new p({name:"distance",actual:i.r7,createQuantity:(t,o)=>{const n=Math.max(t,0);return(0,i.d_)(n,e(o))},toInputUnits:(t,o)=>(0,i.kM)(t,e(o)),format:(t,e)=>e.formatters.length(t),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.distance,...t})},y=t=>new u(t),f=t=>{const e=t=>t.inputUnitInfos.area.unit;return new p({name:"area",actual:i.iT,createQuantity:(t,o)=>(0,i.gT)(t,e(o)),toInputUnits:(t,o)=>(0,i.kM)(t,e(o)),format:(t,e)=>e.formatters.area(t),suffix:t=>t.inputUnitInfos.area.abbreviation,title:t=>t.messages.sketch.area,...t})}},71008:(t,e,o)=>{o.d(e,{n:()=>g});var i=o(78009),n=(o(35238),o(24648)),r=o(63391),l=o(20664),s=o(9392),a=o(482);const c=(0,s.vt)();var p=o(7137),u=o(90659),d=o(13312);function h(t){const{spatialReference:e}=t;return(0,u.M)(e,v,y,f,t)}function v(t){return(0,n.gT)(Math.abs((0,p.qy)([t],"square-meters")[0]),"square-meters")}function y(t){try{return(0,n.gT)(Math.abs((0,r.geodesicArea)(t,"square-meters")),"square-meters")}catch(e){return null}}function f(t){const e=[];return function(t,e){let{hasZ:o,spatialReference:i,rings:n}=t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=(0,a.Yz)(i);if(null==s)return!1;const p=o?t=>t:t=>(0,l.s)(c,t[0],t[1],r);for(const l of n){const t=[];for(const e of l){const o=[0,0,r];s(p(e),0,o,0),t.push(o)}e.push(t)}return!0}(t,e)?(0,n.gT)(Math.abs((0,p.qy)([{type:"polygon",rings:e,spatialReference:d.A.WGS84}],"square-meters")[0]),"square-meters"):null}function g(t){return function(t,e){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.u0)();if("on-the-ground"===e){const e=h(t);return null!=e?e:(0,i.qh)(t,o)}return(0,i.EI)(t,o)}(t,"on-the-ground",arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.u0)())}},78009:(t,e,o)=>{o.d(e,{EI:()=>d,lO:()=>m,qh:()=>h,u0:()=>g});var i=o(24648),n=o(31633),r=o(38983),l=o(20664),s=o(9392),a=o(14487),c=o(13927),p=o(45097),u=o(41868);function d(t){return v(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]})}function h(t){return v(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]},!1)}function v(t,e){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.hasZ;const r=(0,u.l)(t.spatialReference),d=(0,n.B5)(r);if(null==d)return null;const h=(t,e)=>!(e.length<2)&&((0,l.s)(t,e[0],e[1],o&&e[2]||0),!0);let v=0;for(const i of t.rings){const o=i.length;if(o<3)continue;const{positionsWorldCoords:n}=e;for(;n.length<o;)n.push((0,s.vt)());const u=y,d=(0,l.s)(f,0,0,0),g=1/o;for(let e=0;e<o;e++){if(!h(u,i[e]))return null;if(!(0,a.F)(u,t.spatialReference,n[e],r))return null;(0,l.r)(d,d,n[e],g)}const _=(0,c.Cr)(n[0],n[1],d,(0,c.LV)());if(0===(0,l.p)((0,c.Qj)(_)))continue;for(let t=0;t<o;t++)(0,c.Z1)(_,d,n[t],n[t]);const M=m(n);for(let t=0;t<M.length;t+=3)v+=(0,p.Fm)(n[M[t]],n[M[t+1]],n[M[t+2]])}return(0,i.gT)(v,d)}const y=(0,s.vt)(),f=(0,s.vt)();function g(){return{positionsWorldCoords:[]}}function m(t){return(0,r.e)(function(t){const e=new Float64Array(2*t.length);for(let o=0;o<t.length;++o){const i=t[o],n=2*o;e[n]=i[0],e[n+1]=i[1]}return e}(t),[],2)}}}]);
//# sourceMappingURL=53078.cd0df34d.chunk.js.map