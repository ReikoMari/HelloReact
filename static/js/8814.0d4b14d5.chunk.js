"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[8814],{71334:(t,e,i)=>{i.d(e,{C:()=>d});var o=i(3825),r=i(40565),n=i(19902),a=i(54994),s=i(71838),l=i(70414);const c=(0,r.dp)(l.A);async function d(t,e,i){e=c(e);const r=(0,a.Dl)(t),l={...r.query,f:"json",...e.toJSON()},d=e.outSpatialReference,u=(0,n.$B)(e.geometries[0]),p=(0,a.jV)(l,i);return(0,o.A)(r.path+"/project",p).then((t=>{let{data:{geometries:e}}=t;return(0,s.V)(e,u,d)}))}},70414:(t,e,i)=>{i.d(e,{A:()=>d});var o=i(35143),r=i(42553),n=i(46053),a=(i(81806),i(76460),i(47249),i(85842)),s=i(19902),l=i(80963);let c=class extends r.oY{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map((t=>t.toJSON())),e=this.geometries[0],i={};return i.outSR=(0,l.YX)(this.outSpatialReference),i.inSR=(0,l.YX)(e.spatialReference),i.geometries=JSON.stringify({geometryType:(0,s.$B)(e),geometries:t}),this.transformation&&(i.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(i.transformForward=this.transformForward),i}};(0,o._)([(0,n.MZ)()],c.prototype,"geometries",void 0),(0,o._)([(0,n.MZ)({json:{read:{source:"outSR"}}})],c.prototype,"outSpatialReference",void 0),(0,o._)([(0,n.MZ)()],c.prototype,"transformation",void 0),(0,o._)([(0,n.MZ)()],c.prototype,"transformForward",void 0),c=(0,o._)([(0,a.$)("esri.rest.support.ProjectParameters")],c);const d=c},8814:(t,e,i)=>{i.r(e),i.d(e,{default:()=>M});var o=i(35143),r=i(46053),n=(i(81806),i(76460),i(47249),i(85842)),a=i(25329),s=i(77666),l=i(98108),c=i(15062),d=(i(76099),i(63582)),u=i(12254),p=i(54761),h=i(50346),g=i(51287);let v=class extends g.A{constructor(t){super(t),this._watchId=void 0,this._trackStartingTimeoutId=void 0,this._settingPosition=null,this._trackController=null,this.error=void 0,this.positionFilterFunction=null}destroy(){this._stopTracking()}get state(){return this._geolocationUsable?this.view&&!this.view.ready?"disabled":this._settingPosition||void 0!==this._trackStartingTimeoutId?"waiting":this.tracking?"tracking":null!=this.error?"error":"ready":"feature-unsupported"}get tracking(){return void 0!==this._watchId}start(){"disabled"!==this.state&&"feature-unsupported"!==this.state&&this._startTracking()}stop(){"disabled"!==this.state&&"feature-unsupported"!==this.state&&this._stopTracking()}_stopWatchingPosition(){void 0!==this._watchId&&(navigator.geolocation.clearWatch(this._watchId),this._watchId=void 0)}_stopTracking(){this._abortTrack(),this._clearWaitingTimer(),this._stopWatchingPosition(),this._clearGraphic()}_startTracking(){var t;this._stopTracking();const e=(0,h.sg)((async t=>{this._abortTrack();const e=new AbortController;this._trackController=e;const{timestamp:i,coords:o}=t,r={timestamp:i,coords:{...o}};this.error=void 0;try{if("function"==typeof this.positionFilterFunction&&!this.positionFilterFunction.call(null,{position:r}))return;if(await this.updatePosition(t,e),this._trackController!==e)return;this._clearWaitingTimer(),this._addGraphic(),this.emit("track",{position:t}),this._trackController=null}catch(n){if((0,h.zf)(n))return;throw this._trackController=null,this._emitError(n),this._clearWaitingTimer(),n}}),0);this._watchId=navigator.geolocation.watchPosition((t=>{this._settingPosition=e(t).catch(h.QZ)}),this._handleWatchPositionError.bind(this),null!==(t=this.geolocationOptions)&&void 0!==t?t:void 0),this._trackStartingTimeoutId=setTimeout((()=>{this._trackStartingTimeoutId=void 0}),15e3)}_handleWatchPositionError(t){t.code===t.PERMISSION_DENIED&&this._stopTracking(),this._emitError(t)}_abortTrack(){var t;null!==(t=this._trackController)&&void 0!==t&&t.abort(),this._trackController=null}_clearWaitingTimer(){clearTimeout(this._trackStartingTimeoutId),this._trackStartingTimeoutId=void 0,this._settingPosition=null}_emitError(t){this.error=t,this.emit("track-error",{error:t})}};(0,o._)([(0,r.MZ)()],v.prototype,"_watchId",void 0),(0,o._)([(0,r.MZ)()],v.prototype,"_trackStartingTimeoutId",void 0),(0,o._)([(0,r.MZ)()],v.prototype,"_settingPosition",void 0),(0,o._)([(0,r.MZ)()],v.prototype,"error",void 0),(0,o._)([(0,r.MZ)()],v.prototype,"positionFilterFunction",void 0),(0,o._)([(0,r.MZ)({readOnly:!0})],v.prototype,"state",null),(0,o._)([(0,r.MZ)({readOnly:!0})],v.prototype,"tracking",null),(0,o._)([(0,r.MZ)()],v.prototype,"start",null),(0,o._)([(0,r.MZ)()],v.prototype,"stop",null),v=(0,o._)([(0,n.$)("esri.widgets.Track.TrackViewModel")],v);const m=v,y={base:"esri-track",widgetIcon:c.T.tracking};let w=class extends a.A{constructor(t,e){super(t,e),this.iconClass=y.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new m,this._toggleTracking=()=>{const t=this.viewModel;t&&"feature-unsupported"!==t.state&&"disabled"!==t.state&&("tracking"!==t.state&&"waiting"!==t.state?this.viewModel.start():this.viewModel.stop())}}loadDependencies(){return(0,s.W)({button:()=>Promise.all([i.e(39879),i.e(62785),i.e(95203),i.e(75151),i.e(11309)]).then(i.bind(i,11309)),tooltip:()=>Promise.all([i.e(39879),i.e(48347),i.e(73786)]).then(i.bind(i,73786))})}get geolocationOptions(){return this.viewModel.geolocationOptions}set geolocationOptions(t){this.viewModel.geolocationOptions=t}get goToLocationEnabled(){return this.viewModel.goToLocationEnabled}set goToLocationEnabled(t){this.viewModel.goToLocationEnabled=t}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get label(){var t,e;return null!==(t=null===(e=this.messages)||void 0===e?void 0:e.widgetLabel)&&void 0!==t?t:""}set label(t){this._overrideIfSome("label",t)}get rotationEnabled(){return this.viewModel.rotationEnabled}set rotationEnabled(t){this.viewModel.rotationEnabled=t}get scale(){return this.viewModel.scale}set scale(t){this.viewModel.scale=t}get tracking(){return this.viewModel.tracking}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}start(){this.viewModel.start()}stop(){this.viewModel.stop()}render(){var t,e,i;const{viewModel:o,messages:r,icon:n,iconClass:a}=this,s=null===o||void 0===o?void 0:o.state,c="tracking"===s,d=this._localizeError(null===(t=this.viewModel)||void 0===t?void 0:t.error),u=null!==(e=c?null===r||void 0===r?void 0:r.stopTracking:null===r||void 0===r?void 0:r.startTracking)&&void 0!==e?e:"",h="feature-unsupported"===s,g=null!==(i="tracking"===s?"pause":void 0)&&void 0!==i?i:n,v=a===y.widgetIcon?void 0:a,m=void 0===v?"compass-north-circle":void 0,w=null==n&&v;return(0,p.K)("div",{class:this.classes(y.base,l.D.widget)},!h&&(0,p.K)("calcite-button",{class:l.D.widgetButton,disabled:"disabled"===s,iconStart:null!==g&&void 0!==g?g:m,kind:"neutral",label:u,loading:"waiting"===s,onclick:this._toggleTracking,scale:w?"s":"m",title:u},w?this._renderLegacyIcon(v):null),d?(0,p.K)("calcite-tooltip",{open:!0,overlayPositioning:"fixed",referenceElement:this.container},d):null)}_renderLegacyIcon(t){return(0,p.K)("span",{"aria-hidden":"true",class:t,styles:{display:"flex"}})}_localizeError(t){var e,i,o;return t instanceof GeolocationPositionError?t.code===GeolocationPositionError.PERMISSION_DENIED?null===(e=this.messages)||void 0===e?void 0:e.permissionError:t.code===GeolocationPositionError.TIMEOUT?null===(i=this.messages)||void 0===i?void 0:i.timeoutError:null===(o=this.messages)||void 0===o?void 0:o.positionUnavailable:t instanceof Error?t.message:void 0}};(0,o._)([(0,r.MZ)()],w.prototype,"geolocationOptions",null),(0,o._)([(0,r.MZ)()],w.prototype,"goToLocationEnabled",null),(0,o._)([(0,r.MZ)()],w.prototype,"goToOverride",null),(0,o._)([(0,r.MZ)()],w.prototype,"graphic",null),(0,o._)([(0,r.MZ)()],w.prototype,"iconClass",void 0),(0,o._)([(0,r.MZ)()],w.prototype,"icon",void 0),(0,o._)([(0,r.MZ)()],w.prototype,"label",null),(0,o._)([(0,r.MZ)(),(0,d.G)("esri/widgets/Track/t9n/Track")],w.prototype,"messages",void 0),(0,o._)([(0,r.MZ)()],w.prototype,"rotationEnabled",null),(0,o._)([(0,r.MZ)()],w.prototype,"scale",null),(0,o._)([(0,r.MZ)({readOnly:!0})],w.prototype,"tracking",null),(0,o._)([(0,r.MZ)()],w.prototype,"view",null),(0,o._)([(0,r.MZ)({type:m}),(0,u.U)(["track","track-error"])],w.prototype,"viewModel",void 0),w=(0,o._)([(0,n.$)("esri.widgets.Track")],w);const M=w},51287:(t,e,i)=>{i.d(e,{A:()=>w});var o=i(35143),r=i(39356),n=i(91967),a=i(50076),s=i(54099),l=i(50346),c=i(68134),d=i(46053),u=(i(81806),i(76460),i(47249),i(85842)),p=i(89465),h=i(99403),g=i(79535);const v={type:"CIMPictureMarker",primitiveName:"headingOverride",enable:!0,anchorPoint:{x:0,y:-.5},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:36,billboardMode3D:"FaceNearPlane",invertBackfaceTexture:!0,scaleX:1,textureFilter:"Picture",url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYaSURBVHgBvVfNb1VFFD/nzP16xRYJKYREEiJoDLLShQkrSNzoHv8I2QgxwY8FJWHhxoVxISEu2AordWNiQjAxEBeEsKAmhCCwkPDRAn1t33v33jnH37n3Fam0pa8kTjOde+/MnN/5+J0z85jW08yYTpxgfzx0bS+fO0R0YHqyeb9w7YEtLTv+9rSdOH7ciNleJJJX/Do1JQ3AltdlT35fiN6gG8kD8akdmzO+6w/zM7wdw725rUY78DBXtmATA6PZntFgm9Kjm6o/HFJpdi5Xhp+16sDBC+H+gUmZfjIXHKC+35U42ZHZfpe30BZS7okNFnhu8wTRk2ek5LEV2q+N8nEj6yuNVRjHddftrt4ahyJbOxF+Uppi/Rf47NlA05Pp9vkyRNkkD8sqUJHwOGfSpYFQFXhTJryQBaZSeAxbFus+U1K0gJm2oy3QKwuZzqeuSK5kpW6BEsE6+nCsAHDXQWuaOljzU8uP/ToxUW4KcwKg8QzOSdFL6Swm0hurAC7N2qIW7ncwNgYKF4la3/w7RnzrUK29KseXWqmTKXGl45Zrd9CLrsSjr96fcw4kS46mTsJznSTrVBR6VQJQdDbpZTWexxgCYCFz30cquD8oYVQgtUAUzfo8wGtqGoNRFmFZ1KKulJMQu3Vpm/I8Pup3ekvES57GaabXo4lsszEA6zrkhcmAAkBNshi59O9wVsokBLZUCQAxllXVBkyCDRQuTlLLiLSEqw3gfUqU0kVdsKymsnzyPLm8fXZxDxVZgvUhg9QyaKDI7AhpSlRVEaA83JM+/V8pGO0PMTHyZwra9FQVk4i1e0D6dPK9v5agkmXAhc0Bw5MjlAQQE0lSDbUmbBX4kGfsiiQWuSZtdle1S4F73cUKJgviyw4mmmqlVSoR/FAK2d1noWQZ8N79MySw0tgNzhN00jRFaPM6y3IyLWBxXuOdvMfhaIy1MQctmvnEMGrMq2Y/ekC3dHF14I84gmZP2s0pgiJFHVwYhIIrMC1zgT4fQgsS0CG48LWtslAsgeKZK5U1c5Slj+nEvvJZqOWubr5ks8iE3bVqCMQCz4p5aiUqpMrOdHz2qLFTxAMSPLwY8WpmntNwrXIMCWvESGH+7n9hVi6ZJ6/sR5gnycFFQgsCQEEB8T9TbsCGy4PrZrEBjGyIt4EApoGRXWKP6Mt3fnvOvhWBjR4gdjtJEDmGQQkBSCS6Teys5qECABTPWOBwcPWgAPIU+E2+Rq3J8lsrQawMHNPbqAXvRqasWcMB/mK42N3twM6/FsbJTZK2Fru15K7niPVIp6RHn++9vRKErAg8ta+MFq4LBxAJKY1EajpxLj5KUzFzOMTni4btxoUzXPzIIOwLnEPxGVqlyWoTdO/WNRUXJhDmAgNAJVd0eABj8FTCvLbpEnxdOycJlFNXVq6MDvzthwOQ654LaMGGVofQWIWtXhM9xaCQp85QIZFMPXcpuUPH3uquJj6htVonvySD+KY6c2AulPAzHdVaZElvPCGBgvkIRUECr1J4qmV6LdGyJvAnu+94HZMla1Eg1AuGVyQWnNCwzqsUXK5+AIsUyPRc1Rbpi93X1xK9tsXtkj9U7INWSWvU0DaZ6OlVAmUDiqgbrwY2Z3ThRVKFXrgi/R0x9GMplxAyER6ynAtZin1DQoLVznLMU+/mywMf3dlDpbyMlbjLQDhLw/Sh24sm5dhTrlHKgS/T0X2zLw/sLeGr5OlEbg2uHwAFw5reKuKsJj8kcIj0zq9H5PqAj+z6E8y+YRIaUhnAEOrcWgv9m3shQ1H7mz5duVJtDLhZqZcNlrEDwXKwCzncdFg+PJeVf1m3uPUupLR7Hq6tHNyLhw1TCmdGbm0BmaUjr63LzaMBH943D9f+yO5uZ7HfcLktqdwqMU0jtPUDN6vDOfzgKFrXtta6q83vfHU4M5KoURbT4W3zsPIqrgQFO8GozV8ocZGOTN4dRdRowN6CnOLmKkk5t7H1i+HPNGJj2kj7buYajoRXh2+36eOt+2nENrrF3ozODEmFC0D4hjbQNgYc+DSYjd9qqGSJXqL/tZ16/DWdfvw9bbCt41hcpYn9RAEX9Q22fwC74ny5v9iplQAAAABJRU5ErkJggg=="},m=new p.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:2,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[0,122,194,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:16,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[0,0,0,66]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetX:0,offsetY:-1},v],angleAlignment:"Map"},primitiveOverrides:[{type:"CIMPrimitiveOverride",primitiveName:"headingOverride",propertyName:"Rotation",valueExpressionInfo:{type:"CIMExpressionInfo",title:"Rotation override",expression:"360 - $feature.heading",returnType:"Default"}},{type:"CIMPrimitiveOverride",primitiveName:"headingOverride",propertyName:"TintColor",valueExpressionInfo:{type:"CIMExpressionInfo",title:"TintColor override",expression:"IIF(IsEmpty($feature.heading), [255, 255, 255, 0], [255, 255, 255, 1])",returnType:"Default"}}]}});let y=class extends((0,g.R)(s.A.EventedMixin(n.A))){constructor(){super(...arguments),this._geolocationUsable=!0,this.geolocationOptions=null,this.goToLocationEnabled=!0,this.graphic=new r.A({symbol:m}),this.scale=null,this.rotationEnabled=!0,this.view=null}initialize(){(0,h.$j)()||(this._geolocationUsable=!1),this.addHandles([(0,c.watch)((()=>{var t;return null===(t=this.view)||void 0===t?void 0:t.type}),(()=>this._handleViewTypeChange()),c.initial)])}destroy(){this._clearGraphic(),this.view=null}_clearGraphic(){const{view:t,graphic:e}=this;t&&e&&t.graphics.remove(e)}_addGraphic(){const{view:t,graphic:e}=this;(null===t||void 0===t?void 0:t.graphics)&&e&&!t.graphics.includes(e)&&t.graphics.push(e)}_handleViewTypeChange(){var t;v.enable="2d"===(null===(t=this.view)||void 0===t?void 0:t.type)}_getScaleWithinConstraints(t,e){if(!e)return t;if("2d"===e.type){const{effectiveMaxScale:i,effectiveMinScale:o}=e.constraints;return Math.min(o,Math.max(i,t))}return t}_getScale(t){const{scale:e}=this,i="number"==typeof e?e:2500;return this._getScaleWithinConstraints(i,t)}_getHeading(t,e){var i;const o=null===e||void 0===e?void 0:e.spatialReference,r=(null===o||void 0===o?void 0:o.isWebMercator)||(null===o||void 0===o?void 0:o.isGeographic),n=null===(i=t.coords)||void 0===i?void 0:i.heading;return!r||"number"!=typeof n||isNaN(n)||n<0||n>360?null:n}_addHeading(t){const{heading:e,target:i,view:o}=t;o&&null!==e&&("3d"!==o.type?"2d"===o.type&&(i.rotation=360-e):i.heading=e)}async _animatePoint(t,e,i,o){const{view:r}=this;if(!this.goToLocationEnabled||!r)return;const n={target:t,scale:e};this.rotationEnabled&&this._addHeading({heading:i,target:n,view:r});const a={signal:o.signal};(0,l.Te)(a),await this.callGoTo({target:n,options:a})}async updatePosition(t,e){try{const i=this.view,o=await(0,h.Ly)({position:t,view:i},{signal:e.signal}),{graphic:r}=this,{timestamp:n,coords:a}=t,{accuracy:s,altitude:l,altitudeAccuracy:c,latitude:d,longitude:u,speed:p}=a,g=this._getHeading(t,i),v={timestamp:n,accuracy:s,altitude:l,altitudeAccuracy:c,heading:g,latitude:d,longitude:u,speed:p};r&&(r.geometry=o,r.attributes=v);const m=this._getScale(i);await this._animatePoint(o,m,g,e)}catch(i){if(!(0,l.zf)(i))throw new a.A("geolocation-positioning:invalid-point","Cannot position invalid point",{error:i})}return t}};(0,o._)([(0,d.MZ)()],y.prototype,"_geolocationUsable",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"geolocationOptions",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"goToLocationEnabled",void 0),(0,o._)([(0,d.MZ)({type:r.A,nonNullable:!0})],y.prototype,"graphic",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"scale",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"rotationEnabled",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"view",void 0),y=(0,o._)([(0,u.$)("esri.widgets.support.GeolocationPositioning")],y);const w=y},12254:(t,e,i)=>{function o(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const i=e._delegatedEventNames,o=Array.isArray(t)?t:function(t){return t.split(",").map((t=>t.trim()))}(t);i.push(...o)}}i.d(e,{U:()=>o})},99403:(t,e,i)=>{i.d(e,{$j:()=>g,J1:()=>v,Ly:()=>y});var o=i(86560),r=i(50076),n=i(81806),a=i(76460),s=i(13904),l=i(45417),c=i(65308),d=i(71334),u=i(70414);const p=()=>a.A.getLogger("esri.widgets.support.geolocationUtils"),h={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function g(){return function(){const t=(0,n.A)("esri-geolocation");return t||p().warn("geolocation-unsupported","Geolocation unsupported."),t}()&&function(){const t=window.isSecureContext;return t||p().warn("insecure-context","Geolocation requires a secure origin."),t}()}function v(t){return t||(t=h),new Promise(((e,i)=>{var o;setTimeout((()=>i(new r.A("geolocation:timeout","getting the current geolocation position timed out"))),15e3),navigator.geolocation.getCurrentPosition(e,i,null!==(o=t)&&void 0!==o?o:void 0)}))}let m;function y(t,e){if(m)return m(t,e);const{position:i,view:n}=t,a=function(t){const e=t&&t.coords||{},i={accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,heading:e.heading,latitude:e.latitude,longitude:e.longitude,speed:e.speed};return t?{coords:i,timestamp:t.timestamp}:t}(i),p=null===a||void 0===a?void 0:a.coords;if(!p)throw new r.A("geometry-service:no-coords","Geolocation has no coordinates");return function(t,e,i){if(!e)return Promise.resolve(t);const n=e.spatialReference;return n.isWGS84?Promise.resolve(t):n.isWebMercator?Promise.resolve((0,l.Gh)(t)):function(t){if(o.A.geometryServiceUrl)return Promise.resolve(o.A.geometryServiceUrl);const e=c.A.getDefault();return e.load(t).catch((()=>{})).then((()=>{var t;return null===(t=e.helperServices)||void 0===t||null===(t=t.geometry)||void 0===t?void 0:t.url}))}(i).then((e=>{if(!e)throw new r.A("geometry-service:missing-url","Geometry service URL is missing");const o=new u.A({geometries:[t],outSpatialReference:n});return(0,d.C)(e,o,i).then((t=>t[0]))}))}(function(t){let{longitude:e,latitude:i,altitude:o}=t;return new s.A({longitude:e,latitude:i,z:o||void 0,spatialReference:{wkid:4326}})}(p),n,e)}}}]);
//# sourceMappingURL=8814.0d4b14d5.chunk.js.map