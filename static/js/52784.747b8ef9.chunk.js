"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[52784],{79629:(t,e,r)=>{r.d(e,{A:()=>f});var o,n=r(35143),i=r(42553),a=r(53084),s=r(76460),l=r(46053),u=r(21403),c=r(85842),p=r(40565),h=r(33905),g=r(44032),m=r(56623);let d=o=class extends i.oY{static from(t){return(0,p.PZ)(o,t)}constructor(t){super(t),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(t){return(0,m.b)(t,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},s.A.getLogger(this))}castMaterial(t){return(0,p.PZ)(t&&"object"==typeof t&&("metallic"in t||"roughness"in t||"metallicRoughnessTexture"in t)?g.A:h.A,t)}clone(){return new o({faces:(0,a.o8)(this.faces),shading:this.shading,material:(0,a.o8)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(t,e){const r={faces:(0,a.o8)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,e):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new o(r)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};(0,n._)([(0,l.MZ)({json:{write:!0}})],d.prototype,"faces",void 0),(0,n._)([(0,u.w)("faces")],d.prototype,"castFaces",null),(0,n._)([(0,l.MZ)({type:h.A,json:{write:!0}})],d.prototype,"material",void 0),(0,n._)([(0,u.w)("material")],d.prototype,"castMaterial",null),(0,n._)([(0,l.MZ)()],d.prototype,"name",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],d.prototype,"shading",void 0),(0,n._)([(0,l.MZ)({type:Boolean})],d.prototype,"trustSourceNormals",void 0),d=o=(0,n._)([(0,c.$)("esri.geometry.support.MeshComponent")],d);const f=d},33905:(t,e,r)=>{r.d(e,{A:()=>h});var o,n=r(35143),i=r(69539),a=r(42553),s=r(46053),l=(r(81806),r(76460),r(47249),r(85842)),u=r(75257),c=r(63713);let p=o=class extends a.oY{constructor(t){super(t),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const r=null!=t?t.get(this):null;if(r)return r;const n=new o(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,n),n}clonePropertiesWithDeduplication(t){var e,r,o,n;return{color:null!=this.color?this.color.clone():null,colorTexture:null===(e=this.colorTexture)||void 0===e?void 0:e.cloneWithDeduplication(t),normalTexture:null===(r=this.normalTexture)||void 0===r?void 0:r.cloneWithDeduplication(t),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:null===(o=this.colorTextureTransform)||void 0===o?void 0:o.clone(),normalTextureTransform:null===(n=this.normalTextureTransform)||void 0===n?void 0:n.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let t=0;return t+=null!=this.color?16:0,null!=this.colorTexture&&(t+=this.colorTexture.memoryUsage),t+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(t+=this.normalTexture.memoryUsage),t+=null!=this.normalTextureTransform?20:0,t}};(0,n._)([(0,s.MZ)({type:i.A,json:{write:!0}})],p.prototype,"color",void 0),(0,n._)([(0,s.MZ)({type:u.A,json:{write:!0}})],p.prototype,"colorTexture",void 0),(0,n._)([(0,s.MZ)({type:c.A,json:{write:!0}})],p.prototype,"colorTextureTransform",void 0),(0,n._)([(0,s.MZ)({type:u.A,json:{write:!0}})],p.prototype,"normalTexture",void 0),(0,n._)([(0,s.MZ)({type:c.A,json:{write:!0}})],p.prototype,"normalTextureTransform",void 0),(0,n._)([(0,s.MZ)({nonNullable:!0,json:{write:!0}})],p.prototype,"alphaMode",void 0),(0,n._)([(0,s.MZ)({nonNullable:!0,json:{write:!0}})],p.prototype,"alphaCutoff",void 0),(0,n._)([(0,s.MZ)({nonNullable:!0,json:{write:!0}})],p.prototype,"doubleSided",void 0),p=o=(0,n._)([(0,l.$)("esri.geometry.support.MeshMaterial")],p);const h=p},44032:(t,e,r)=>{r.d(e,{A:()=>h});var o,n=r(35143),i=r(69539),a=r(46053),s=(r(81806),r(76460),r(47249),r(85842)),l=r(33905),u=r(75257),c=r(63713);let p=o=class extends l.A{constructor(t){super(t),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const r=null!=t?t.get(this):null;if(r)return r;const n=new o(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,n),n}getMemoryUsage(){let t=super.getMemoryUsage();return t+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(t+=this.emissiveTexture.memoryUsage),t+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(t+=this.occlusionTexture.memoryUsage),t+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(t+=this.metallicRoughnessTexture.memoryUsage),t+=null!=this.metallicRoughnessTextureTransform?20:0,t}clonePropertiesWithDeduplication(t){var e,r,o,n,i,a,s;return{...super.clonePropertiesWithDeduplication(t),emissiveColor:null===(e=this.emissiveColor)||void 0===e?void 0:e.clone(),emissiveTexture:null===(r=this.emissiveTexture)||void 0===r?void 0:r.cloneWithDeduplication(t),emissiveTextureTransform:null===(o=this.emissiveTextureTransform)||void 0===o?void 0:o.clone(),occlusionTexture:null===(n=this.occlusionTexture)||void 0===n?void 0:n.cloneWithDeduplication(t),occlusionTextureTransform:null===(i=this.occlusionTextureTransform)||void 0===i?void 0:i.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:null===(a=this.metallicRoughnessTexture)||void 0===a?void 0:a.cloneWithDeduplication(t),metallicRoughnessTextureTransform:null===(s=this.metallicRoughnessTextureTransform)||void 0===s?void 0:s.clone()}}};(0,n._)([(0,a.MZ)({type:i.A,json:{write:!0}})],p.prototype,"emissiveColor",void 0),(0,n._)([(0,a.MZ)({type:u.A,json:{write:!0}})],p.prototype,"emissiveTexture",void 0),(0,n._)([(0,a.MZ)({type:c.A,json:{write:!0}})],p.prototype,"emissiveTextureTransform",void 0),(0,n._)([(0,a.MZ)({type:u.A,json:{write:!0}})],p.prototype,"occlusionTexture",void 0),(0,n._)([(0,a.MZ)({type:c.A,json:{write:!0}})],p.prototype,"occlusionTextureTransform",void 0),(0,n._)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],p.prototype,"metallic",void 0),(0,n._)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],p.prototype,"roughness",void 0),(0,n._)([(0,a.MZ)({type:u.A,json:{write:!0}})],p.prototype,"metallicRoughnessTexture",void 0),(0,n._)([(0,a.MZ)({type:c.A,json:{write:!0}})],p.prototype,"metallicRoughnessTextureTransform",void 0),p=o=(0,n._)([(0,s.$)("esri.geometry.support.MeshMaterialMetallicRoughness")],p);const h=p},75257:(t,e,r)=>{r.d(e,{A:()=>f});var o,n=r(35143),i=(r(81806),r(16770)),a=r(42553),s=r(46053),l=r(40565),u=(r(47249),r(28379)),c=r(85842),p=r(17707),h=r(79453);const g=new WeakMap;let m=0,d=o=class extends a.oY{constructor(t){super(t),this.wrap="repeat"}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null)}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null)}writeData(t,e,r,o){if(t instanceof HTMLImageElement){const n={type:"image-element",src:(0,h.t)(t.src,o),crossOrigin:t.crossOrigin};e[r]=n}else if(t instanceof HTMLCanvasElement){const o=t.getContext("2d").getImageData(0,0,t.width,t.height),n={type:"canvas-element",imageData:this._encodeImageData(o)};e[r]=n}else if(t instanceof HTMLVideoElement){const n={type:"video-element",src:(0,h.t)(t.src,o),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[r]=n}else if(t instanceof ImageData){const o={type:"image-data",imageData:this._encodeImageData(t)};e[r]=o}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=this._decodeImageData(t.imageData),r=document.createElement("canvas");return r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),r}case"image-data":return this._decodeImageData(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const t=this.data,e=this.url;if(t instanceof HTMLCanvasElement)return this._imageDataContainsTransparent(t.getContext("2d").getImageData(0,0,t.width,t.height));if(t instanceof ImageData)return this._imageDataContainsTransparent(t);if(e){const t=e.substr(e.length-4,4).toLowerCase(),r=e.substr(0,15).toLocaleLowerCase();if(".png"===t||"data:image/png;"===r)return!0}return!1}set transparent(t){this._overrideIfSome("transparent",t)}get contentHash(){var t=this;const e="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?"".concat(this.wrap.horizontal,"/").concat(this.wrap.vertical):"",r=function(){return"d:".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",",t:").concat(t.transparent,",w:").concat(e)};return null!=this.url?r(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?r(this.data.src):(g.has(this.data)||g.set(this.data,++m),r(g.get(this.data))):r()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3)}return t}clone(){const t={url:this.url,data:this.data,wrap:this._cloneWrap()};return new o(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const r=this.clone();return t.set(this,r),r}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}_encodeImageData(t){let e="";for(let r=0;r<t.data.length;r++)e+=String.fromCharCode(t.data[r]);return{data:btoa(e),width:t.width,height:t.height}}_decodeImageData(t){const e=atob(t.data),r=new Uint8ClampedArray(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return(0,i.eV)(r,t.width,t.height)}_imageDataContainsTransparent(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return!0;return!1}static from(t){return"string"==typeof t?new o({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new o({data:t}):(0,l.PZ)(o,t)}};(0,n._)([(0,s.MZ)({type:String,json:{write:h.w}})],d.prototype,"url",null),(0,n._)([(0,s.MZ)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,s.MZ)()],d.prototype,"data",null),(0,n._)([(0,p.K)("data")],d.prototype,"writeData",null),(0,n._)([(0,u.w)("data")],d.prototype,"readData",null),(0,n._)([(0,s.MZ)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],d.prototype,"transparent",null),(0,n._)([(0,s.MZ)({json:{write:!0}})],d.prototype,"wrap",void 0),(0,n._)([(0,s.MZ)({readOnly:!0})],d.prototype,"contentHash",null),d=o=(0,n._)([(0,c.$)("esri.geometry.support.MeshTexture")],d);const f=d},63713:(t,e,r)=>{r.d(e,{A:()=>u});var o=r(35143),n=r(69098),i=r(42553),a=r(46053),s=(r(81806),r(76460),r(47249),r(85842));let l=class extends((0,n.O)(i.oY)){constructor(t){super(t),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"offset",void 0),(0,o._)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],l.prototype,"rotation",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"scale",void 0),l=(0,o._)([(0,s.$)("esri.geometry.support.MeshTextureTransform")],l);const u=l},32186:(t,e,r)=>{r.d(e,{A:()=>y});var o,n=r(35143),i=r(42553),a=r(46053),s=(r(81806),r(76460),r(47249),r(85842)),l=r(34761),u=r(13191),c=r(60008),p=r(4336),h=r(20664),g=r(9392),m=r(52896);let d=o=class extends i.oY{constructor(t){super(t),this.translation=(0,g.vt)(),this.rotationAxis=(0,g.ci)(m.up),this.rotationAngle=0,this.scale=(0,g.fA)(1,1,1)}get rotation(){return(0,m.i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,g.o8)((0,m.yo)(t)),this.rotationAngle=(0,m.g7)(t)}get localMatrix(){const t=(0,u.vt)();return(0,c.x8)(f,(0,m.yo)(this.rotation),(0,m.$I)(this.rotation)),(0,l.o1)(t,f,this.translation,this.scale),t}get localMatrixInverse(){return(0,l.B8)((0,u.vt)(),this.localMatrix)}applyLocal(t,e){return(0,h.e)(e,t,this.localMatrix)}applyLocalInverse(t,e){return(0,h.e)(e,t,this.localMatrixInverse)}equals(t){return this===t||null!=t&&(0,l.t2)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,g.o8)(this.translation),rotationAxis:(0,g.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,g.o8)(this.scale)};return new o(t)}};(0,n._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"translation",void 0),(0,n._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAxis",void 0),(0,n._)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAngle",void 0),(0,n._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"scale",void 0),(0,n._)([(0,a.MZ)()],d.prototype,"rotation",null),(0,n._)([(0,a.MZ)()],d.prototype,"localMatrix",null),(0,n._)([(0,a.MZ)()],d.prototype,"localMatrixInverse",null),d=o=(0,n._)([(0,s.$)("esri.geometry.support.MeshTransform")],d);const f=(0,p.vt)(),y=d},56623:(t,e,r)=>{r.d(e,{H:()=>p,b:()=>g});var o,n=r(35143),i=r(42553),a=r(53084),s=r(76460),l=r(46053),u=r(21403),c=r(85842);let p=o=class extends i.oY{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return g(t,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},s.A.getLogger(this))}castPosition(t){return t&&t instanceof Float32Array&&s.A.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),g(t,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},s.A.getLogger(this))}castUv(t){return g(t,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},s.A.getLogger(this))}castNormal(t){return g(t,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},s.A.getLogger(this))}castTangent(t){return g(t,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},s.A.getLogger(this))}clone(){const t={position:(0,a.o8)(this.position),uv:(0,a.o8)(this.uv),normal:(0,a.o8)(this.normal),tangent:(0,a.o8)(this.tangent),color:(0,a.o8)(this.color)};return new o(t)}clonePositional(){const t={position:(0,a.o8)(this.position),normal:(0,a.o8)(this.normal),tangent:(0,a.o8)(this.tangent),uv:this.uv,color:this.color};return new o(t)}get memoryUsage(){let t=0;return t+=this.position.byteLength,null!=this.uv&&(t+=this.uv.byteLength),null!=this.normal&&(t+=this.normal.byteLength),null!=this.tangent&&(t+=this.tangent.byteLength),null!=this.color&&(t+=this.color.byteLength),t}};function h(t,e,r,o){const{loggerTag:n,stride:i}=e;return t.length%i!=0?(o.error(n,"Invalid array length, expected a multiple of ".concat(i)),new r([])):t}function g(t,e,r,o,n){if(!t)return t;if(t instanceof e)return h(t,o,e,n);for(const i of r)if(t instanceof i)return h(new e(t),o,e,n);if(Array.isArray(t))return h(new e(t),o,e,n);{const o=r.map((t=>"'".concat(t.name,"'")));return n.error("Failed to set property, expected one of ".concat(o,", but got ").concat(t.constructor.name)),new e([])}}function m(t,e,r){e[r]=function(t){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r];return e}(t)}(0,n._)([(0,l.MZ)({json:{write:m}})],p.prototype,"color",void 0),(0,n._)([(0,u.w)("color")],p.prototype,"castColor",null),(0,n._)([(0,l.MZ)({nonNullable:!0,json:{write:m}})],p.prototype,"position",void 0),(0,n._)([(0,u.w)("position")],p.prototype,"castPosition",null),(0,n._)([(0,l.MZ)({json:{write:m}})],p.prototype,"uv",void 0),(0,n._)([(0,u.w)("uv")],p.prototype,"castUv",null),(0,n._)([(0,l.MZ)({json:{write:m}})],p.prototype,"normal",void 0),(0,n._)([(0,u.w)("normal")],p.prototype,"castNormal",null),(0,n._)([(0,l.MZ)({json:{write:m}})],p.prototype,"tangent",void 0),(0,n._)([(0,u.w)("tangent")],p.prototype,"castTangent",null),p=o=(0,n._)([(0,c.$)("esri.geometry.support.MeshVertexAttributes")],p)},84640:(t,e,r)=>{r.d(e,{Hm:()=>s,QD:()=>l,WN:()=>a});var o=r(63241),n=r(76460),i=r(99773);function a(t,e){return t.isGeographic||t.isWebMercator&&(null===e||void 0===e||e)}function s(t,e){switch(t.type){case"georeferenced":return e.isGeographic;case"local":return e.isGeographic||e.isWebMercator}}function l(t,e,r,a){if(void 0!==a){(0,o.io)(n.A.getLogger(t),"option: geographic",{replacement:"use mesh vertexSpace and spatial reference to control how operations are performed",version:"4.29",warnOnce:!0});const s="local"===e.type;if(!(0,i.Hq)(e)||a===s)return r.isGeographic||r.isWebMercator&&a;n.A.getLogger(t).warnOnce("Specifying the 'geographic' parameter (".concat(a,') for a Mesh vertex space of type "').concat(e.type,'" is not supported. This parameter will be ignored.'))}return s(e,r)}},48620:(t,e,r)=>{r.d(e,{NW:()=>x,RN:()=>P,bA:()=>M,h7:()=>b,nX:()=>L,project:()=>C,qD:()=>A,wD:()=>F});var o=r(31633),n=r(44680),i=r(34761),a=r(13191),s=r(20664),l=r(9392),u=r(63919),c=r(9624),p=r(98510),h=r(5809),g=r(45308),m=r(44815),d=r(32186),f=r(99773),y=r(45136),v=r(84640),T=r(26375);function w(t,e,r){return(0,v.WN)(e.spatialReference,null===r||void 0===r?void 0:r.geographic)?F(t,e,!1,r):function(t,e,r){var o;const n=new Float64Array(t.position.length),i=t.position,a=e.x,s=e.y,l=null!==(o=e.z)&&void 0!==o?o:0,u=L(r?r.unit:null,e.spatialReference);for(let c=0;c<i.length;c+=3)n[c]=i[c]*u+a,n[c+1]=i[c+1]*u+s,n[c+2]=i[c+2]*u+l;return{position:n,normal:t.normal,tangent:t.tangent}}(t,e,r)}function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.zK;const{position:r,normal:o,tangent:n}=t;return{position:(0,y.a)(new Float64Array(r.length),r,e),normal:null!=o?(0,T.qs)(o,new Float32Array(o.length),e):null,tangent:null!=n?(0,T.KM)(n,new Float32Array(n.length),e):null}}function M(t,e,r,o){const{position:n,normal:i,tangent:a}=t;if(!(0,f.Hq)(e))return{position:n,normal:i,tangent:a};const s=(0,f.MW)(e,o);return w(x(t,null===r||void 0===r?void 0:r.localMatrix),s,{geographic:"local"===e.type})}function A(t,e,r){const o=(0,f.TE)(e,r),n=e.spatialReference,i=(0,f.Hq)(o);if(!i)return{vertexAttributes:w(t,e,r),vertexSpace:o,transform:null};const{position:a,normal:s,tangent:l}=t,u=(0,v.Hm)(o,n);switch(o.type){case"georeferenced":return u?{vertexAttributes:F(t,e,i,r),vertexSpace:o,transform:null}:{vertexAttributes:{position:a,normal:s,tangent:l},vertexSpace:o,transform:new d.A};case"local":return{vertexAttributes:{position:a,normal:s,tangent:l},vertexSpace:o,transform:new d.A}}}function _(t,e,r){return(0,v.WN)(e.spatialReference,null===r||void 0===r?void 0:r.geographic)?P(t,e,r):j(t,e,r)}function b(t,e,r,o,n){if(!(0,f.Hq)(e))return _(t,o,n);const{spatialReference:i}=o,a=M(t,e,r,i);return o.equals((0,f.MW)(e,i))?j(a,o,n):_(a,o,n)}function C(t){var e,r;let{positions:o,transform:n,vertexSpace:u,inSpatialReference:d,outSpatialReference:f,outPositions:v,localMode:T}=t;const w=null!==(e=u.origin)&&void 0!==e?e:l.uY,x=null!=u.origin&&null!==(r=null===n||void 0===n?void 0:n.localMatrix)&&void 0!==r?r:a.zK;if("georeferenced"===u.type){const t=null!==v&&void 0!==v?v:(0,m.jh)(o.length);if((0,i.aI)(x,a.zK)?(0,m.s)(t,o):(0,y.a)(t,o,x),!(0,s.j)(w,l.uY)){const[e,r,o]=w;for(let n=0;n<t.length;n+=3)t[n]+=e,t[n+1]+=r,t[n+2]+=o}return(0,g.projectBuffer)(t,d,0,t,f,0,t.length/3),t}let M=d;const A=(0,p.lO)(d);M=f.isWebMercator&&T||!(0,c.canProjectWithoutEngine)(d,A)?M:A,(0,h.l)(d,w,R,M),(0,i.lw)(R,R,x);const _=null!==v&&void 0!==v?v:(0,m.jh)(o.length);return(0,y.a)(_,o,R),(0,g.projectBuffer)(_,M,0,_,f,0,_.length/3),_}function F(t,e,r,o){const n=e.spatialReference,i=Z(e,o,R),a=new Float64Array(t.position.length),s=function(t,e,r,o){(0,y.a)(o,t,e);const n=new Float64Array(t.length);return(0,T.$5)(o,n,r)}(t.position,i,n,a),l=(0,u.Ge)(O,i),c=function(t,e,r,o,n){if(null==r)return null;const i=new Float32Array(r.length);return(0,y.b)(i,r,o),(0,T.si)(i,t,e,n,i),i}(s,a,t.normal,l,n),p=function(t,e,r,o,n){if(null==r)return null;const i=new Float32Array(r.length);(0,y.b)(i,r,o,4);for(let a=3;a<i.length;a+=4)i[a]=r[a];return(0,T.Mv)(i,t,e,n,i),i}(s,a,t.tangent,l,n);if(r){const{x:t,y:r,z:o}=e;(0,y.t)(s,s,[-t,-r,-(null!==o&&void 0!==o?o:0)])}return{position:s,normal:c,tangent:p}}function j(t,e,r){var o;const n=new Float64Array(t.position.length),i=t.position,a=e.x,s=e.y,l=null!==(o=e.z)&&void 0!==o?o:0,u=L(r?r.unit:null,e.spatialReference);for(let c=0;c<i.length;c+=3)n[c]=(i[c]-a)/u,n[c+1]=(i[c+1]-s)/u,n[c+2]=(i[c+2]-l)/u;return{position:n,normal:t.normal,tangent:t.tangent}}function P(t,e,r){const o=e.spatialReference;Z(e,r,R);const n=(0,i.B8)(W,R),a=new Float64Array(t.position.length),s=function(t,e,r,o){const n=(0,T.gr)(t,e,o),i=new Float64Array(n.length);return(0,y.a)(i,n,r),i}(t.position,o,n,a),l=(0,u.Ge)(O,n);return{position:s,normal:D(t.normal,t.position,a,o,l),tangent:N(t.tangent,t.position,a,o,l)}}function Z(t,e,r){var o;(0,h.l)(t.spatialReference,[t.x,t.y,null!==(o=t.z)&&void 0!==o?o:0],r,(0,p.lO)(t.spatialReference));const n=L(e?e.unit:null,t.spatialReference);return(0,i.hs)(r,r,[n,n,n]),r}function D(t,e,r,o,n){if(null==t)return null;const i=(0,T.X4)(t,e,r,o,new Float32Array(t.length));return(0,y.b)(i,i,n),i}function N(t,e,r,o,n){if(null==t)return null;const i=(0,T.xA)(t,e,r,o,new Float32Array(t.length));return(0,y.b)(i,i,n,4),i}function L(t,e){if(null==t)return 1;const r=(0,o.KX)(e);return 1/(0,o.oU)(r,"meters",t)}const R=(0,a.vt)(),W=(0,a.vt)(),O=(0,n.vt)()},26375:(t,e,r)=>{r.d(e,{$5:()=>w,KM:()=>M,Mv:()=>_,X4:()=>y,gr:()=>T,qs:()=>x,si:()=>v,xA:()=>A});var o=r(76460),n=r(63919),i=r(44680),a=r(13191),s=r(20664),l=r(9392),u=r(98510),c=r(5809),p=r(45308),h=r(80963),g=r(45417),m=r(88105),d=r(45136);const f=()=>o.A.getLogger("esri.geometry.support.meshUtils.normalProjection");function y(t,e,r,o,n){return C(o)?(b(j.TO_PCPF,m.xs.fromTypedArray(t),m.Xm.fromTypedArray(e),m.Xm.fromTypedArray(r),o,m.xs.fromTypedArray(n)),n):(f().error("Cannot convert spatial reference to PCPF"),n)}function v(t,e,r,o,n){return C(o)?(b(j.FROM_PCPF,m.xs.fromTypedArray(t),m.Xm.fromTypedArray(e),m.Xm.fromTypedArray(r),o,m.xs.fromTypedArray(n)),n):(f().error("Cannot convert to spatial reference from PCPF"),n)}function T(t,e,r){return(0,p.projectBuffer)(t,e,0,r,(0,u.lO)(e),0,t.length/3),r}function w(t,e,r){return(0,p.projectBuffer)(t,(0,u.lO)(r),0,e,r,0,t.length/3),e}function x(t,e,r){return(0,n.Ge)(L,r),(0,d.b)(e,t,L),(0,n.ut)(L)||(0,d.n)(e,e),e}function M(t,e,r){if((0,n.Ge)(L,r),(0,d.b)(e,t,L,4),(0,n.ut)(L)||(0,d.n)(e,e,4),t!==e)for(let o=3;o<t.length;o+=4)e[o]=t[o];return e}function A(t,e,r,o,n){if(!C(o))return f().error("Cannot convert spatial reference to PCPF"),n;b(j.TO_PCPF,m.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),m.Xm.fromTypedArray(e),m.Xm.fromTypedArray(r),o,m.xs.fromTypedArray(n,4*Float32Array.BYTES_PER_ELEMENT));for(let i=3;i<t.length;i+=4)n[i]=t[i];return n}function _(t,e,r,o,n){if(!C(o))return f().error("Cannot convert to spatial reference from PCPF"),n;b(j.FROM_PCPF,m.xs.fromTypedArray(t,16),m.Xm.fromTypedArray(e),m.Xm.fromTypedArray(r),o,m.xs.fromTypedArray(n,16));for(let i=3;i<t.length;i+=4)n[i]=t[i];return n}function b(t,e,r,o,i,a){if(!e)return;const l=r.count,p=(0,u.lO)(i);if(F(i))for(let u=0;u<l;u++)o.getVec(u,Z),e.getVec(u,D),(0,c.l)(p,Z,N,p),(0,n.z0)(L,N),t===j.FROM_PCPF&&(0,n.mg)(L,L),(0,s.t)(D,D,L),a.setVec(u,D);else for(let u=0;u<l;u++){o.getVec(u,Z),e.getVec(u,D),(0,c.l)(p,Z,N,p),(0,n.z0)(L,N);const i=(0,g.jg)(r.get(u,1));let l=Math.cos(i);t===j.TO_PCPF&&(l=1/l),L[0]*=l,L[1]*=l,L[2]*=l,L[3]*=l,L[4]*=l,L[5]*=l,t===j.FROM_PCPF&&(0,n.mg)(L,L),(0,s.t)(D,D,L),(0,s.n)(D,D),a.setVec(u,D)}return a}function C(t){return F(t)||function(t){return t.isWebMercator}(t)}function F(t){return t.isWGS84||(0,h.x1)(t)||(0,h.q8)(t)||(0,h.KQ)(t)}var j,P;(P=j||(j={}))[P.TO_PCPF=0]="TO_PCPF",P[P.FROM_PCPF=1]="FROM_PCPF";const Z=(0,l.vt)(),D=(0,l.vt)(),N=(0,a.vt)(),L=(0,i.vt)()}}]);
//# sourceMappingURL=52784.747b8ef9.chunk.js.map