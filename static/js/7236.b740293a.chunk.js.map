{"version":3,"file":"static/js/7236.b740293a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/memoize.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","../node_modules/@arcgis/core/views/interactive/tooltip/constraintUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction t(t){let r,e,i=[],u=!1;function f(...f){return u&&r===this&&n(f,i)||(e=t.apply(this,f),r=this,i=f,u=!0),e}return f}function n(t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==n[r])return!1;return!0}export{t as memoize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;\"number\"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2}));let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.pointerType,s=\"touch\"===o?9:6;if(!n)return s;const f=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(f,n.symbol);if(\"unique-value\"===n.type){let e=f;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=f;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return\"dot-density\"===n.type||n.type,f}export{o as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Evented.js\";class t{constructor({consumesClicks:t,grabbableForEvent:s}){this.events=new e,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=t,this.grabbableForEvent=s}destroy(){}intersectionDistance(e,t){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}export{t as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{clone as n}from\"../../core/lang.js\";import{destroyMaybe as o,equalsMaybe as r}from\"../../core/maybe.js\";import{memoize as s}from\"../../core/memoize.js\";import{ignoreAbortErrors as a}from\"../../core/promiseUtils.js\";import{watch as p,syncAndInitial as c}from\"../../core/reactiveUtils.js\";import{createScreenPoint as l}from\"../../core/screenUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{diff as u}from\"../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as m}from\"../../core/support/UpdatingHandles.js\";import{pointEquals as g,pointNear as y}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{getEffectiveElevationInfo as _}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as v}from\"../ViewingMode.js\";import{defaultDrawingMode as f}from\"./DrawingMode.js\";import{DrawManipulator as x}from\"./DrawManipulator.js\";import{createCoordinateHelper as b}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as C,sceneSnappingAtLocation as T}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as S,Component as P}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as V}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{isPoint as w}from\"../interactive/sketch/constraints.js\";import O from\"../interactive/sketch/SketchLabelOptions.js\";import{SnappingContext as M}from\"../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as D}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as I}from\"../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as E}from\"../interactive/snapping/snappingUtils.js\";import{pointToConstraintSpace as j,constraintSpaceToPoint as H,getPointConstraint as G,getPolylineOrPolygonConstraint as k}from\"../interactive/tooltip/constraintUtils.js\";const Z=\"crosshair\",A=\"progress\";let L=class extends(i.EventedMixin(e)){constructor(t){super(t),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new Set,this._stagedScreenPoint=null,this._stagedPointerType=null,this._stagedPointerId=null,this._updatingHandles=new m,this.constraintsEnabled=!1,this.constraintInfo=void 0,this._getPointConstraint=s(G),this._getPolylineOrPolygonConstraint=s(k),this.constraintZ=null,this.defaultZ=null,this.isDraped=!0,this.labelOptions=new O,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.firstVertex=null,this.lastVertex=null,this.secondToLastVertex=null,null==t.elevationInfo&&(this.elevationInfo=_(!!t.hasZ))}initialize(){const{geometryType:t,view:e}=this,i=e.spatialReference,n=\"viewingMode\"in e.state?e.state.viewingMode:v.Local,o=\"segment\"===t||\"multipoint\"===t?\"polyline\":t;this.coordinateHelper=b(this.hasZ,this.hasM,i),this._editGeometryOperations=new V(new S(o,this.coordinateHelper)),this._snappingOperation=new I({view:e}),this.addHandles([p((()=>({stagedPoint:this._snappingOperation.stagedPoint,constraint:this.constraint})),(({stagedPoint:t,constraint:e},i)=>{const{snappingOptions:n}=this;n&&(n.forceDisabled=null!=e&&w(e),n.constraintsActive=null!=this.constraintInfo?.distance||null!=this.constraintInfo?.direction);if(null!=i&&t===i.stagedPoint&&e!==i.constraint)return this._onKeyboardBasedChange();this._processCursor(t??this._screenToMap(this._stagedScreenPoint))}),{sync:!0,equals:(t,e)=>t.stagedPoint===e.stagedPoint&&r(t.constraint,e.constraint)}),p((()=>this.view.viewpoint),((t,e)=>{t&&e&&u(t,e)&&this._onKeyboardBasedChange()}))]),this._activeComponent=new P(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const s=this.segmentLabels;null!=s&&(s.context={view:e,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.addHandles(p((()=>this.labelOptions.enabled),(t=>{s.visible=t}),c))),this.addHandles(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(t=>{const e=t.vertices.map((t=>({componentIndex:0,vertexIndex:t.index,coordinates:this.coordinateHelper.vectorToArray(t.pos)}))),i=e.map((t=>t.coordinates)),n=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getFirstVertex()?.pos)??null;g(n,this.firstVertex)||(this.firstVertex=n);const o=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getLastVertex()?.pos)??null;g(o,this.lastVertex)||(this.lastVertex=o);const r=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.edges.at(-1)?.leftVertex?.pos)??null;switch(g(r,this.secondToLastVertex)||(this.secondToLastVertex=r),this._processCursor(this.cursorVertex),t.type){case\"vertex-add\":this.emit(t.type,{...t,added:i,vertices:e});break;case\"vertex-update\":this.emit(t.type,{...t,updated:i,vertices:e});break;case\"vertex-remove\":this.emit(t.type,{...t,removed:i,vertices:e})}})));const l=this._manipulator=new x({consumesClicks:!1,grabbableForEvent:t=>\"click\"!==this.drawingMode||\"touch\"===t.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(l),l.grabbable=\"point\"!==t,this.addHandles([this._createManipulatorDragPipeline(l),l.events.on(\"immediate-click\",(t=>this._onImmediateClick(t))),l.events.on(\"immediate-double-click\",(t=>this._onImmediateDoubleClick(t))),p((()=>({effectiveCursor:this.effectiveCursor})),(({effectiveCursor:t})=>{l.cursor=t}),c)]),E(this,(()=>{const t=this.view.inputManager.latestPointerType??\"mouse\",e=this._getSnappingContext(t);null!=this.snappingManager&&this._updatingHandles.addPromise(a(this._snappingOperation.snapAgainNearPreviousMapPoint(this.snappingManager,e)))}))}destroy(){o(this.segmentLabels),o(this._snappingOperation),this._editGeometryOperations=o(this._editGeometryOperations),this._updatingHandles.destroy()}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const t=this._updateAndGetEffectiveDrawSurface();return\"3d\"===this.view.type&&this.drawSurface!==t}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((t=>this.coordinateHelper.vectorToArray(t.pos)))}get constraint(){const{constraintInfo:t,constraintsEnabled:e}=this;if(t&&e)switch(this.geometryType){case\"point\":return this._getPointConstraint(t.elevation,t.context);case\"polygon\":case\"polyline\":return this._getPolylineOrPolygonConstraint(this.lastVertex,this.secondToLastVertex,t.distance,t.direction,t.elevation,t.context)}}set drawingMode(t){this._set(\"drawingMode\",t??f)}get effectiveCursor(){return this.loading?A:this._hideDefaultCursor?null:this.cursor||Z}get interactive(){return this._manipulator.interactive}set interactive(t){this._manipulator.interactive=t}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get cursorVertex(){return this._get(\"cursorVertex\")}get visualizationCursorVertex(){return\"mouse\"===this._stagedPointerType?this.cursorVertex:null}get committableVertex(){const{cursorVertex:t,lastVertex:e,firstVertex:i,geometryType:n}=this;return\"polygon\"===n&&y(t,i)||y(t,e)?null:t}get updating(){return this._updatingHandles.updating}get geometryIncludingUncommittedVertices(){const{committedVertices:t,committableVertex:e,coordinateHelper:i}=this,n=t.slice();return null!=e&&n.push(i.pointToArray(e)),n}cancel(){this.complete({aborted:!0})}commitStagedVertex(){this._snappingOperation.abort();const{committableVertex:t}=this;null!=t&&this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t))}complete(t){const e=t?.aborted||!1;this._snappingOperation.abort(),this.snappingManager?.doneSnapping();const{geometryType:i,numCommittedVertices:n}=this,o=\"multipoint\"===i&&0===n||\"polyline\"===i&&n<2||\"polygon\"===i&&n<3;\"segment\"!==i&&\"point\"!==i||this.commitStagedVertex(),this._createOperationCompleted=!o,(this.isCompleted||e)&&(this._stagedScreenPoint=null,this._stagedPointerId=null,this._stagedPointerType=null,this._processCursor(null),this.emit(\"complete\",{vertices:this.committedVertices.map(((t,e)=>({componentIndex:0,vertexIndex:e,coordinates:t}))),aborted:e,type:\"complete\"}))}onInputEvent(t){switch(t.type){case\"pointer-down\":this._pointerDownStates.add(t.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(t.pointerId)}switch(t.type){case\"pointer-move\":return this._onPointerMove(t);case\"hold\":return this._onHold(t)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_processCursor(t){const e=n(this.cursorVertex),i=n(t),o=i&&(this._updateAndGetEffectiveDrawSurface()?.constrainZ(i)??i),r=this._snapToClosingVertex(o),s=this._applyConstraints(r);y(e,s)||(this._set(\"cursorVertex\",s),this.segmentLabels?.set(\"stagedVertex\",null!=s?this.coordinateHelper.pointToVector(s):null),null==s||\"mouse\"!==this._stagedPointerType?this.emit(\"cursor-remove\"):this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(s)}],operation:\"apply\",type:\"vertex-update\"}))}_snapToClosingVertex(t){if(null==t||\"polygon\"!==this.geometryType||this.numCommittedVertices<=2)return t;const e=this._mapToScreen(t);if(!e)return t;const i=this._activeComponent;return this._vertexWithinPointerDistance(i.vertices[0].pos,e)?this.firstVertex:this._vertexWithinPointerDistance(i.vertices.at(-1).pos,e)?this.lastVertex:t}_createManipulatorDragPipeline(t){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(t);case\"freehand\":return this._createManipulatorDragPipelineFreehand(t);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(t)}}_createManipulatorDragPipelineClick(t){return C(t,((t,e,i,n)=>{const o=\"touch\"===n&&this._snappingEnabled;if(this.isCompleted||!o)return;const{snappingStep:r,cancelSnapping:s}=D({predicate:()=>o,snappingManager:this.snappingManager,snappingContext:new M({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});i=i.next((t=>(o&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),t))).next(s),e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._processCursor(t.mapStart),(\"segment\"===this.geometryType||o&&!this.numCommittedVertices)&&this.commitStagedVertex()),t))).next(T(this.view,this.elevationInfo)).next(...r).next((t=>(o&&(this._processCursor(t.mapEnd),\"end\"===t.action&&this.commitStagedVertex()),t))).next((t=>(\"end\"===t.action&&(\"mouse\"!==this._stagedPointerType&&this._snappingOperation.abort(),\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),t)))}))}_createManipulatorDragPipelineFreehand(t){return C(t,((t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._snappingOperation.abort(),null==this.committableVertex&&this._processCursor(t.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),t))).next((t=>{switch(t.action){case\"start\":case\"update\":this._processCursor(t.mapEnd),\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return t}))}))}_createManipulatorDragPipelineHybrid(t){return C(t,((t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._snappingOperation.abort(),this._processCursor(t.mapStart),this.commitStagedVertex()),t))).next((t=>{switch(t.action){case\"start\":case\"update\":this._processCursor(t.mapEnd),\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"mouse\"!==this._stagedPointerType&&this._snappingOperation.abort(),\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return t}))}))}get _drawAtFixedElevation(){const{constraintsEnabled:t,constraintZ:e,geometryType:i,numCommittedVertices:n}=this;return t?null!=e||\"segment\"===i&&n>0:(\"segment\"===i||\"polygon\"===i)&&n>0}_updateAndGetEffectiveDrawSurface(){const{constraintsEnabled:t,coordinateHelper:e,drawSurface:i,elevationDrawSurface:n,snapToSceneEnabled:o}=this;if(null==n)return i;if(!this.hasZ)return n.defaultZ=null,n;const r=this.elevationInfo?.mode;let s=this.defaultZ,a=t||\"absolute-height\"===r;if(null!=o&&(a=o),\"on-the-ground\"===r&&(a=!1),this._drawAtFixedElevation){s=(t?this.constraintZ:null)??e.getZ(this._activeComponent.vertices[0].pos),a=!1}return a?i:(n.defaultZ=s,n)}_mapToScreen(t){return this._updateAndGetEffectiveDrawSurface()?.mapToScreen(t)}_onHold(t){this._snappingOperation.abort(),\"click\"===this.drawingMode&&\"touch\"===t.pointerType&&this._snappingEnabled&&this._processCursor(t.mapPoint),t.stopPropagation()}_onImmediateClick(t){if(!(\"mouse\"===t.pointerType&&2===t.button||this._manipulator.dragging))try{const{drawingMode:e,geometryType:i}=this;this._stagedPointerType=t.pointerType,this._stagedScreenPoint=t.screenPoint;const n=this._screenToMap(t.screenPoint);if(null==n)return;if(null==n||\"freehand\"===e&&\"point\"!==i)return;if(this._snappingEnabled&&null!=this.cursorVertex||this._processCursor(n),null==this.committableVertex)return void this.complete();this.commitStagedVertex(),\"mouse\"!==t.pointerType&&this._processCursor(null),(\"freehand\"===e||\"point\"===i||\"segment\"===i&&2===this.numCommittedVertices||\"segment\"===i&&\"hybrid\"===e&&1===this.numCommittedVertices)&&this.complete()}finally{t.stopPropagation()}}_onImmediateDoubleClick(t){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),t.stopPropagation())}_onPointerMove(t){const e=l(t.x,t.y);this._stagedScreenPoint=e,this._stagedPointerType=t.pointerType,this._stagedPointerId=t.pointerId;const i=this._snappingOperation,n=this._manipulator;this._pointerDownStates.has(t.pointerId)||n.grabbing||!n.interactive?i.abort():(t.stopPropagation(),this._processCursorMovementRelativeToSurface(e,t.pointerType))}_onKeyboardBasedChange(){const t=this._manipulator;\"mouse\"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._pointerDownStates.has(this._stagedPointerId)&&!t.grabbing&&t.interactive?this._processCursorMovementRelativeToSurface(this._stagedScreenPoint,this._stagedPointerType):this._snappingOperation.abort()}_processCursorMovementRelativeToSurface(t,e){const i=this._snappingOperation,n=this._screenToMap(t),o=this._requiresScenePoint?this.drawSurface?.screenToMap(t):null;if(null==n)return this._hideDefaultCursor=!0,this._processCursor(null),void i.abort();this._hideDefaultCursor=!1;const r=this.snappingManager;if(null==r)return this._processCursor(n),void i.abort();const s=this._getSnappingContext(e);this._updatingHandles.addPromise(a(i.snap({point:n,scenePoint:o},r,s)))}_applyConstraints(t){const{constraint:e,constraintInfo:i}=this;if(!t||!i||!e)return t;const{context:n}=i,o=j(t,n),r=o?e.closestTo(o):void 0;if(!r)return t;const s=H(r,t,n);return null!=s&&\"absolute-height\"!==n.elevationInfo.mode&&null!=this.constraintZ&&this.hasZ&&(s.z=this.constraintZ),s}_screenToMap(t){return t?this._updateAndGetEffectiveDrawSurface()?.screenToMap(t):null}_screenToMapDragEventStep(){let t=null;return e=>{if(\"start\"===e.action&&(t=this._screenToMap(e.screenStart)),null==t)return null;const i=this._screenToMap(e.screenEnd);return null!=i?{...e,mapStart:t,mapEnd:i}:null}}_vertexWithinPointerDistance(t,e){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));return null!=n&&z(n,e,i)}_getSnappingContext(t){const e=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new M({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:t,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=e?{value:e,elevationInfo:this.elevationInfo}:null})}};function z(t,e,i){const n=t.x-e.x,o=t.y-e.y;return n*n+o*o<=i}t([d()],L.prototype,\"_hideDefaultCursor\",void 0),t([d()],L.prototype,\"_snappingOperation\",void 0),t([d()],L.prototype,\"_snappingEnabled\",null),t([d({constructOnly:!0})],L.prototype,\"graphic\",void 0),t([d()],L.prototype,\"constraintsEnabled\",void 0),t([d()],L.prototype,\"constraintInfo\",void 0),t([d()],L.prototype,\"constraint\",null),t([d()],L.prototype,\"constraintZ\",void 0),t([d()],L.prototype,\"defaultZ\",void 0),t([d()],L.prototype,\"isDraped\",void 0),t([d({value:f})],L.prototype,\"drawingMode\",null),t([d({constructOnly:!0})],L.prototype,\"elevationDrawSurface\",void 0),t([d({constructOnly:!0})],L.prototype,\"elevationInfo\",void 0),t([d({constructOnly:!0,type:O})],L.prototype,\"labelOptions\",void 0),t([d({constructOnly:!0})],L.prototype,\"geometryType\",void 0),t([d({constructOnly:!0})],L.prototype,\"hasM\",void 0),t([d({constructOnly:!0})],L.prototype,\"hasZ\",void 0),t([d()],L.prototype,\"cursor\",void 0),t([d()],L.prototype,\"effectiveCursor\",null),t([d()],L.prototype,\"loading\",void 0),t([d({constructOnly:!0})],L.prototype,\"manipulators\",void 0),t([d({constructOnly:!0})],L.prototype,\"drawSurface\",void 0),t([d({constructOnly:!0})],L.prototype,\"segmentLabels\",void 0),t([d({constructOnly:!0})],L.prototype,\"snappingManager\",void 0),t([d({constructOnly:!0})],L.prototype,\"snappingVisualizer\",void 0),t([d()],L.prototype,\"snapToSceneEnabled\",void 0),t([d({readOnly:!0})],L.prototype,\"cursorVertex\",null),t([d({readOnly:!0})],L.prototype,\"visualizationCursorVertex\",null),t([d()],L.prototype,\"committableVertex\",null),t([d()],L.prototype,\"firstVertex\",void 0),t([d()],L.prototype,\"lastVertex\",void 0),t([d()],L.prototype,\"secondToLastVertex\",void 0),t([d()],L.prototype,\"updating\",null),t([d({constructOnly:!0})],L.prototype,\"view\",void 0),L=t([h(\"esri.views.draw.DrawOperation\")],L);export{L as DrawOperation,Z as defaultCursor,A as defaultLoadingCursor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{createScreenPointArray as e,createScreenPoint as t}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as r}from\"../../layers/graphics/dehydratedPoint.js\";import{clonePoint as s}from\"../../layers/graphics/hydratedFeatures.js\";import{getConvertedElevation as n,getZForElevationMode as i}from\"../../support/elevationInfoUtils.js\";import o from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";class c{constructor(e,t,r,s=null){this._elevationInfo=e,this.defaultZ=t,this._view=r,this._excludeGraphics=s}screenToMap(t){const{defaultZ:r,_view:s}=this,n=s.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x,t.y),this._elevationInfo,r??0,this._excludeGraphics);return null==r&&null!=n&&(n.z=void 0),n}mapToScreen(e){const t=r(e.x,e.y,n(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)}constrainZ(e){const{defaultZ:t}=this;return null!=t&&e.z!==t&&((e=s(e)).z=t),e}}class l{constructor(e,t,r=[]){this.view=e,this.elevationInfo=t,this.exclude=r}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude,excludeHud:!0});return null!=t&&(t.z=i(t,this.view,this.elevationInfo)),t}mapToScreen(e){let t=e;return null!=this.elevationInfo&&(t=r(e.x,e.y,n(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(t)}constrainZ(e){return e}}class h{constructor(e,t=!1,r=0){this.view=e,this.hasZ=t,this.defaultZ=r,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const s=e.toMap(t);return s.z=r,s}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=s(e)).z=t),e}}class u{screenToMap(e){const{x:t,y:r}=e;return new a({x:t,y:r,spatialReference:u.spatialReference})}mapToScreen(e){return t(e.x,e.y)}constrainZ(e){return e}}u.spatialReference=new o;export{c as ElevationDrawSurface,h as MapDrawSurface,l as SceneDrawSurface,u as ScreenDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{invert as r}from\"../../../core/libs/gl-matrix-2/math/mat2d.js\";import{create as e,clone as s}from\"../../../core/libs/gl-matrix-2/factories/mat2df64.js\";import{rotationTo as a,invert as o}from\"../../../core/libs/gl-matrix-2/math/quat.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{h as n,k as l,f as h,n as m,b as c,u as f}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Axis as d}from\"../../../geometry/support/Axis.js\";import u from\"../../../geometry/Point.js\";function g(t,r,e=null){return null!=e?[t,r,e]:[t,r]}function w(t,r,e=null){return null!=e?{x:t,y:r,z:e}:{x:t,y:r}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(r){return r.map((t=>this.mapToLocal(t))).filter(t)}get doUnnormalization(){return!1}}class W extends R{constructor(t,a,o=null){super(a),this._defaultZ=o,this.transform=e(),this.transformInv=e(),this.transform=s(t),r(this.transformInv,this.transform)}makeMapPoint(t,r){return g(t,r,this._defaultZ)}mapToLocal(t){return w(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return g(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.Z,this.tangentFrameForwardWS);const s=p();n(s,this.tangentFrameForwardWS,l(e,this.tangentFrameForwardWS)),h(this.localFrameRightWS,e,s),m(this.localFrameRightWS,this.localFrameRightWS),c(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),a(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),o(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return g(t,r,this.defaultZ)}mapToLocal(t){const r=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:t[0],y:t[1],spatialReference:this.spatialReference}),r),f(r,r,this.worldToLocalTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,new u({spatialReference:this.view.spatialReference}));return null!=e?w(e.x/this.scale,e.y/this.scale):null}localToMap(t){const r=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),r),f(r,r,this.localToWorldTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,new u({spatialReference:this.view.spatialReference}));return null!=e?g(e.x,e.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,g as makeMapPoint,w as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{abortMaybe as n,removeMaybe as e}from\"../../../core/maybe.js\";import{ignoreAbortErrors as t,debounce as o}from\"../../../core/promiseUtils.js\";import{watch as r}from\"../../../core/reactiveUtils.js\";import{pointEquals as i}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{clonePoint as l}from\"../../../layers/graphics/hydratedFeatures.js\";import{absoluteHeightElevationInfo as a}from\"../../../support/elevationInfoUtils.js\";import{EventPipeline as s}from\"../dragEventPipeline.js\";import{SnappingContext as u}from\"./SnappingContext.js\";import{TaskPriority as c,ImmediateTask as p}from\"../../support/Scheduler.js\";function f({predicate:o=(()=>!0),snappingManager:i,snappingContext:l,updatingHandles:u,useZ:c=!0}){const p=new s;if(null==i)return{snappingStep:[y,p],cancelSnapping:y};let f,Z=null,j=null,z=null;const T=()=>{Z=n(Z),i.doneSnapping(),j?.frameTask.remove(),j=null,f=e(f),z=null},k=d(i,c,p);let w=null,I=null,U=null;return{snappingStep:[n=>{if(!o(n))return n;const{action:e}=n;if(\"start\"===e){const{info:e}=n,t=m(i.view);if(j=g(l,n,t),j.context.selfSnappingZ=null,!c&&null!=e){const n=S(l.coordinateHelper,e.handle.component);null!=n&&(j.context.selfSnappingZ={value:n,elevationInfo:l.elevationInfo??a})}}if(null!=j){const{context:o,originalScenePos:l,originalPos:a}=j,{mapEnd:s,mapStart:p,scenePoints:d}=n,m=x(a,v(s,p)),g=v(p,a),S={...n,action:\"update\"},y=j.context,T=P(l,d),C=i.update({point:m,scenePoint:T,context:o});if(U=C,h(s,C,g,c),w=m,I=T,\"end\"!==e){const{frameTask:n}=j;null==Z&&(Z=new AbortController),z=e=>{u.addPromise(t(k({frameTask:n,event:S,context:y,point:m,scenePoint:T,delta:g,getLastState:()=>({point:w,scenePoint:I,updatePoint:e.forceUpdate?null:U})},Z.signal)))},z({forceUpdate:!1}),null==f&&(f=r((()=>i.options.effectiveEnabled),(()=>z?.({forceUpdate:!0}))))}}return\"end\"===e&&T(),n},p],cancelSnapping:n=>(T(),n)}}function d(n,e,t){return o((async({frameTask:o,point:r,scenePoint:l,context:a,event:s,delta:u,getLastState:c},p)=>{const f=await o.schedule((()=>n.snap({point:r,scenePoint:l,context:a,signal:p})),p);if(f.valid){let l=await o.schedule((()=>f.apply()),p);const d=c();null!=d.point&&r!==d.point&&(l=n.update({point:d.point,scenePoint:d.scenePoint,context:a})),null!=d.updatePoint&&i(l,d.updatePoint)||(h(s.mapEnd,l,u,e),t.execute(s))}}))}function m(n){return\"3d\"===n.type?n.resourceController.scheduler.registerTask(c.SNAPPING):p}function g(n,e,t){return{context:new u({editGeometryOperations:n.editGeometryOperations,elevationInfo:n.elevationInfo,pointer:n.pointer,vertexHandle:null!=e.info?e.info.handle:null,excludeFeature:n.excludeFeature,feature:n.feature,visualizer:n.visualizer}),originalPos:null!=e.snapOrigin?n.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,originalScenePos:null!=e.scenePoints?e.scenePoints.sceneStart:null,frameTask:t}}function x(n,[e,t,o]){const r=l(n);return r.x+=e,r.y+=t,r.hasZ&&(r.z+=o),r}function P(n,e){return null==n||null==e?null:x(n,v(e.sceneEnd,e.sceneStart))}function v(n,e){const t=n.hasZ&&e.hasZ?n.z-e.z:0;return[n.x-e.x,n.y-e.y,t]}function h(n,e,[t,o,r],i){n.x=e.x+t,n.y=e.y+o,i&&n.hasZ&&e.hasZ&&(n.z=e.z+r)}function S(n,e){if(!n.hasZ())return null;const t=e.vertices;let o=null;for(const r of t){const e=n.getZ(r.pos);if(null!=o&&null!=e&&Math.abs(e-o)>1e-6)return null;null==o&&(o=e)}return o}function y(n){return n}export{f as createSnapDragEventPipelineStep};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as n}from\"../../../core/maybe.js\";import{debounce as i}from\"../../../core/promiseUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as a,ImmediateTask as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=i((async(t,s,o,n)=>{const i=this._frameTask;if(null==i)return;const r=await i.schedule((()=>s.snap({...t,context:o,signal:n})),n);r.valid&&await i.schedule((()=>{this.stagedPoint=r.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),n)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(a.SNAPPING):l}destroy(){this._abortController=o(this._abortController),this._frameTask=n(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:n,scenePoint:i}=t,r=s.update({point:n,scenePoint:i,context:o});return this.stagedPoint=r,r}async snap(t,s,o){const{point:n,scenePoint:i}=t;return this.stagedPoint=s.update({point:n,scenePoint:i,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([r({constructOnly:!0})],p.prototype,\"view\",void 0),t([r()],p.prototype,\"stagedPoint\",null),t([r()],p.prototype,\"constrainResult\",void 0),t([r()],p.prototype,\"_stagedPoint\",void 0),p=t([e(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{valueInUnit as e,createLength as n,createAngle as t}from\"../../../core/quantityUtils.js\";import{verticalLengthUnitFromSpatialReference as r,lengthUnitFromSpatialReference as o}from\"../../../core/unitUtils.js\";import{f as i,c as u,g as l}from\"../../../chunks/vec32.js\";import{create as s}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as c}from\"../../../geometry/projection/projectVectorToVector.js\";import{geodesicCompatibleSpatialReference as f}from\"../../../geometry/support/geodesicUtils.js\";import{getConvertedElevationFromXYZ as a}from\"../../../support/elevationInfoUtils.js\";import{constraintOrSet as m,VerticalCylinderConstraint as d,HorizontalPlaneConstraint as p,GeodesicConstraint as v,PointConstraint as g,VerticalHalfPlaneConstraint as R}from\"../sketch/constraints.js\";import{fromPoint as j,toElevationAlignedDehydratedPoint as w,fromVec3 as h}from\"../sketch/normalizedPoint.js\";import{getDegreesGeographic as S,DirectionMode as I,directionBetweenPoints as U,pointFromDistanceAlongAzimuth as y}from\"../../support/angularMeasurementUtils.js\";function M(e,n,t,r,o,i){let u=\"geodesic\",l=f(t);const s=j(e,n,r);return s[2]=0,l&&c(s,t,s,l)||(u=\"euclidean\",l=t),{mode:u,view:n,elevationInfo:r,hasZ:o,directionMode:i,spatialReference:e.spatialReference,measurementSR:l,origin:s}}function b(n,t,r){if(null==t||null==n)return;const i=o(r.measurementSR);if(null==i)return;const u=V(n,r);if(null==u)return;const l=e(t,i);return new d(h(u),l)}function k(e,n,r,o){if(null==r||null==e)return;const i=V(e,o);if(null==i)return;const u=S(r),l=10,c=e=>{if(null==e)return;const n=s(),r=t(e,\"degrees\",\"geographic\");return y(n,i,o.measurementSR,l,r,o.mode)?new R(i,n):void 0},f=()=>{if(null!=n&&null!=e)return S(U(n,e))};switch(o.directionMode){case I.Absolute:return c(u);case I.Relative:{const e=f();if(null==e)return;return c(e+u)}case I.RelativeBilateral:{const e=f();if(null==e)return;return m([c(e+u),c(e-u)])}}}function Z(e,n){const t=z(e,n);return null!=t?new p(t):void 0}function x(n,t,r,o,i,u){if(null==r&&null==o&&null==i)return;if(null==t)return Z(o,u);const{view:l,elevationInfo:s,measurementSR:f}=u,a=j(t,l,s);if(!f||!c(a,t.spatialReference,D,f))return;const d=[D[0],D[1]],p=null!=r?e(r,\"meters\"):void 0,R=P(o,u),w=S(i),h=e=>{const n=new v(d,f,p,R,e);return null==p||null==e||null==R&&u.hasZ?n:new g(n.closestTo(a))};if(null==w)return h(void 0);const y=()=>{if(null!=n&&null!=t)return S(U(n,t))};switch(u.directionMode){case I.Absolute:return h(w);case I.Relative:{const e=y();if(null==e)return;return h(e+w)}case I.RelativeBilateral:{const e=y();if(null==e)return;return m([h(e+w),h(e-w)])}}}function A(e,n){return\"geodesic\"===n.mode?x(null,null,null,e,null,n):Z(e,n)}function B(e,n,t,r,o,i){return\"geodesic\"===i.mode?x(n,e,t,o,r,i):T([b(e,t,i),k(e,n,r,i),Z(o,i)])}function T(e){let n;for(const t of e)t&&(n=n?.intersect(t)??t);return n}function V(e,n){const{view:t,elevationInfo:r,measurementSR:o,origin:u,mode:l}=n,s=j(e,t,r);if(c(s,e.spatialReference,s,o))return\"geodesic\"!==l&&i(s,s,u),s}function q(e,n,t){const{view:r,measurementSR:o,spatialReference:i,origin:s,mode:f}=t,a=D;if(\"geodesic\"===f?u(a,e):l(a,e,s),c(a,o,a,i))return w(a,r,n,t)}function z(e,n){return C(e,n)?.value??void 0}function P(n,t){const r=C(n,t);return null!=r?e(r,\"meters\"):void 0}function C(t,{view:o,origin:i,elevationInfo:u,hasZ:l,measurementSR:s}){if(null==t||!l)return;const c=r(s);if(null==c)return;const[f,m]=i,d=e(t,c),p=\"3d\"===o?.type?a(o,f,m,d,s,u):d;return null!=p?n(p,c):void 0}const D=s();export{q as constraintSpaceToPoint,M as getConstraintContext,x as getGeodesicConstraint,A as getPointConstraint,B as getPolylineOrPolygonConstraint,T as intersectAll,V as pointToConstraintSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{getMetersPerUnitForSR as e}from\"../../core/unitUtils.js\";import{calculateTolerance as t}from\"../../renderers/support/clickToleranceUtils.js\";import n from\"../../geometry/Extent.js\";function r(t,r,i,a=new n){let o=0;if(\"2d\"===i.type)o=r*(i.resolution??0);else if(\"3d\"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:e(a)/e(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,t(),i,a).intersects(n)}const a=new n;export{r as createQueryGeometry,i as intersectsDrapedGeometry};\n"],"names":["t","r","e","i","u","_len","arguments","length","f","Array","_key","this","n","apply","xoffset","Math","max","abs","yoffset","_t$stops","stops","o","size","filter","type","map","maxSize","minSize","s","floor","renderer","pointerType","visualVariables","symbol","_n$uniqueValueInfos","uniqueValueInfos","forEach","classBreakInfos","constructor","_ref","consumesClicks","grabbableForEvent","events","interactive","selectable","cursor","grabbable","destroy","intersectionDistance","attach","detach","onElevationChange","onViewChange","L","EventedMixin","super","_createOperationCompleted","_hideDefaultCursor","_pointerDownStates","Set","_stagedScreenPoint","_stagedPointerType","_stagedPointerId","_updatingHandles","m","constraintsEnabled","constraintInfo","_getPointConstraint","G","_getPolylineOrPolygonConstraint","k","constraintZ","defaultZ","isDraped","labelOptions","O","loading","snapToSceneEnabled","firstVertex","lastVertex","secondToLastVertex","elevationInfo","_","hasZ","initialize","geometryType","view","spatialReference","state","viewingMode","v","Local","coordinateHelper","b","hasM","_editGeometryOperations","V","S","_snappingOperation","I","addHandles","p","stagedPoint","constraint","_this$constraintInfo","_this$constraintInfo2","snappingOptions","forceDisabled","w","constraintsActive","distance","direction","_onKeyboardBasedChange","_processCursor","_screenToMap","sync","equals","viewpoint","_activeComponent","P","data","components","push","segmentLabels","context","editGeometryOperations","enabled","visible","c","on","_this$coordinateHelpe","_this$_activeComponen","_this$coordinateHelpe2","_this$_activeComponen2","_this$coordinateHelpe3","_this$_activeComponen3","vertices","componentIndex","vertexIndex","index","coordinates","vectorToArray","pos","vectorToDehydratedPoint","getFirstVertex","g","getLastVertex","edges","at","leftVertex","cursorVertex","emit","added","updated","removed","l","_manipulator","x","drawingMode","_snappingEnabled","manipulators","add","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","effectiveCursor","_ref2","E","_this$view$inputManag","inputManager","latestPointerType","_getSnappingContext","snappingManager","addPromise","a","snapAgainNearPreviousMapPoint","options","effectiveEnabled","_requiresScenePoint","_updateAndGetEffectiveDrawSurface","drawSurface","canRedo","canUndo","committedVertices","elevation","_set","isCompleted","numCommittedVertices","_get","visualizationCursorVertex","committableVertex","y","updating","geometryIncludingUncommittedVertices","slice","pointToArray","cancel","complete","aborted","commitStagedVertex","abort","appendVertex","pointToVector","_this$snappingManager","doneSnapping","onInputEvent","pointerId","delete","_onPointerMove","_onHold","redo","undo","_this$_updateAndGetEf","_this$_updateAndGetEf2","_this$segmentLabels","constrainZ","_snapToClosingVertex","_applyConstraints","set","operation","_mapToScreen","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","C","snappingStep","cancelSnapping","D","predicate","snappingContext","M","feature","graphic","pointer","visualizer","snappingVisualizer","updatingHandles","useZ","next","_screenToMapDragEventStep","action","mapStart","T","mapEnd","_drawAtFixedElevation","_this$elevationInfo","elevationDrawSurface","mode","_ref3","getZ","_this$_updateAndGetEf3","mapToScreen","mapPoint","stopPropagation","button","dragging","screenPoint","has","grabbing","_processCursorMovementRelativeToSurface","_this$drawSurface","screenToMap","snap","point","scenePoint","j","closestTo","H","z","_this$_updateAndGetEf4","screenStart","screenEnd","_this$elevationDrawSu","selfSnappingZ","value","d","prototype","constructOnly","readOnly","h","undefined","_elevationInfo","_view","_excludeGraphics","sceneIntersectionHelper","intersectElevationFromScreen","toScreen","exclude","toMap","excludeHud","R","mapToLocalMultiple","mapToLocal","doUnnormalization","W","_defaultZ","transform","transformInv","makeMapPoint","localToMap","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","scale","resolution","referenceMapPoint","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","X","Y","Z","fromRenderCoords","F","vertexHandle","excludeFeature","_j","frameTask","remove","async","event","delta","getLastState","schedule","signal","valid","update","updatePoint","execute","U","info","resourceController","scheduler","registerTask","SNAPPING","handle","originalPos","snapOrigin","originalScenePos","scenePoints","sceneStart","_l$elevationInfo","component","sceneEnd","AbortController","forceUpdate","_z","_ref4","constrainResult","_snapPoints","_frameTask","_abortController","_stagedPoint","_snap","_this$view","directionMode","measurementSR","origin","Absolute","Relative","RelativeBilateral","_C$value","_C","A","B","_n$intersect","_n","intersect","q","_i$resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","min","ymin","xmax","ymax","intersects"],"sourceRoot":""}