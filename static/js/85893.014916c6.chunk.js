"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[85893],{62315:(e,t,r)=>{r.d(t,{A:()=>m});var i=r(35143),n=(r(35238),r(69098)),o=r(73582),s=r(42553),a=r(30726),c=r(46053),l=r(21403),d=(r(47249),r(81806),r(85842)),u=r(40565),p=r(37546),h=r(13904);let g=class extends((0,n.O)(s.oY)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&(0,a.CM)(this.position,e.position)&&this.width===e.width&&this.height===e.height}};(0,i._)([(0,c.MZ)({readOnly:!0,json:{read:!1,write:!0}})],g.prototype,"type",void 0),(0,i._)([(0,c.MZ)({type:h.A}),(0,p.P)()],g.prototype,"position",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,p.P)(),(0,l.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],g.prototype,"heading",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,p.P)(),(0,l.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],g.prototype,"tilt",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0}),(0,p.P)()],g.prototype,"width",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0}),(0,p.P)()],g.prototype,"height",void 0),g=(0,i._)([(0,d.$)("esri.analysis.SlicePlane")],g);const m=g},29201:(e,t,r)=>{r.d(t,{I:()=>_,b:()=>I});var i,n,o,s=r(57528),a=r(34981),c=r(26917),l=r(59395),d=r(81993),u=r(90235),p=r(80883),h=r(3799),g=r(21390),m=r(64839),f=r(32307),v=r(70367),b=r(10773),y=r(66470);function I(e){const t=new f.N5,{vertex:r,fragment:I}=t;return(0,h.NB)(r,e),t.include(l.d,e),t.attributes.add(y.r.POSITION,"vec3"),t.attributes.add(y.r.UV0,"vec2"),e.perspectiveInterpolation&&t.attributes.add(y.r.PERSPECTIVEDIVIDE,"float"),t.varyings.add("vpos","vec3"),e.multipassEnabled&&t.varyings.add("depth","float"),r.code.add((0,m.H)(i||(i=(0,s.A)(["\n    void main(void) {\n      vpos = position;\n      ","\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ","\n    }\n  "])),e.multipassEnabled?"depth = (view * vec4(vpos, 1.0)).z;":"",e.perspectiveInterpolation?"gl_Position *= perspectiveDivide;":"")),t.include(c.HQ,e),t.include(d.Q,e),I.uniforms.add(new v.N("tex",(e=>e.texture)),new g.m("opacity",(e=>e.opacity))),t.varyings.add("vTexCoord","vec2"),e.output===a.V.Alpha?I.code.add((0,m.H)(n||(n=(0,s.A)(["\n    void main() {\n      discardBySlice(vpos);\n      ","\n\n      float alpha = texture(tex, vTexCoord).a * opacity;\n      if (alpha  < ",") {\n        discard;\n      }\n\n      fragColor = vec4(alpha);\n    }\n    "])),e.multipassEnabled?"terrainDepthTest(depth);":"",m.H.float(u.H))):(I.include(p.a),I.code.add((0,m.H)(o||(o=(0,s.A)(["\n    void main() {\n      discardBySlice(vpos);\n      ","\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ",") {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ","\n    }\n    "])),e.multipassEnabled?"terrainDepthTest(depth);":"",m.H.float(u.H),e.transparencyPassType===b.y.Color?"fragColor = premultiplyAlpha(fragColor);":""))),t}const _=Object.freeze(Object.defineProperty({__proto__:null,build:I},Symbol.toStringTag,{value:"Module"}))},48678:(e,t,r)=>{r.d(t,{S:()=>h,b:()=>p});var i,n,o=r(57528),s=r(3799),a=r(58350),c=r(21390),l=r(64839),d=r(32307),u=r(66470);function p(e){const t=new d.N5,{vertex:r,fragment:p,attributes:h,varyings:g}=t;return(0,s.NB)(r,e),h.add(u.r.POSITION,"vec3"),h.add(u.r.UV0,"vec2"),g.add("vUV","vec2"),r.code.add((0,l.H)(i||(i=(0,o.A)(["void main(void) {\nvUV = uv0;\ngl_Position = proj * view * vec4(position, 1.0);\n}"])))),p.uniforms.add(new a.E("backgroundColor",(e=>e.backgroundColor)),new a.E("gridColor",(e=>e.gridColor)),new c.m("gridWidth",(e=>e.gridWidth))),p.code.add((0,l.H)(n||(n=(0,o.A)(["void main() {\nconst float LINE_WIDTH = 1.0;\nvec2 uvScaled = vUV * gridWidth;\nvec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\nvec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\ngrid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\ngrid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\nfloat gridFade = max(grid.x, grid.y);\nfloat gridAlpha = gridColor.a * gridFade;\nfragColor =\nvec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\nvec4(gridColor.rgb, 1.0) * gridAlpha;\n}"])))),t}const h=Object.freeze(Object.defineProperty({__proto__:null,build:p},Symbol.toStringTag,{value:"Module"}))},37546:(e,t,r)=>{r.d(t,{P:()=>h});var i=r(50076),n=r(53514),o=r(24387),s=r(90534),a=r(49723),c=r(19258),l=r(49140),d=r(46053),u=r(95474),p=r(79453);function h(e){var t;const r=null!==(t=null===e||void 0===e?void 0:e.origins)&&void 0!==t?t:[void 0];return(t,i)=>{const n=function(e,t,r){var i;if("resource"===(null===e||void 0===e?void 0:e.type))return function(e,t,r){const i=(0,c.z4)(t,r);return{type:String,read:(e,t,r)=>{const n=(0,p.r)(e,t,r);return i.type===String?n:"function"==typeof i.type?new i.type({url:n}):void 0},write:{writer(t,n,a,c){if(null===c||void 0===c||!c.resources)return"string"==typeof t?void(n[a]=(0,p.t)(t,c)):void(n[a]=t.write({},c));const d=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),h=(0,p.t)(d,{...c,verifyItemRelativeUrls:null!==c&&void 0!==c&&c.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},p.M.NO),v=i.type!==String&&(!(0,o.H)(this)||(null===c||void 0===c?void 0:c.origin)&&this.originIdOf(r)>(0,l.aB)(c.origin)),b={object:this,propertyName:r,value:t,targetUrl:h,dest:n,targetPropertyName:a,context:c,params:e};null!==c&&void 0!==c&&c.portalItem&&h&&!(0,s.oP)(h)?v&&null!==e&&void 0!==e&&e.contentAddressed?g(b):v?function(e){var t;const{context:r,targetUrl:i,params:n,value:o,dest:a,targetPropertyName:c}=e;if(!r.portalItem)return;const l=r.portalItem.resourceFromPath(i),d=f(o,i,r),p=(0,u.n)(d),h=(0,s.Zo)(l.path),v=null!==(t=null===n||void 0===n?void 0:n.compress)&&void 0!==t&&t;p===h?(r.resources&&m({...e,resource:l,content:d,compress:v,updates:r.resources.toUpdate}),a[c]=i):g(e)}(b):function(e){let{context:t,targetUrl:r,dest:i,targetPropertyName:n}=e;t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),i[n]=r)}(b):null!==c&&void 0!==c&&c.portalItem&&(null==h||null!=(0,p.i)(h)||(0,s.w8)(h)||v)?g(b):n[a]=h}}}}(e,t,r);switch(null!==(i=null===e||void 0===e?void 0:e.type)&&void 0!==i?i:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=p.b;return{read:e,write:t}}}}(e,t,i);for(const e of r){const r=(0,d.rM)(t,e,i);for(const e in n)r[e]=n[e]}}}function g(e){var t,r,o,c;const{targetUrl:l,params:d,value:h,context:g,dest:v,targetPropertyName:b}=e;if(!g.portalItem)return;const y=(0,p.p)(l),I=f(h,l,g);if(null!==d&&void 0!==d&&d.contentAddressed&&"json"!==I.type)return void(null===(t=g.messages)||void 0===t||t.push(new i.A("persistable:contentAddressingUnsupported",'Property "'.concat(b,'" is trying to serializing a resource with content of type ').concat(I.type," with content addressing. Content addressing is only supported for json resources."),{content:I})));const _=null!==d&&void 0!==d&&d.contentAddressed&&"json"===I.type?(0,n.d)(I.jsonString):null!==(r=null===y||void 0===y?void 0:y.filename)&&void 0!==r?r:(0,a.lk)(),w=(0,s.fj)(null!==(o=null===d||void 0===d?void 0:d.prefix)&&void 0!==o?o:null===y||void 0===y?void 0:y.prefix,_),A="".concat(w,".").concat((0,u.n)(I));if(null!==d&&void 0!==d&&d.contentAddressed&&g.resources&&"json"===I.type){var P;const e=null!==(P=g.resources.toKeep.find((e=>{let{resource:t}=e;return t.path===A})))&&void 0!==P?P:g.resources.toAdd.find((e=>{let{resource:t}=e;return t.path===A}));if(e)return void(v[b]=e.resource.itemRelativeUrl)}const O=g.portalItem.resourceFromPath(A);(0,s.w8)(l)&&g.resources&&g.resources.pendingOperations.push((0,s.tk)(l).then((e=>{O.path="".concat(w,".").concat((0,u.n)({type:"blob",blob:e})),v[b]=O.itemRelativeUrl})).catch((()=>{})));const M=null!==(c=null===d||void 0===d?void 0:d.compress)&&void 0!==c&&c;g.resources&&m({...e,resource:O,content:I,compress:M,updates:g.resources.toAdd}),v[b]=O.itemRelativeUrl}function m(e){let{object:t,propertyName:r,updates:i,resource:n,content:o,compress:s}=e;i.push({resource:n,content:o,compress:s,finish:e=>{!function(e,t,r){"string"==typeof e[t]?e[t]=r.url:e[t].url=r.url}(t,r,e)}})}function f(e,t,r){return"string"==typeof e?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(r))}}},24387:(e,t,r)=>{function i(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,{H:()=>i})},95474:(e,t,r)=>{r.d(t,{n:()=>n});var i=r(90534);function n(e){return o[function(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:function(e){const t=(0,i.Zo)(e);return c[t]||s}(e.url)}(e)]||a}const o={},s="text/plain",a=o[s],c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const l in c)o[c[l]]=l},67169:(e,t,r)=>{r.d(t,{b:()=>m});var i=r(69539),n=r(68134),o=r(9392),s=r(93131),a=r(77654),c=r(56121),l=r(38317),d=r(91175),u=r(62577),p=r(45463),h=r(425),g=r(76336);class m extends c.q{constructor(e,t){const r=(0,a.wZ)(t),o=r?s.aj:s.YG,c=o*s.UF,d=s.YG,u={renderOccluded:p.m$.OccludeAndTransparent,isDecoration:!0},g=new h.W({...u,width:o}),m=new h.W({...u,width:c}),v=new h.W({...u,width:d});super({view:e,...l.MO,...f({isCorner:r,unfocusedMaterial:g,focusedMaterial:m,outlineMaterial:v})}),this._themeHandle=(0,n.watch)((()=>e.effectiveTheme.accentColor),(e=>{const t=i.A.toUnitRGBA(e);g.setParameters({color:t}),m.setParameters({color:t}),v.setParameters({color:t})}),n.initial)}destroy(){this._themeHandle.remove(),super.destroy()}}function f(e){let{isCorner:t,unfocusedMaterial:r,focusedMaterial:i,outlineMaterial:n}=e;const c=t?[(0,o.fA)(1,0,0),(0,o.fA)(0,0,0),(0,o.fA)(0,1,0)]:[(0,o.fA)(1,0,0),(0,o.fA)(-1,0,0)];return{renderObjects:[new d.M((0,u.Z8)(r,c),g.p7.Unfocused|a.oc),new d.M((0,u.Z8)(i,c),g.p7.Focused|a.oc),new d.M((0,u.Z8)(n,c),a.zm)],collisionType:{type:"line",paths:[c]},radius:t?s.E3:s.sd,state:a.oc}}},78136:(e,t,r)=>{r.d(t,{Q:()=>b});var i=r(69539),n=r(59784),o=r(68134),s=r(77654),a=r(56121),c=r(38317),l=r(91175),d=r(50468),u=r(51799),p=r(62577),h=r(45463),g=r(66470),m=r(77447),f=r(425),v=r(76336);class b extends a.q{constructor(e,t){const r=new m.r({transparent:!0,writeDepth:!1,renderOccluded:h.m$.Opaque,isDecoration:!0}),s=c.eO.calloutWidth,a=new f.W({width:s,renderOccluded:h.m$.OccludeAndTransparent,isDecoration:!0});super({view:e,...y({imageMaterial:r,calloutMaterial:a})}),this._currentTexture=null,this._themeHandle=(0,o.watch)((()=>e.effectiveTheme.accentColor),(e=>{const o=(0,n._L)(e,.5),s=(0,n.bJ)(e),c=this._currentTexture,l=t(o,s);r.setParameters({textureId:l.texture.id}),a.setParameters({color:i.A.toUnitRGBA(e)}),this._currentTexture=l,null===c||void 0===c||c.release()}),o.initial)}destroy(){var e;this._themeHandle.remove(),null!==(e=this._currentTexture)&&void 0!==e&&e.release(),super.destroy()}}function y(e){let{imageMaterial:t,calloutMaterial:r}=e;const{focusMultiplier:i,calloutLength:n,discRadius:o}=c.eO,a=o*i,h=(e,t)=>{const r=[0,1,2,2,3,0];return new u.V(t,[[g.r.POSITION,new d.n([n-e,-e,0,n+e,-e,0,n+e,e,0,n-e,e,0],r,3,!0)],[g.r.UV0,new d.n([0,0,1,0,1,1,0,1],r,2,!0)]])},m=(0,p.Z8)(r,[[0,0,0],[n-o,0,0]]),f=(0,p.Z8)(r,[[0,0,0],[n-a,0,0]]),b=s.s5;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[n,0,0]},focusMultiplier:i,radius:o,renderObjects:[new l.M(h(o,t),v.p7.Unfocused|b),new l.M(m,v.p7.Unfocused|b),new l.M(h(a,t),v.p7.Focused|b),new l.M(f,v.p7.Focused|b)],state:b}}},20205:(e,t,r)=>{r.d(t,{r:()=>i,x:()=>P});var i,n,o=r(69539),s=r(59784),a=r(68134),c=r(34761),l=r(13191),d=r(60008),u=r(20664),p=r(9392),h=r(75762),g=r(93131),m=r(77654),f=r(56121),v=r(91175),b=r(83490),y=r(62577),I=r(45463),_=r(76956),w=r(425),A=r(76336);(n=i||(i={}))[n.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",n[n.CENTER_ON_ARROW=1]="CENTER_ON_ARROW";class P extends f.q{constructor(e,t){const r=new w.W({width:1,renderOccluded:I.m$.OccludeAndTransparent,isDecoration:!0}),i=new _.v({cullFace:b.s2.Back,renderOccluded:I.m$.Opaque,isDecoration:!0}),n=new _.v({cullFace:b.s2.Back,renderOccluded:I.m$.Opaque,isDecoration:!0}),c=new _.v({cullFace:b.s2.Back,renderOccluded:I.m$.Opaque,isDecoration:!0}),l=new _.v({writeDepth:!1,cullFace:b.s2.Front,renderOccluded:I.m$.Transparent,isDecoration:!0});super({view:e,...O({offsetMode:t,tubeMaterial:i,tipMaterial:n,capMaterial:c,outlineMaterial:l,calloutMaterial:r})}),this._themeHandle=(0,a.watch)((()=>e.effectiveTheme.accentColor),(e=>{const t=(0,s.bJ)(e),a=o.A.toUnitRGBA(e),d=o.A.toUnitRGBA(t),u=o.A.toUnitRGBA(o.A.blendColors(t,e,.4)),p=o.A.toUnitRGBA(o.A.blendColors(t,e,.14));r.setParameters({color:a}),i.setParameters({color:p}),n.setParameters({color:d}),c.setParameters({color:u}),l.setParameters({color:a})}),a.initial)}destroy(){this._themeHandle.remove(),super.destroy()}}function O(e){let{offsetMode:t,tubeMaterial:r,tipMaterial:n,capMaterial:o,outlineMaterial:s,calloutMaterial:a}=e;const c=t===i.CENTER_ON_CALLOUT?g.I4:0,l=[(0,p.fA)(c,0,-g.vA/2),(0,p.fA)(c,0,g.vA/2)],d=function(e,t){const r=(0,u.f)((0,p.vt)(),e[e.length-1],e[e.length-2]);if((0,u.n)(r,r),(0,u.h)(r,r,g.xj),(0,u.g)(r,r,e[e.length-1]),t){const t=(0,u.f)((0,p.vt)(),e[0],e[1]);return(0,u.n)(t,t),(0,u.h)(t,t,g.xj),(0,u.g)(t,t,e[0]),[t,...e,r]}return[...e,r]}(l,!0),h=M({vertices:l,padding:0,materials:{tube:r,tip:n,cap:o}}),f=M({vertices:l,padding:g.D9,materials:{tube:s,tip:s,cap:s}}),b=(0,y.Z8)(a,[[c,0,0],[c-g.I4,0,0]]),I=(0,y.Z8)(a,[[c,0,0],[c-g.I4,0,0]]);return{renderObjects:[...h.normal.map((e=>new v.M(e,A.p7.Unfocused|m.s5))),...f.normal.map((e=>new v.M(e,A.p7.Unfocused|m.s5))),new v.M(b,A.p7.Unfocused|m.s5|m.xM),...h.focused.map((e=>new v.M(e,A.p7.Focused|m.s5))),...f.focused.map((e=>new v.M(e,A.p7.Focused|m.s5))),new v.M(I,A.p7.Focused|m.s5|m.xM)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[d]},collisionPriority:1,radius:g.rb,state:m.s5}}function M(e){let{vertices:t,padding:r,materials:i}=e;const n=e=>{const n=t.slice(0),o=(0,u.f)(h.rq.get(),n[0],n[1]);(0,u.n)(o,o);const s=(0,u.f)(h.rq.get(),n[n.length-1],n[n.length-2]);if((0,u.n)(s,s),r>0){const e=(0,u.h)((0,p.vt)(),s,-r);n[n.length-1]=(0,u.g)(e,e,n[n.length-1]);const t=(0,u.h)((0,p.vt)(),o,-r);n[0]=(0,u.g)(t,t,n[0])}const a=e?g.cE:1,m=g.xj*a,f=g.rb*a,v=(0,c.D_)(h.Rc.get());if(r>0){const e=m/4,t=(0,u.s)(h.rq.get(),0,e,0),i=1+r/e;(0,c.Tl)(v,v,t),(0,c.hs)(v,v,(0,u.s)(h.rq.get(),i,i,i)),(0,c.Tl)(v,v,(0,u.h)(t,t,-1/i))}const b=(0,c.D_)((0,l.vt)()),I=(0,p.fA)(0,1,0),_=(0,c.I0)((0,l.vt)(),(0,d.Yc)(h.J8.get(),I,s));_[12]=n[n.length-1][0],_[13]=n[n.length-1][1],_[14]=n[n.length-1][2],(0,c.lw)(_,_,v);const w=i.tube,A=function(e,t,r){const i=[],n=12;for(let o=0;o<n;o++){const t=o/n*2*Math.PI;i.push([Math.cos(t)*e,Math.sin(t)*e])}return(0,y.Nq)(r,i,t,[],[],!1)}(g.qD*(e?g.FF:1)+r,n,w);A.transformation=b;const P=[A],O=i.tip,M=(0,y.EE)(O,m,f,24,!1,!1,!0);M.transformation=_,P.push(M);const C=i.cap,T=(0,y.EE)(C,m,f,24,!1,!0,!1);T.transformation=_,P.push(T);const N=(0,c.I0)((0,l.vt)(),(0,d.Yc)(h.J8.get(),I,o));return N[12]=n[0][0],N[13]=n[0][1],N[14]=n[0][2],(0,c.lw)(N,N,v),P.push(M.instantiate({transformation:N})),P.push(T.instantiate({transformation:N})),P};return{normal:n(!1),focused:n(!0)}}},56332:(e,t,r)=>{r.d(t,{E$:()=>n,Or:()=>o,qb:()=>s});var i=r(59784);const n=(0,r(55855).fA)(0,0,0,.04);function o(e){let{accentColor:t}=e;return(0,i.f6)(t,.5)}function s(e){let{accentColor:t}=e;return(0,i.f6)(t,.7)}},93131:(e,t,r)=>{r.d(t,{Bw:()=>f,D9:()=>A,DG:()=>u,E3:()=>C,FF:()=>c,Hb:()=>o,I4:()=>_,Jj:()=>M,Ll:()=>h,NT:()=>v,Sw:()=>N,UF:()=>a,YG:()=>O,ZR:()=>g,aE:()=>E,aj:()=>P,c1:()=>d,cE:()=>l,cO:()=>m,lS:()=>p,qD:()=>b,rb:()=>y,sd:()=>T,vA:()=>w,vo:()=>s,xj:()=>I});var i=r(81806),n=r(15941);const o=(0,i.A)("mac")?"Meta":"Control",s="Shift",a=2,c=1.15,l=1.15,d=2500,u=.02,p=Math.cos((0,n.kU)(45)),h=Math.cos((0,n.kU)(5)),g=.95,m=.3,f=2,v=1,b=3,y=11,I=22.5,_=40,w=48,A=2.25,P=4,O=1,M=.3,C=6,T=4,N=1600,E=.4},77654:(e,t,r)=>{r.d(t,{s5:()=>_e,xM:()=>Pe,CB:()=>we,pu:()=>Ae,h7:()=>ne,Yx:()=>he,DI:()=>re,PI:()=>fe,tn:()=>me,FK:()=>ee,W6:()=>oe,r_:()=>ie,wZ:()=>ge,fE:()=>Ne,d0:()=>ve,Md:()=>ye,bR:()=>Ie,oc:()=>Ce,zm:()=>Te,xQ:()=>te,gi:()=>ae,d8:()=>ce,Oj:()=>le,vJ:()=>se});r(35238);var i=r(62315),n=(r(81806),r(76460)),o=r(15941),s=r(76931),a=r(34761),c=r(20664),l=r(9392),d=r(9624),u=r(5568),p=r(79650),h=r(13927),g=r(95925),m=r(96190),f=r(75762),v=r(56332),b=r(93131),y=r(17430),I=r(38317),_=r(7256),w=r(43047),A=r(55855),P=r(32314),O=r(62577),M=r(45463),C=r(34981),T=r(99415),N=r(59696),E=r(77730),S=r(82809),R=r(86401),x=r(63928),D=r(64839),j=r(16506),L=r(42693),U=r(32119),W=r(28584),H=r(48678),Z=r(93345),G=r(57162);class k extends D.Y{constructor(){super(...arguments),this.backgroundColor=(0,A.fA)(1,0,0,.5),this.gridColor=(0,A.fA)(0,1,0,.5),this.gridWidth=4}}class z extends L.w{initializeProgram(e){return new W.B(e.rctx,z.shader.get().build(this.configuration),U.D)}initializePipeline(){return(0,G.Ey)({blending:(0,G.p3)(Z.dn.ONE,Z.dn.ONE,Z.dn.ONE_MINUS_SRC_ALPHA,Z.dn.ONE_MINUS_SRC_ALPHA),depthTest:{func:Z.MT.LESS},colorWrite:G.wE})}}z.shader=new j.$(H.S,(()=>r.e(3744).then(r.bind(r,3744))));class q extends x.W{constructor(e){super(e,new F),this.produces=new Map([[E.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>e===C.V.Color]]),this._configuration=new T.K}createBufferWriter(){return new S.Z(R.zK)}createGLMaterial(e){return new V(e)}getConfiguration(){return this._configuration}}class V extends N.A{constructor(e){super(e),this.ensureTechnique(z,null)}beginSlot(){return this.technique}}class F extends k{constructor(){super(...arguments),this.renderOccluded=M.m$.Occlude,this.isDecoration=!1}}class B extends P.X{constructor(e){super(e),this._material=null,this._renderOccluded=M.m$.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,A.fA)(1,0,0,1),this._backgroundColor=(0,A.fA)(1,0,0,1),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(e){this._gridWidth!==e&&(this._gridWidth=e,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){(0,w.c)(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){(0,w.c)(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new q(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){null!=this._material&&e(this._material)}createGeometries(e){if(null!=this._material){const t=(0,O.Gj)(this._material);e.addGeometry(t)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){null!=this._material&&this._material.setParameters(this._materialParameters)}}var Y,X,J=r(74487),Q=r(37431),$=r(76336),K=r(13904);r(76797);function ee(e,t,r,i,n,o,s,a){return function(e,t,r,i,n,o){const s=(0,c.k)(e,t),a=f.rq.get(),l=f.rq.get();switch(i===Ae.HORIZONTAL_OR_VERTICAL?Math.abs(s)>b.lS?Ae.HORIZONTAL:Ae.VERTICAL:i){case Ae.VERTICAL:{const i=Math.abs(s)<=b.Ll?e:r.viewUp;(0,c.b)(a,i,t),(0,c.c)(l,t);break}case Ae.HORIZONTAL:(0,c.b)(a,r.viewUp,t),(0,c.b)(l,t,a);break;case Ae.TILTED:{const i=Math.abs(s)<=b.Ll?t:r.viewUp;(0,c.b)(a,i,e),(0,c.b)(l,e,a);break}}const d=(0,c.b)(f.rq.get(),a,l);(0,c.k)(d,r.viewForward)>0&&(0,c.h)(l,l,-1),(0,c.n)(n,a),(0,c.n)(o,l)}(t,s.worldUpAtPosition(e,f.rq.get()),n,o,a.basis1,a.basis2),(0,c.h)(a.basis1,a.basis1,r),(0,c.h)(a.basis2,a.basis2,i),(0,c.c)(a.origin,e),(0,h.mR)(a.basis2,a.basis1,a.origin,a.plane),a}function te(e,t,r,i,n,o){const s=(0,c.c)(f.rq.get(),n.origin);(0,c.g)(s,s,(0,c.h)(f.rq.get(),n.basis1,e.direction[0]<0?1:-1)),(0,c.g)(s,s,(0,c.h)(f.rq.get(),n.basis2,e.direction[1]<0?1:-1));const a=(0,c.l)(n.basis1),l=(0,c.l)(n.basis2),d=(0,c.f)(f.rq.get(),r,s),u=(0,c.f)(f.rq.get(),t,s);let h=0,g=0;if(ge(e)){const t=he(n),r=he(o);h=a-.5*e.direction[0]*(0,c.k)(n.basis1,u)/a,g=l-.5*e.direction[1]*(0,c.k)(n.basis2,u)/l;const i=r/t;h*=i,g*=i}const m=h+.5*e.direction[0]*(0,c.k)(n.basis1,d)/a,v=g+.5*e.direction[1]*(0,c.k)(n.basis2,d)/l,y=(0,c.h)(f.rq.get(),n.basis1,m/a),I=(0,c.h)(f.rq.get(),n.basis2,v/l);(m<=0||ue(o.origin,y,i)<=b.Sw)&&(0,c.c)(y,o.basis1),(v<=0||ue(o.origin,I,i)<=b.Sw)&&(0,c.c)(I,o.basis2);const _=(0,c.c)(f.rq.get(),s);return(0,c.g)(_,_,(0,c.h)(f.rq.get(),y,e.direction[0]<0?-1:1)),(0,c.g)(_,_,(0,c.h)(f.rq.get(),I,e.direction[1]<0?-1:1)),(0,p.f)(_,y,I,o)}function re(e,t){return b.aE*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function ie(e,t,r,i){const n=(0,c.b)(f.rq.get(),t,r);return(0,c.b)(n,n,t),(0,h.O_)(e,n,i)}function ne(e,t){return(0,I.wQ)(e.basis1,e.basis2,e.origin,t)}function oe(e,t,r,i){const n=t.worldUpAtPosition(e.origin,f.rq.get()),o=f.rq.get();switch(r){case we.HEADING:(0,c.c)(o,n);break;case we.TILT:(0,c.c)(o,e.basis1)}return(0,h.O_)(e.origin,o,i)}function se(e,t,r,i){const n=de(r,Y.NEGATIVE_X),o=f.Rc.get();(0,a.Qr)(o,t,n.edge*Math.PI/2);const d=(0,c.n)(f.rq.get(),n.basis);let u=(0,c.h)(f.rq.get(),d,n.direction*i.computeScreenPixelSizeAt(n.position)*b.I4);(0,c.g)(u,u,n.position);const h=i.projectToRenderScreen(u,(0,s.sc)(f.rq.get())),g=function(e,t){const[r,i,n,o]=e.viewport,s=Math.min(n,o)/16;let a=!0;return t[0]<r+s?(t[0]=r+s,a=!1):t[0]>r+n-s&&(t[0]=r+n-s,a=!1),t[1]<i+s?(t[1]=i+s,a=!1):t[1]>i+o-s&&(t[1]=i+o-s,a=!1),a}(i,h);(0,Q.RI)(i,h,Oe),(0,c.n)(Oe.direction,Oe.direction);const m=f.rq.get();!g&&(0,p.i)(r,Oe,m)&&(u=m),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=(0,l.o8)(u),g?e.state|=Pe:e.state&=~Pe}function ae(e,t,r,i){const n=(0,c.l)(i.basis1),o=(0,c.l)(i.basis2),s=pe(i),l=he(i),d=(0,c.s)(f.rq.get(),0,0,0);(0,c.g)(d,(0,c.h)(f.rq.get(),i.basis1,t.direction[0]),(0,c.h)(f.rq.get(),i.basis2,t.direction[1])),(0,c.g)(d,i.origin,d);let u=0,p=1;if(ge(t))1===t.direction[0]&&-1===t.direction[1]?u=Me:1===t.direction[0]&&1===t.direction[1]?u=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(u=3*Math.PI/2),p=l;else{const e=0!==t.direction[0]?1:2;u=1===e?Me:0,p=(1===e?o:n)-s}const h=(0,a.N9)(f.Rc.get(),u);(0,a.hs)(h,h,(0,c.s)(f.rq.get(),p,p,p)),(0,a.lw)(h,r,h),h[12]=0,h[13]=0,h[14]=0,e.modelTransform=h,e.renderLocation=d}function ce(e,t,r,i){const n=i.worldUpAtPosition(r.origin,f.rq.get()),o=de(r,Y.POSITIVE_X),s=(0,a.N9)(f.Rc.get(),o.edge*Math.PI/2);(0,a.eL)(s,s,-be(r,n)),(0,a.lw)(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=o.position}function le(e,t,r){const i=de(r,Y.POSITIVE_Y),n=(0,a.N9)(f.Rc.get(),i.edge*Math.PI/2);(0,a.eL)(n,n,Me),(0,a.lw)(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=i.position}function de(e,t){switch(t){case Y.POSITIVE_X:return{basis:e.basis1,direction:1,position:(0,c.g)(f.rq.get(),e.origin,e.basis1),edge:t};case Y.POSITIVE_Y:return{basis:e.basis2,direction:1,position:(0,c.g)(f.rq.get(),e.origin,e.basis2),edge:t};case Y.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:(0,c.f)(f.rq.get(),e.origin,e.basis1),edge:t};case Y.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:(0,c.f)(f.rq.get(),e.origin,e.basis2),edge:t}}}function ue(e,t,r){const i=r.projectToRenderScreen((0,c.g)(f.rq.get(),e,t),(0,s.sc)(f.rq.get())),n=r.projectToRenderScreen((0,c.f)(f.rq.get(),e,t),(0,s.sc)(f.rq.get()));return(0,c.p)((0,c.f)(i,i,n))}function pe(e){const t=(0,c.l)(e.basis1),r=(0,c.l)(e.basis2);return b.Jj*Math.min(t,r)}function he(e){return pe(e)}function ge(e){return 0!==e.direction[0]&&0!==e.direction[1]}function me(e){return new _.t({view:e,attached:!1,color:(0,v.qb)(e.effectiveTheme),width:b.NT,renderOccluded:M.m$.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]],isDecoration:!0})}function fe(e){return new B({view:e,attached:!1,backgroundColor:v.E$,gridColor:(0,v.Or)(e.effectiveTheme),gridWidth:4,renderOccluded:M.m$.OccludeAndTransparent,isDecoration:!0})}function ve(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new i.A;if(null==e)return null;const{renderCoordsHelper:s}=t,a=s.fromRenderCoords(e.origin,new K.A({spatialReference:t.spatialReference}));if(null==a)return null;const l=(0,d.tryProjectWithZConversion)(a,r);if(null==l)return null;n.position=l;const u=2*(0,c.l)(e.basis1),p=2*(0,c.l)(e.basis2),h=J.d.renderUnitScaleFactor(t.spatialReference,r);n.width=u*h,n.height=p*h;const g=s.worldUpAtPosition(e.origin,f.rq.get());return n.tilt=(0,o.KJ)(be(e,g)),n.heading=s.headingAtPosition(e.origin,e.basis1)-90,n}function be(e,t){return(0,m.EJ)(t,e.basis2,e.basis1)+Me}function ye(e,t){if(null==(null===e||void 0===e?void 0:e.position))return null;const r=(0,y.B)(e.position,t.spatialReference,t.elevationProvider);if(null==r)return null;const i=J.d.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),n=e.width*i,o=e.height*i;return{position:r,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function Ie(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,p.a)();if(null==e)return null;const s=function(e,t,r,i,s,a){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,p.a)();return a.toRenderCoords(e,l.origin)?(a.worldBasisAtPosition(l.origin,u._.X,l.basis1),a.worldBasisAtPosition(l.origin,u._.Y,l.basis2),(0,h.mR)(l.basis2,l.basis1,l.origin,l.plane),(0,p.r)(l,-(0,o.kU)(t),(0,p.n)(l),l),(0,p.r)(l,(0,o.kU)(r),l.basis1,l),(0,c.h)(l.basis1,l.basis1,i/2),(0,c.h)(l.basis2,l.basis2,s/2),(0,p.u)(l),l):(n.A.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error("Failed to project slice plane position, projection from ".concat(e.spatialReference.wkid," is not supported")),null)}(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,i);return r.tiltEnabled||null==s||function(e,t,r){const i=t.worldUpAtPosition(e.origin,f.rq.get()),n=e.basis1,o=be(e,i),s=Math.round(o/Me)*Me;(0,p.r)(e,s-o,n,r)}(s,t.renderCoordsHelper,s),s}(X=Y||(Y={}))[X.POSITIVE_X=0]="POSITIVE_X",X[X.POSITIVE_Y=1]="POSITIVE_Y",X[X.NEGATIVE_X=2]="NEGATIVE_X",X[X.NEGATIVE_Y=3]="NEGATIVE_Y";const _e=$.SJ.Custom1;var we,Ae;!function(e){e[e.HEADING=1]="HEADING",e[e.TILT=2]="TILT"}(we||(we={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.TILTED=3]="TILTED"}(Ae||(Ae={}));const Pe=$.SJ.Custom2,Oe=(0,g.vt)(),Me=Math.PI/2,Ce=$.SJ.Custom1,Te=$.SJ.Custom2;function Ne(e){return null!=("building-scene-3d"===e.type?e:null)}},59962:(e,t,r)=>{r.d(t,{t:()=>d,k:()=>u});const i="theme-style";function n(e,t){return function(e,t){const r=new Image(t,t);return r.src=e,r}(function(e){const t=(new XMLSerializer).serializeToString(e);return"data:image/svg+xml;base64,".concat(btoa(t))}(o(function(e){const t=e.split(",")[1],r=atob(t);return(new DOMParser).parseFromString(r,"image/svg+xml")}(e),t)),t.size)}function o(e,t){let{accentColor:r,contrastColor:n}=t;const o=r.toHex(),s=r.a,a=n.toHex(),c=n.a,l=e.getElementsByTagNameNS("http://www.w3.org/2000/svg","style").namedItem(i);return l&&(l.innerHTML="\n      .contrast-fill { fill: ".concat(a,"; fill-opacity: ").concat(c,"; }\n      .contrast-stroke { stroke: ").concat(a,"; stroke-opacity: ").concat(c,";  }\n      .accent-fill { fill: ").concat(o,"; fill-opacity: ").concat(s,"; }\n      .accent-stroke { stroke: ").concat(o,"; stroke-opacity:  ").concat(s,"; }")),e}const s="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NiIgY2xhc3M9ImFjY2VudC1maWxsIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI0Ljk5IiBkPSJNMjAuMDUgNDAuODZhMTUuMDUgMTUuMDUgMCAwIDAgMTcuMTQtMS41IDE1LjA1IDE1LjA1IDAgMCAwIDQuNDctMTYuNjUgMTUuMDUgMTUuMDUgMCAwIDAtMjIuNzItNy4xNSAxNS4wNSAxNS4wNSAwIDAgMC01LjUgNy4xNSIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIGQ9Im0xMC45NyAzNS41NyA1LjM4IDEyLjA3IDcuNzktMTMuNDd6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==",a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTggMTEuOTggMCAwIDAtOS44IDcuNTA3IiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIGNvbnRyYXN0LWZpbGwiLz48cGF0aCBkPSJtMjkuODE4IDIyLjgwOC02LjE4NCA0LjYtLjU0MS04LjM2NHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+";var c=r(96897);const l=64;function d(e,t){const{accentColor:r,contrastColor:i,preMultiplyAlpha:o}=t;return e.fromData("heading-rotate:[accent:".concat(r,",contrast:").concat(i,",size:").concat(l,"]"),(()=>new c.g(n(s,{accentColor:r,contrastColor:i,size:l}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:o})))}function u(e,t){const{accentColor:r,contrastColor:i,preMultiplyAlpha:o}=t;return e.fromData("tilt-rotate:[accent:".concat(r,",contrast:").concat(i,",size:").concat(l,"]"),(()=>new c.g(n(a,{accentColor:r,contrastColor:i,size:l}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:o})))}},17430:(e,t,r)=>{r.d(t,{B:()=>o,V:()=>s});var i=r(9624),n=r(80935);function o(e,t,r){var o;let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=(0,i.tryProjectWithZConversion)(e,t);return null==a?null:(a.hasZ&&!s||null==r||(a.z=null!==(o=(0,n.R1)(r,a))&&void 0!==o?o:0),a)}function s(e,t,r){r.warnOnce("Failed to project analysis geometry (id: '".concat(e.id,"'), projection from spatial reference (wkid: '").concat(t.wkid,"') to view spatial reference is not supported. Projection may be possible after calling projection.load()."))}},7256:(e,t,r)=>{r.d(t,{t:()=>p});var i=r(34761),n=r(13191),o=r(20664),s=r(9392),a=r(55855),c=r(32314),l=r(70667),d=r(45463),u=r(425);class p extends c.X{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new u.W({width:1,color:(0,a.fA)(1,0,1,1),stippleOffColor:null,stipplePattern:null,stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerColor:null,innerWidth:1,hasPolygonOffset:!1,renderOccluded:d.m$.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromRenderSpacePoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,r=(0,s.vt)(),i=(0,s.vt)(),n=100,a=[];(0,o.s)(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.s)(r,e[2],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.s)(r,e[2],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.s)(r,e[0],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.s)(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.s)(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),this.geometry=[a]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,i=e.basis1,n=e.basis2,o=.5,a=(0,s.vt)(),c=(0,s.vt)(),l=(0,s.vt)(),d=(0,s.vt)();a[0]=r[0]-i[0]*o-n[0]*o,a[1]=r[1]-i[1]*o-n[1]*o,a[2]=r[2]-i[2]*o-n[2]*o,c[0]=r[0]-i[0]*o+n[0]*o,c[1]=r[1]-i[1]*o+n[1]*o,c[2]=r[2]-i[2]*o+n[2]*o,l[0]=r[0]+i[0]*o+n[0]*o,l[1]=r[1]+i[1]*o+n[1]*o,l[2]=r[2]+i[2]*o+n[2]*o,d[0]=r[0]+i[0]*o-n[0]*o,d[1]=r[1]+i[1]*o-n[1]*o,d[2]=r[2]+i[2]*o-n[2]*o,t.push([a[0],a[1],a[2]]),t.push([c[0],c[1],c[2]]),t.push([l[0],l[1],l[2]]),t.push([d[0],d[1],d[2]]),t.push([a[0],a[1],a[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=(0,i.kN)(h,t);const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r]}setGeometryFromSegments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.uY;this.transform=(0,i.kN)(h,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>(0,o.e)((0,s.vt)(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:(0,a.o8)(e),writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:null!=e?(0,a.o8)(e):null})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:null!=e?(0,a.o8)(e):null})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of(0,l.z)(this.geometry)){const r=(0,l.t)(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const h=(0,n.vt)()},77447:(e,t,r)=>{r.d(t,{r:()=>S});var i=r(88105),n=r(34981),o=r(83490),s=r(75803),a=r(45463),c=r(60322),l=r(77730),d=r(86994),u=r(66470),p=r(82809),h=r(86401),g=r(63928),m=r(52757),f=r(35143),v=(r(64839),r(16506)),b=r(42693),y=r(99415),I=r(28584),_=r(96643),w=r(10773),A=r(92656),P=r(29201),O=r(93345),M=r(57162);class C extends b.w{initializeProgram(e){return new I.B(e.rctx,C.shader.get().build(this.configuration),E)}_setPipelineState(e,t){const r=this.configuration,i=e===w.y.NONE,o=e===w.y.FrontFace;return(0,M.Ey)({blending:r.output!==n.V.Color&&r.output!==n.V.Alpha||!r.transparent?null:i?T:(0,c.ez)(e),culling:(0,M.Xt)(r.cullFace),depthTest:{func:(0,c.K_)(e)},depthWrite:i?r.writeDepth?M.kn:null:(0,c.XO)(e),colorWrite:M.wE,stencilWrite:r.hasOccludees?_.v0:null,stencilTest:r.hasOccludees?t?_.a9:_.qh:null,polygonOffset:i||o?null:(0,c.aB)(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}C.shader=new v.$(P.I,(()=>r.e(48391).then(r.bind(r,48391))));const T=(0,M.ox)(O.dn.ONE,O.dn.ONE_MINUS_SRC_ALPHA);class N extends A.E{constructor(){super(...arguments),this.output=n.V.Color,this.cullFace=o.s2.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=w.y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}(0,f._)([(0,y.W)({count:n.V.COUNT})],N.prototype,"output",void 0),(0,f._)([(0,y.W)({count:o.s2.COUNT})],N.prototype,"cullFace",void 0),(0,f._)([(0,y.W)()],N.prototype,"hasSlicePlane",void 0),(0,f._)([(0,y.W)()],N.prototype,"transparent",void 0),(0,f._)([(0,y.W)()],N.prototype,"enableOffset",void 0),(0,f._)([(0,y.W)()],N.prototype,"writeDepth",void 0),(0,f._)([(0,y.W)()],N.prototype,"hasOccludees",void 0),(0,f._)([(0,y.W)({count:w.y.COUNT})],N.prototype,"transparencyPassType",void 0),(0,f._)([(0,y.W)()],N.prototype,"multipassEnabled",void 0),(0,f._)([(0,y.W)()],N.prototype,"cullAboveGround",void 0),(0,f._)([(0,y.W)()],N.prototype,"perspectiveInterpolation",void 0),(0,f._)([(0,y.W)({constValue:!1})],N.prototype,"occlusionPass",void 0);const E=new Map([[u.r.POSITION,0],[u.r.UV0,2],[u.r.PERSPECTIVEDIVIDE,3]]);class S extends g.W{constructor(e){super(e,new D),this.supportsEdges=!0,this.produces=new Map([[l.N.OPAQUE_MATERIAL,e=>e===n.V.Highlight||(0,n.j8)(e)&&!this.parameters.transparent],[l.N.TRANSPARENT_MATERIAL,e=>(0,n.j8)(e)&&this.parameters.transparent&&this.parameters.writeDepth],[l.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>(0,n.j8)(e)&&this.parameters.transparent&&!this.parameters.writeDepth],[l.N.DRAPED_MATERIAL,e=>(0,n.jS)(e)]]),this._vertexAttributeLocations=E,this._configuration=new N}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<c.xt,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(e){return new R(e)}createBufferWriter(){const e=h.zK.clone();return this.parameters.perspectiveInterpolation&&e.f32(u.r.PERSPECTIVEDIVIDE),new x(e)}}class R extends s.m{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(C,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output!==n.V.Color&&this._output!==n.V.Alpha||this._updateOccludeeState(e),this._updateParameters(e)}}class x extends p.Z{write(e,t,r,n,o){for(const s of this.vertexBufferLayout.fields.keys()){const a=r.attributes.get(s);if(a)if(s===u.r.PERSPECTIVEDIVIDE){(0,d.vA)(1===a.size);const e=n.getField(s,i.Y$);e&&(0,m.uO)(a,e,o)}else(0,m.zC)(s,a,e,t,n,o)}}}class D extends a.qA{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=o.s2.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}}}]);
//# sourceMappingURL=85893.014916c6.chunk.js.map