"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[75028],{75028:(e,t,o)=>{o.r(t),o.d(t,{ElevationProfileView2D:()=>p});var n=o(88321),i=o(30726),s=o(68134),r=o(54054),h=o(48975),a=o(98773),l=o(50346),d=o(90992);class c{constructor(e){this._params=e,this._highlightTask=null,this._highlightHandle=null}destroy(){this.remove()}remove(){this._highlightTask=(0,i.DC)(this._highlightTask),this._highlightHandle=(0,i.xt)(this._highlightHandle)}update(e){if(this.remove(),null==e||(null==(t=e).geometry||"polyline"!==t.geometry.type))return;var t;const o=e.layer;this._highlightTask=(0,a.UT)((async t=>{const n=await this._params.view.whenLayerView(o);(0,l.Te)(t);const i=(0,d.Of)(n)?n:null;i&&(this._highlightHandle=i.highlight(e))}))}}class p{constructor(e,t){this._handles=new n.A,this._inputRepresentation=new c({view:e}),this._hoveredPoints=new h.t({view:e}),this._handles.add([(0,s.watch)((()=>t.viewModel.hoveredPoints),(e=>this._hoveredPoints.update(e)),s.syncAndInitial),(0,s.watch)((()=>{const{state:e,highlightEnabled:o,viewModel:n}=t;return{input:n.input,state:e,highlightEnabled:o}}),(e=>this._updateInputRepresentation(e)),s.syncAndInitial)])}destroy(){this._handles=(0,i.pR)(this._handles),this._inputRepresentation=(0,i.pR)(this._inputRepresentation),this._hoveredPoints=(0,i.pR)(this._hoveredPoints)}_updateInputRepresentation(e){let{input:t,state:o,highlightEnabled:n}=e;o===r.o8.Selected&&n?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}},48975:(e,t,o)=>{o.d(t,{t:()=>c});var n=o(35143),i=o(91967),s=o(19276),r=o(68134),h=o(46053),a=(o(81806),o(76460),o(47249),o(85842)),l=o(54054),d=o(68999);let c=class extends i.A{constructor(e){super(e),this._hoveredPoints=new s.A}initialize(){this.addHandles((0,r.watch)((()=>this._hoveredPoints.toArray().map((e=>{let{anchor:t,element:o}=e;return{screenLocation:t.screenLocation,element:o}}))),(e=>{for(const{screenLocation:t,element:o}of e)t&&(o.style.transform="translate(".concat(t.x,"px, ").concat(t.y,"px)"))}),r.syncAndInitial))}destroy(){this._hoveredPoints.drain((e=>this._destroyHoveredPoint(e)))}update(e){const t=this.view,o=this._hoveredPoints,n=e.length;for(;this._hoveredPoints.length>n;)this._destroyHoveredPoint(this._hoveredPoints.pop());for(;this._hoveredPoints.length<n;){var i;const e=this._makeHoveredPoint();o.push(e),null===(i=t.surface)||void 0===i||i.appendChild(e.element)}for(let s=0;s<n;++s){const t=o.at(n-1-s),i=e[s];this._updateHoveredPoint(t,i)}}_makeHoveredPoint(){const{size:e,borderStyle:t,borderColor:o,borderWidth:n,boxShadow:i}=(0,l.zj)().hoveredPointsStyle,s=this.view,r=new d.A({view:s,screenLocationEnabled:!0}),h=document.createElement("div"),a=h.style;return a.position="absolute",a.top="0",a.left="0",a.contain="strict",a.boxSizing="border-box",a.width="".concat(e,"px"),a.height="".concat(e,"px"),a.marginTop="-".concat(e/2,"px"),a.marginLeft="-".concat(e/2,"px"),a.border="".concat(t," ").concat(n,"px ").concat(o),a.borderRadius="".concat(e,"px"),a.boxShadow=i,{anchor:r,element:h}}_updateHoveredPoint(e,t){let{anchor:o,element:n}=e;o.screenLocationEnabled=!0,o.location=t.hoveredPoint;const i=n.style;i.display="block",i.background=t.color.toCss()}_destroyHoveredPoint(e){var t;let{anchor:o,element:n}=e;o.destroy(),null===(t=this.view.surface)||void 0===t||t.removeChild(n)}};(0,n._)([(0,h.MZ)()],c.prototype,"view",void 0),(0,n._)([(0,h.MZ)()],c.prototype,"_hoveredPoints",void 0),c=(0,n._)([(0,a.$)("esri.widgets.ElevationProfile.support.HoveredPoints")],c)},68999:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(35143),i=o(54099),s=o(68134),r=o(46053),h=(o(81806),o(76460),o(47249),o(85842)),a=o(9624);let l=class extends i.A.EventedAccessor{constructor(e){super(e),this.location=null,this.screenLocationEnabled=!1,this.view=null,this.addHandles([(0,s.when)((()=>{const e=this.screenLocationEnabled?this.view:null;return e?[e.size,"3d"===e.type?e.camera:e.viewpoint]:null}),(()=>this.notifyChange("screenLocation"))),(0,s.watch)((()=>this.screenLocation),((e,t)=>{null!=e&&null!=t&&this.emit("view-change")}))])}destroy(){this.view=null}get screenLocation(){const{location:e,view:t,screenLocationEnabled:o}=this,n=null===t||void 0===t?void 0:t.spatialReference,i=n?(0,a.projectOrLoad)(e,n).geometry:null;return o&&i&&null!==t&&void 0!==t&&t.ready?t.toScreen(i):null}};(0,n._)([(0,r.MZ)()],l.prototype,"location",void 0),(0,n._)([(0,r.MZ)()],l.prototype,"screenLocation",null),(0,n._)([(0,r.MZ)()],l.prototype,"screenLocationEnabled",void 0),(0,n._)([(0,r.MZ)()],l.prototype,"view",void 0),l=(0,n._)([(0,h.$)("esri.widgets.support.AnchorElementViewModel")],l);const d=l}}]);
//# sourceMappingURL=75028.72589e5e.chunk.js.map