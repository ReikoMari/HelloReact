"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[90389],{90389:(e,t,i)=>{i.r(t),i.d(t,{default:()=>oe});var n=i(35143),l=i(76460),s=i(68134),a=i(46053),o=(i(81806),i(47249),i(85842)),r=i(25329),d=i(15062);const h="esri-daylight",c="".concat(h,"__container"),g="esri-slider",u={base:h,widgetIcon:d.T.environmentSettings,datePickerCalendarToggle:"esri-date-picker__calendar-toggle",dayContainer:"".concat(c," ").concat(h,"__day-container"),dateContainer:"".concat(c," ").concat(h,"__date-container"),containerDisabled:"".concat(c,"--disabled"),slider:g,sliderShadowOff:"".concat(g,"--shadow-off"),sliderShadowOn:"".concat(g,"--shadow-on"),sliderAmPmOn:"".concat(g,"--ampm-on"),sliderDateOff:"".concat(g,"--date-off"),sliderDateOn:"".concat(g,"--date-on"),playPauseButton:"".concat(h,"__play-pause-button"),seasonPicker:"".concat(h,"__season-picker"),panelError:"".concat(h,"__panel--error"),sunLightingCheckbox:"".concat(h,"__sun-lighting-checkbox"),shadowsCheckbox:"".concat(h,"__shadows-checkbox")};var p,_,y=i(91967),v=i(54901),m=i(30726),w=i(52394),b=i(18288),f=i(42138),M=i(92945),S=i(27816),T=i(3136);(_=p||(p={}))[_.NORTHERN=0]="NORTHERN",_[_.SOUTHERN=1]="SOUTHERN";const D={spring:{dayOfMonth:20,month:2},summer:{dayOfMonth:21,month:5},fall:{dayOfMonth:23,month:8},winter:{dayOfMonth:21,month:11}},P=["spring","summer","fall","winter"];function k(e,t,i){const n=O(t,i),{dayOfMonth:l,month:s}=D[n],a=new Date(e.getTime());return a.setMonth(s,l),a}function C(e,t){return O(function(e){const t=e.getTime(),i=k(e,"spring",p.NORTHERN).getTime(),n=k(e,"summer",p.NORTHERN).getTime(),l=k(e,"fall",p.NORTHERN).getTime(),s=k(e,"winter",p.NORTHERN).getTime();return t>=i&&t<n?"spring":t>=n&&t<l?"summer":t>=l&&t<s?"fall":"winter"}(e),t)}function O(e,t){return t===p.NORTHERN?e:function(e){const t=P.indexOf(e);return P[(t+2)%4]}(e)}var L=i(6515);let E=class extends L.A{constructor(){super(...arguments),this.utcOffset=null,this.timezonePickerOpen=!1}};(0,n._)([(0,a.MZ)()],E.prototype,"utcOffset",void 0),(0,n._)([(0,a.MZ)()],E.prototype,"timezonePickerOpen",void 0),E=(0,n._)([(0,o.$)("esri.widgets.Daylight.support.SliderWithDropdownViewModel")],E);var Z=i(22309),U=i(24992);const N="esri.widgets.Daylight.DaylightViewModel";let H=class extends y.A{constructor(e){super(e),this.view=null,this.datePickerViewModel=new Z.A,this.timeSliderViewModel=new E({min:0,max:1439,values:[0],labelFormatFunction:U.fG,inputFormatFunction:U.fG}),this.lightingUpdateInterval=200,this._oldLighting=null,this.playSpeedMultiplier=1,this._lastTime=null,this._sunrise=null,this._sunset=null,this._cachedLightingDateUTC=new Date(0),this._cachedDisplayUTCOffset=0,this._firstInteraction=!0,this._lastLightingUpdate=0,this._lightingUpdateHandle=null}initialize(){this.addHandles([(0,s.when)((()=>this.view),(e=>e.when((()=>this._updateLighting()))),s.initial),(0,s.watch)((()=>{const e=this._lighting;return"sun"===(null===e||void 0===e?void 0:e.type)?A(e):null}),(e=>this._scheduleLightingUpdate(e))),(0,s.on)((()=>this._lighting),"timezone-will-change",(e=>this._timezoneWillChange(e)),{onListenerAdd:()=>this._timezoneWillChange(null)}),(0,s.watch)((()=>{var e;return!0===(null===(e=this.view)||void 0===e?void 0:e.stationary)}),(()=>{(this.dayPlaying||this.yearPlaying)&&this._updateSunriseAndSunset()}),s.initial),(0,s.watch)((()=>{const e=this.timeSliderViewModel;return{vm:e,state:e.state,sliderPosition:this.timeSliderPosition}}),(e=>{let{vm:t,state:i,sliderPosition:n}=e;"ready"===i&&t.setValue(0,n)})),(0,s.watch)((()=>{var e;return null===(e=this.timeSliderViewModel)||void 0===e?void 0:e.utcOffset}),(e=>{null!=e&&(this.utcOffset=e)})),(0,s.watch)((()=>({utcOffset:this.utcOffset,sliderViewModel:this.timeSliderViewModel})),(e=>{let{utcOffset:t,sliderViewModel:i}=e;i&&(i.utcOffset=t)}),s.syncAndInitial),(0,s.watch)((()=>this.timeSliderViewModel.timezonePickerOpen),(()=>this.stopPlaying())),(0,s.watch)((()=>this.timeSliderViewModel.values),(e=>{var t;return this._setTimeSliderPosition(null!==(t=null===e||void 0===e?void 0:e[0])&&void 0!==t?t:0,{forceLightingUpdate:!1})})),(0,s.watch)((()=>this.datePickerViewModel.value),(e=>{this.dayPlaying=!1,this.localDate=e})),(0,s.watch)((()=>this.localDate),(e=>{this.datePickerViewModel.value.valueOf()!==e.getTime()&&this.datePickerViewModel.set("value",e)}))])}destroy(){this._cancelLightingUpdate(),this.view=null}get isSupported(){return null==this.view||"3d"===this.view.type}get utcOffset(){return this._cachedDisplayUTCOffset}set utcOffset(e){e!==this.utcOffset&&null!=this._lighting&&"virtual"!==this._lighting.type&&(this._lighting.displayUTCOffset=e,this._updateLighting())}get localDate(){return(0,b.xX)(this._lightingDateDisplay)}set localDate(e){(0,b.vd)(e)&&e.getTime()!==this.localDate.getTime()&&(this._lightingDateDisplay=(0,b.wi)(this._lightingDateDisplay,e))}get timeSliderPosition(){return function(e){return(0,b.mE)(e,"minutes")}(this._lightingDateDisplay)}set timeSliderPosition(e){this._setTimeSliderPosition(e,{forceLightingUpdate:!0})}_setTimeSliderPosition(e,t){Math.abs(e-this.timeSliderPosition)<=1/60||(this.stopPlaying(),this._enableDirectShadowsIfFirstInteraction(),t.forceLightingUpdate&&(this._cancelLightingUpdate(),this._updateLighting()),this._lightingDateDisplay=function(e,t){return(0,b.uf)(e,t,"minutes")}(this._lightingDateDisplay,e))}_timezoneFromCamera(e,t){if(null==t||!e.cameraTrackingEnabled)return 0;const i=(0,T.aE)([t.longitude,t.latitude]);return null==i?0:Math.round(i.hours+i.minutes/60+i.seconds/3600)}get directShadowsEnabled(){var e,t;return null!==(e=null===(t=this._lighting)||void 0===t?void 0:t.directShadowsEnabled)&&void 0!==e&&e}set directShadowsEnabled(e){const t=this._lighting;t&&(t.directShadowsEnabled=e)}get sunLightingEnabled(){return"sun"===this._lightingType}set sunLightingEnabled(e){const t=this._environment;if(e===this._get("sunLightingEnabled")||null==t)return;const i=t.lighting,n=this._oldLighting;this._oldLighting=i;const l={directShadowsEnabled:i.directShadowsEnabled,cameraTrackingEnabled:i.cameraTrackingEnabled},s=e?"sun":"virtual";let a;a=null!=n&&n.type===s?n:e?new M.A:new S.A,a.set(l),t.lighting=a,e||(this.stopPlaying(),this.timeSliderViewModel.timezonePickerOpen=!1)}set playingState(e){this.playingState!==e&&(this._set("playingState",e),"none"!==e&&this.sunLightingEnabled&&(this._updateSunriseAndSunset(),this._lastTime=Date.now(),this._play(),this._enableDirectShadowsIfFirstInteraction()))}get dayPlaying(){return"day"===this.playingState}set dayPlaying(e){e?this.playingState="day":this.dayPlaying&&(this.playingState="none")}get yearPlaying(){return"year"===this.playingState}set yearPlaying(e){e?this.playingState="year":this.yearPlaying&&(this.playingState="none")}get currentSeason(){return C(this.localDate,this._currentHemisphere)}set currentSeason(e){this.stopPlaying();const t=O(e,this._currentHemisphere);this.localDate=k(this.localDate,t,p.NORTHERN)}get _currentHemisphere(){var e;const t=null===(e=this.view)||void 0===e||null===(e=e.camera)||void 0===e||null===(e=e.position)||void 0===e?void 0:e.latitude;return null==t||t>=0?p.NORTHERN:p.SOUTHERN}get _environment(){var e;return null===(e=this.view)||void 0===e?void 0:e.environment}get _lighting(){var e;return null===(e=this._environment)||void 0===e?void 0:e.lighting}get _lightingType(){var e;return null===(e=this._lighting)||void 0===e?void 0:e.type}get _lightingDateDisplay(){return(0,b.S1)(this._cachedLightingDateUTC,this._cachedDisplayUTCOffset,"hours")}set _lightingDateDisplay(e){const t=this._lighting;if(null==t||!this.sunLightingEnabled||"virtual"===t.type||!(0,b.vd)(e))return;const i=A(t),n=(0,b.S1)(e,-this._cachedDisplayUTCOffset,"hours");n.getTime()!==i.getTime()&&(t.date=n,this._updateLighting())}stopPlaying(){this.playingState="none"}toggleDayPlaying(){this.dayPlaying=!this.dayPlaying}toggleYearPlaying(){this.yearPlaying=!this.yearPlaying}toggleSunLightingEnabled(){this.stopPlaying(),this.sunLightingEnabled=!this.sunLightingEnabled}toggleDirectShadowsEnabled(){this.stopPlaying(),this.directShadowsEnabled=!this.directShadowsEnabled}_enableDirectShadowsIfFirstInteraction(){this._firstInteraction&&(this._firstInteraction=!1,this.directShadowsEnabled=!0)}_updateLighting(e){var t,i;const n=Date.now();this._lastLightingUpdate=n;const{view:l}=this,s=this._lighting;if(null==l||null==s||"virtual"===s.type)return;null!==(t=e)&&void 0!==t||(e=A(s));const a=s.displayUTCOffset,o=null!==a?a:this._timezoneFromCamera(s,null===(i=l.camera)||void 0===i?void 0:i.position);this._cachedLightingDateUTC.getTime()!==e.getTime()&&(this._cachedLightingDateUTC=new Date(e.getTime())),this._cachedDisplayUTCOffset!==o&&(this._cachedDisplayUTCOffset=o)}_timezoneWillChange(e){const t=this._lighting;if(null==t||"virtual"===t.type||!t.cameraTrackingEnabled)return;let i;if(e)i=e.timezoneOffset;else{if(null!=t.displayUTCOffset)return;i=M.A.calculateTimezoneOffset(t.positionTimezoneInfo)}t.displayUTCOffset=i,this._scheduleLightingUpdate()}_scheduleLightingUpdate(e){if(e&&(this._lightingUpdateHandle=(0,m.xt)(this._lightingUpdateHandle),!(0,b.vd)(e)))return;if(this._lightingUpdateHandle)return;const t=Date.now()-this._lastLightingUpdate,i=this.lightingUpdateInterval-t;let n=null;const l=()=>{this._updateLighting(e),this._lightingUpdateHandle===n&&(this._lightingUpdateHandle=null)};if(i<=0)this._lightingUpdateHandle=n=(0,w._)(l);else{const e=setTimeout(l,i);this._lightingUpdateHandle=n=(0,v.hA)((()=>clearTimeout(e)))}}_cancelLightingUpdate(){this._lightingUpdateHandle=(0,m.xt)(this._lightingUpdateHandle)}_play(){const e=this._lighting;if(null==e||!this.sunLightingEnabled||"virtual"===e.type)return;const t=A(e);if(this.dayPlaying||this.yearPlaying){var i;const l=Date.now()-(null!==(i=this._lastTime)&&void 0!==i?i:0);if(this.dayPlaying){this._lastTime=Date.now();const i=function(e,t,i){const n=12e5,l=n/4,s=18e5,a=l/3*2,o=72e5;if(null==e||null==t||isNaN(e.getTime())&&isNaN(t.getTime()))return l;const r=i.getTime(),d=e.getTime(),h=t.getTime(),c=d-o/2,g=d+o/2,u=h-o/3*2,p=h+o/3;let _=l;return r>=c&&r<=g?_=r-c<=n?s-(r-c)/n*(s-a):g-r<=n/2?l-(g-r)/n*2*(l-a):a:r>=u&&r<=p?_=r-u<=n/2?l-(r-u)/n*2*(l-a):p-r<=n?s-(p-r)/n*(s-a):a:(r<d||r>h)&&(_=s),_}(this._sunrise,this._sunset,t)*this.playSpeedMultiplier/100*l;if(i>0){var n;let l=new Date(t.getTime()+i);const s=null!==(n=e.displayUTCOffset)&&void 0!==n?n:0;if(((l.getUTCHours()+s)%24+24)%24<((t.getUTCHours()+s)%24+24)%24){const e=864e5;l=new Date(t.getTime()+i-e)}e.date=l}}else if(l>1e3){this._lastTime=Date.now();const i=(t.getUTCMonth()+1)%12,n=new Date(t.getTime());n.setUTCMonth(i),e.date=n}requestAnimationFrame((()=>this._play()))}}_updateSunriseAndSunset(){var e;const t=this._lighting;if(null==t||"virtual"===t.type||!this.sunLightingEnabled)return;const i=null===(e=this.view)||void 0===e||null===(e=e.camera)||void 0===e?void 0:e.position;if(null==i)return;const{latitude:n,longitude:l}=i,{date:s,displayUTCOffset:a}=t,o=(0,U.ZS)(s,n,l,null!==a&&void 0!==a?a:0);o&&(this._sunrise=new Date(o.sunrise),this._sunset=new Date(o.sunset))}};function A(e){return(0,b.vd)(e.date)||(l.A.getLogger(N).warn("Invalid date. Reverting to the current date/time."),e.date=new Date),e.date}(0,n._)([(0,a.MZ)({type:f.default})],H.prototype,"view",void 0),(0,n._)([(0,a.MZ)({type:Z.A,nonNullable:!0})],H.prototype,"datePickerViewModel",void 0),(0,n._)([(0,a.MZ)({type:E,nonNullable:!0})],H.prototype,"timeSliderViewModel",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"isSupported",null),(0,n._)([(0,a.MZ)()],H.prototype,"lightingUpdateInterval",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"utcOffset",null),(0,n._)([(0,a.MZ)()],H.prototype,"localDate",null),(0,n._)([(0,a.MZ)()],H.prototype,"timeSliderPosition",null),(0,n._)([(0,a.MZ)()],H.prototype,"directShadowsEnabled",null),(0,n._)([(0,a.MZ)()],H.prototype,"sunLightingEnabled",null),(0,n._)([(0,a.MZ)({type:["none","day","year"],value:"none"})],H.prototype,"playingState",null),(0,n._)([(0,a.MZ)()],H.prototype,"dayPlaying",null),(0,n._)([(0,a.MZ)()],H.prototype,"yearPlaying",null),(0,n._)([(0,a.MZ)()],H.prototype,"playSpeedMultiplier",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"currentSeason",null),(0,n._)([(0,a.MZ)()],H.prototype,"_lastTime",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"_sunrise",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"_sunset",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"_cachedLightingDateUTC",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"_cachedDisplayUTCOffset",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"_firstInteraction",void 0),(0,n._)([(0,a.MZ)()],H.prototype,"_currentHemisphere",null),(0,n._)([(0,a.MZ)()],H.prototype,"_environment",null),(0,n._)([(0,a.MZ)()],H.prototype,"_lighting",null),(0,n._)([(0,a.MZ)()],H.prototype,"_lightingType",null),(0,n._)([(0,a.MZ)()],H.prototype,"_lightingDateDisplay",null),H=(0,n._)([(0,o.$)(N)],H);const x=H;let z=class extends y.A{constructor(e){super(e),this.header=!0,this.playButtons=!0,this.datePicker=!0,this.timezone=!0,this.sunLightingToggle=!0,this.shadowsToggle=!0}};(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],z.prototype,"header",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],z.prototype,"playButtons",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],z.prototype,"datePicker",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],z.prototype,"timezone",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],z.prototype,"sunLightingToggle",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],z.prototype,"shadowsToggle",void 0),z=(0,n._)([(0,o.$)("esri.widgets.Daylight.VisibleElements")],z);const V=z;var I=i(22785),R=i(35529),K=i(76099),B=i(54761);const F="esri-slider-with-dropdown",W="esri-slider__label",G="".concat(F,"__box"),Y="".concat(F,"__box--drop-down-on"),$="".concat(F,"__box--drop-down-off");let q=class extends I.default{constructor(e,t){super(e,t),this.viewModel=new E,this.showDropDown=!0,this._labelWidth=0,this._onLabelAfterCreate=e=>{const t="label-size-observer";this.removeHandles(t),this.addHandles((0,K.EV)(e,(e=>{let{contentRect:t}=e;this._labelWidth=t.width})),t)},this._getLabelStyles=()=>{if(!this.trackElement)return;const e=this._trackWidth,t=this._labelWidth/2,i=this.getCurrentPosition(),n=i-t,l=i+t;let s=-t;return n<0?s+=-n:l>e&&(s+=e-l),{left:"".concat(s,"px")}},this._onTimezoneChange=e=>{this.viewModel.utcOffset=e},this._onTimezonePickerOpen=()=>{this.viewModel.timezonePickerOpen=!0},this._onTimezonePickerClose=()=>{this.viewModel.timezonePickerOpen=!1}}renderThumbLabel(e){const{showDropDown:t,viewModel:i}=this;return(0,B.K)("div",{afterCreate:this._onLabelAfterCreate,class:this.classes({[G]:!0,[W]:!0,[Y]:t,[$]:!t}),key:"thumb-label",styles:this._getLabelStyles()},super.renderThumbLabel(e),t?(0,B.K)(R.G,{open:i.timezonePickerOpen,value:i.utcOffset,onChange:this._onTimezoneChange,onClose:this._onTimezonePickerClose,onOpen:this._onTimezonePickerOpen}):null)}};(0,n._)([(0,a.MZ)()],q.prototype,"viewModel",void 0),(0,n._)([(0,a.MZ)()],q.prototype,"showDropDown",void 0),(0,n._)([(0,a.MZ)()],q.prototype,"_labelWidth",void 0),q=(0,n._)([(0,o.$)("esri.widgets.Daylight.support.SliderWithDropdown")],q);const X=q;var j=i(77666),J=i(21510),Q=i(98108),ee=i(87540),te=i(63582);const ie=/(.*)\s(.*)/,ne="date",le="esri.widgets.Daylight";let se=class extends r.A{constructor(e,t){super(e,t),this.headingLevel=3,this.iconClass=u.widgetIcon,this.icon=null,this.viewModel=new x,this.visibleElements=new V,this.dateOrSeason=ne,this._timeSlider=new X({viewModel:this.viewModel.timeSliderViewModel,steps:this.timeSliderSteps,labelInputsEnabled:!1,visibleElements:{labels:!0},tickConfigs:[{mode:"position",values:[0,360,720,1080,1439],labelsVisible:!0,tickCreatedFunction:this._onPrimaryTickCreated.bind(this)},{mode:"position",values:[120,240,480,600,840,960,1200,1320],tickCreatedFunction:this._onSecondaryTickCreated.bind(this)}]}),this._datePicker=new J.A({viewModel:this.viewModel.datePickerViewModel,commitOnMonthChange:!0}),this._onPlayDayClick=()=>{this.viewModel.toggleDayPlaying()},this._onYearPlayClick=()=>{this.viewModel.toggleYearPlaying()},this._onSeasonChange=e=>{this.viewModel.currentSeason=e.target.value},this._onSunLightingCheckboxChange=()=>{this.viewModel.toggleSunLightingEnabled()},this._onShadowCheckboxChange=()=>{this.viewModel.toggleDirectShadowsEnabled()}}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.title)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get playSpeedMultiplier(){return this.viewModel.playSpeedMultiplier}set playSpeedMultiplier(e){this.viewModel.playSpeedMultiplier=e}get timeSliderSteps(){var e,t;return null!==(e=null===(t=this._timeSlider)||void 0===t?void 0:t.steps)&&void 0!==e?e:5}set timeSliderSteps(e){this._timeSlider.steps=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get test(){return{datePicker:this._datePicker}}get _useAmPm(){const e=this._timeSlider.viewModel.getLabelForValue(0,"tick");return null!=e&&ie.test(e)}postInitialize(){this.viewModel.isSupported&&this.addHandles([(0,s.watch)((()=>this.viewModel.datePickerViewModel),(e=>this._datePicker.viewModel=e),s.syncAndInitial),(0,s.watch)((()=>this.viewModel.timeSliderViewModel),(e=>this._timeSlider.viewModel=e),s.syncAndInitial),(0,s.watch)((()=>{var e;return null===(e=this.visibleElements)||void 0===e?void 0:e.timezone}),(e=>this._timeSlider.showDropDown=e),s.syncAndInitial),(0,s.watch)((()=>!this.viewModel.sunLightingEnabled),(e=>{this._datePicker.disabled=e,this._timeSlider.disabled=e}),s.syncAndInitial),(0,s.when)((()=>!this.visible),(()=>{var e;return null===(e=this._datePicker)||void 0===e?void 0:e.close(!1)}),s.sync)])}destroy(){this._datePicker.destroy(),this._timeSlider.destroy()}render(){const{messages:e,viewModel:t,visibleElements:i}=this,n=t.isSupported;return(0,B.K)("div",{class:this.classes(u.base,Q.D.widget)},n?(0,B.K)(B.w,null,i.header?(0,B.K)(ee.D,{level:this.headingLevel},e.title):null,this._renderTimeOptions(),i.datePicker?this._renderDateOrSeason():null,i.sunLightingToggle?this._renderSunLightingToggle():null,i.shadowsToggle?this._renderShadowsToggle():null):(0,B.K)("div",{class:u.panelError,key:"unsupported"},(0,B.K)("p",null,e.unsupported)))}loadDependencies(){return(0,j.W)({button:()=>Promise.all([i.e(39879),i.e(62785),i.e(95203),i.e(75151),i.e(11309)]).then(i.bind(i,11309)),checkbox:()=>Promise.all([i.e(39879),i.e(95203),i.e(92022)]).then(i.bind(i,92022)),label:()=>Promise.all([i.e(39879),i.e(65423)]).then(i.bind(i,65423)),option:()=>i.e(70383).then(i.bind(i,92764)),select:()=>Promise.all([i.e(39879),i.e(95203),i.e(81381)]).then(i.bind(i,81381))})}_renderTimeOptions(){const{viewModel:e,visibleElements:t,messages:i}=this,{directShadowsEnabled:n,dayPlaying:l}=e,s=!e.sunLightingEnabled;return(0,B.K)("div",{class:this.classes(u.dayContainer,{[u.sliderShadowOn]:n,[u.sliderShadowOff]:!n,[u.sliderDateOn]:t.datePicker,[u.sliderDateOff]:!t.datePicker,[u.sliderAmPmOn]:this._useAmPm,[u.containerDisabled]:s}),key:"daylight-time-options"},this._timeSlider.render(),t.playButtons?this._renderPlayPauseButton({playing:l,disabled:s,label:i.playDay,onClick:this._onPlayDayClick}):null)}_renderDateOptions(){const{viewModel:e,visibleElements:t,messages:i}=this,{yearPlaying:n}=e,l=!e.sunLightingEnabled;return(0,B.K)("div",{class:this.classes(u.dateContainer,l&&u.containerDisabled),key:"daylight-date"},this._datePicker.render(),t.playButtons?this._renderPlayPauseButton({playing:n,disabled:l,label:i.playYear,onClick:this._onYearPlayClick}):null)}_renderPlayPauseButton(e){let{playing:t,disabled:i,label:n,onClick:l}=e;return(0,B.K)("calcite-button",{appearance:"solid",class:u.playPauseButton,disabled:i,iconStart:t?"pause-f":"play-f",label:n,onclick:l,round:!0,title:n,type:"button"})}_renderSeasonSelect(){const{messages:e,viewModel:t}=this,i=!t.sunLightingEnabled;return(0,B.K)("calcite-select",{class:this.classes(u.seasonPicker),disabled:i,label:e.season,onCalciteSelectChange:this._onSeasonChange},P.map((i=>(0,B.K)("calcite-option",{selected:t.currentSeason===i,value:i},e[i]))))}_renderDateOrSeason(){return"date"===this.dateOrSeason?this._renderDateOptions():this._renderSeasonSelect()}_renderSunLightingToggle(){var e;const t=null===(e=this.messages)||void 0===e?void 0:e.sunLightingToggle;return(0,B.K)("calcite-label",{key:"date-time-toggle",layout:"inline",scale:"s",title:null===t||void 0===t?void 0:t.tooltip},(0,B.K)("calcite-checkbox",{checked:this.viewModel.sunLightingEnabled,class:u.sunLightingCheckbox,onCalciteCheckboxChange:this._onSunLightingCheckboxChange}),null===t||void 0===t?void 0:t.label)}_renderShadowsToggle(){const e=this.messages.shadowsToggle;return(0,B.K)("calcite-label",{key:"shadow-toggle",layout:"inline",scale:"s",title:null===e||void 0===e?void 0:e.tooltip},(0,B.K)("calcite-checkbox",{checked:this.viewModel.directShadowsEnabled,class:u.shadowsCheckbox,onCalciteCheckboxChange:this._onShadowCheckboxChange}),e.label)}_onPrimaryTickCreated(e,t,i){t.classList.add(...ae,Q.D.primaryTick),i.classList.add(...ae,Q.D.primaryTickLabel),i.onclick=t.onclick=this._makeGoToTime(e);const n=i.textContent,l=null!=n&&ie.exec(n);l&&(i.innerHTML="".concat(l[1],"<br><div class=").concat(Q.D.primaryTickAmPm,">").concat(l[2],"</div>"))}_onSecondaryTickCreated(e,t){t.classList.add(...ae,Q.D.secondaryTick),t.onclick=this._makeGoToTime(e)}_makeGoToTime(e){return()=>{this.viewModel.timeSliderPosition=e}}};(0,n._)([(0,a.MZ)(),(0,te.G)("esri/widgets/Daylight/t9n/Daylight")],se.prototype,"messages",void 0),(0,n._)([(0,a.MZ)(),(0,te.G)("esri/widgets/support/t9n/timezone")],se.prototype,"timezoneMessages",void 0),(0,n._)([(0,a.MZ)()],se.prototype,"headingLevel",void 0),(0,n._)([(0,a.MZ)()],se.prototype,"iconClass",void 0),(0,n._)([(0,a.MZ)()],se.prototype,"icon",void 0),(0,n._)([(0,a.MZ)()],se.prototype,"label",null),(0,n._)([(0,a.MZ)()],se.prototype,"playSpeedMultiplier",null),(0,n._)([(0,a.MZ)()],se.prototype,"timeSliderSteps",null),(0,n._)([(0,a.MZ)()],se.prototype,"view",null),(0,n._)([(0,a.MZ)({type:x})],se.prototype,"viewModel",void 0),(0,n._)([(0,a.MZ)({type:V,nonNullable:!0})],se.prototype,"visibleElements",void 0),(0,n._)([(0,a.MZ)({cast:e=>"season"===e||"date"===e?e:(l.A.getLogger(le).warn('"'.concat(e,'" is not a valid option. Acceptable values are only "date" or "season". Defaulting to "').concat(ne,'".')),ne)})],se.prototype,"dateOrSeason",void 0),(0,n._)([(0,a.MZ)()],se.prototype,"_timeSlider",void 0),(0,n._)([(0,a.MZ)()],se.prototype,"_useAmPm",null),(0,n._)([(0,a.MZ)()],se.prototype,"_datePicker",void 0),se=(0,n._)([(0,o.$)(le)],se);const ae=[Q.D.interactive,Q.D.anchor],oe=se}}]);
//# sourceMappingURL=90389.19a66c9b.chunk.js.map