{"version":3,"file":"static/js/38911.893aa9ae.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport t from\"../../Graphic.js\";import e from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as r}from\"../../core/unitUtils.js\";import{parseData as s}from\"../../core/urlUtils.js\";import{projectWithoutEngine as o}from\"../../geometry/projection.js\";import{fromJSON as n}from\"../../geometry/support/jsonUtils.js\";import{equals as l,isWGS84 as i,isWebMercator as u}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as d,isFeatureIdentifierArrayWithObjectId as c}from\"./editingSupport.js\";async function p(t,e,a){const{geometry:s}=e,n={...e.attributes};if(null!=a&&\"mesh\"===s?.type){const{transformFieldRoles:e}=a,{origin:d,spatialReference:c,transform:p,vertexSpace:m}=s,f=\"local\"===m.type,g=t.spatialReference,b=g.isGeographic,R=l(g,c),y=R||i(g)&&(i(c)||u(c));if(!(f&&b&&y||!f&&!b&&R))return null;const I=o(d,c,g);if(null==I)return null;if(n[e.originX]=I.x,n[e.originY]=I.y,n[e.originZ]=I.z??0,null!=p){const{translation:t,scale:a,rotation:s}=p,o=f?1:r(c)/r(g);n[e.translationX]=t[0]*o,n[e.translationY]=t[2]*o,n[e.translationZ]=-t[1]*o,n[e.scaleX]=a[0],n[e.scaleY]=a[2],n[e.scaleZ]=a[1],n[e.rotationX]=s[0],n[e.rotationY]=s[2],n[e.rotationZ]=-s[1],n[e.rotationDeg]=s[3]}return{attributes:n}}return null==s?{attributes:n}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:n}}async function m(t,e){const a=await Promise.all((e.addAttachments??[]).map((e=>f(t,e)))),r=await Promise.all((e.updateAttachments??[]).map((e=>f(t,e)))),s=e.deleteAttachments??[];return a.length||r.length||s.length?{adds:a,updates:r,deletes:[...s]}:null}async function f(t,e){const{feature:a,attachment:r}=e,{globalId:o,name:n,contentType:l,data:i,uploadId:u}=r,d={globalId:o};if(a&&(\"attributes\"in a?d.parentGlobalId=a.attributes?.[t.globalIdField]:a.globalId&&(d.parentGlobalId=a.globalId)),u)d.uploadId=u;else if(i){const t=await s(i);t&&(d.contentType=t.mediaType,d.data=t.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function g(t,e,a){if(!e||0===e.length)return[];if(a&&d(e))return e.map((t=>t.globalId));if(c(e))return e.map((t=>t.objectId));const r=a?t.globalIdField:t.objectIdField;return r?e.map((t=>t.getAttribute(r))):[]}function b(t){const e=t?.assetMaps;if(e){for(const t of e.addResults)t.success||a.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${t.globalId}.`);for(const t of e.updateResults)t.success||a.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${t.globalId}.`)}const r=t?.attachments,s={addFeatureResults:t?.addResults?.map(R)??[],updateFeatureResults:t?.updateResults?.map(R)??[],deleteFeatureResults:t?.deleteResults?.map(R)??[],addAttachmentResults:r?.addResults?r.addResults.map(R):[],updateAttachmentResults:r?.updateResults?r.updateResults.map(R):[],deleteAttachmentResults:r?.deleteResults?r.deleteResults.map(R):[]};return t?.editMoment&&(s.editMoment=t.editMoment),s}function R(t){const a=!0===t.success?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:a?new e(\"feature-layer-source:edit-failure\",a.description,{code:a.code}):null}}function y(e,a){return new t({attributes:e.attributes,geometry:n({...e.geometry,spatialReference:a})})}function I(t,e){return{adds:t?.adds?.map((t=>y(t,e)))||[],updates:t?.updates?.map((t=>({original:y(t[0],e),current:y(t[1],e)})))||[],deletes:t?.deletes?.map((t=>y(t,e)))||[],spatialReference:e}}function h(t){const e=t.details.raw,a=+e.code,r=+e.extendedCode;return 500===a&&(-2147217144===r||-2147467261===r)}export{I as createEditedFeatures,R as createFeatureEditResult,m as getAttachmentEditsJSON,g as getFeatureIds,p as getFeatureJSON,h as isProtectedOrPrivateVersionError,b as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{getMimeTypeFormatId as y,getFilenameFormatId as g}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as b,getEffectiveLayerCapabilities as w}from\"../support/layerUtils.js\";function F(e){return null!=e?.applyEdits}function A(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function v(e){return e.every(A)}function I(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function $(e){return e.every(I)}async function E(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await S(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function S(e,t,r,s){if(await e.load(),!F(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!b(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await R(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function R(e,t,r){const i=w(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(M(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=V(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>T(e,t)))}u.addFeatures.forEach((t=>U(t,e,p,c))),u.updateFeatures.forEach((t=>L(t,e,p,c))),u.deleteFeatures.forEach((t=>k(t,e,p,c))),u.addAttachments.forEach((t=>B(t,e))),u.updateAttachments.forEach((t=>B(t,e))),l&&await z(u,e);return{edits:await D(u),options:d}}function j(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function O(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function U(e,t,a,r){j(e,t,a,r),O(e,t)}function k(e,t,a,r){j(e,t,a,r)}function L(e,t,r,s){j(e,t,r,s),O(e,t);const i=w(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function B(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function D(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function G(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function V(e,t,r){const s=G(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(x),s.updateFeatures=s.updateFeatures.map(x),s.addAssetFeatures=[],s}function M(e,t,r,s,i,n){if(!e||!s&&!i)throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function x(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function z(e,t){if(null==t.infoFor3D)return;const{infoFor3D:r}=t,s=y(\"model/gltf-binary\",r.supportedFormats)??g(\"glb\",r.supportedFormats);if(!(!!s&&r.editFormats.includes(s)))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:i}=e;for(const a of e.addFeatures??[])q(a)&&i.push(a);for(const a of e.updateFeatures??[])q(a)&&i.push(a)}function q(e){return\"mesh\"===e?.geometry?.type}function W(e,t,r,s){if(!F(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{E as applyEdits,M as checkEditingCapabilities,$ as isFeatureIdentifierArrayWithGlobalId,v as isFeatureIdentifierArrayWithObjectId,I as isFeatureIdentifierWithGlobalId,A as isFeatureIdentifierWithObjectId,G as normalizeCollections,V as normalizeEdits,D as normalizeGeometries,x as shallowCloneFeature,W as uploadAssets};\n"],"names":["async","p","t","e","a","geometry","s","n","attributes","type","_I$z","transformFieldRoles","origin","d","spatialReference","c","transform","vertexSpace","m","f","g","b","isGeographic","R","l","y","i","u","I","o","originX","x","originY","originZ","z","translation","scale","rotation","r","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","_e$addAttachments","_e$updateAttachments","_e$deleteAttachments","Promise","all","addAttachments","map","updateAttachments","deleteAttachments","length","adds","updates","deletes","_a$attributes","feature","attachment","globalId","name","contentType","data","uploadId","parentGlobalId","globalIdField","mediaType","File","objectId","objectIdField","getAttribute","_t$addResults$map","_t$addResults","_t$updateResults$map","_t$updateResults","_t$deleteResults$map","_t$deleteResults","assetMaps","addResults","success","getLogger","error","concat","updateResults","attachments","addFeatureResults","updateFeatureResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","editMoment","code","description","_t$adds","_t$updates","_t$deletes","original","current","h","details","raw","extendedCode","F","applyEdits","A","v","every","$","E","_s$gdbVersion","arguments","undefined","gdbVersion","url","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","_i$editedFeatureResul","results","edits","_i$addFeatures","_i$updateFeatures","_i$deleteFeatures","_i$addAttachments","_i$updateAttachments","_i$deleteAttachments","load","layer","options","w","addFeatures","updateFeatures","deleteFeatures","infoFor3D","M","isVersioned","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","V","globalIdUsed","fields","filter","forEach","T","j","O","U","supportsGeometryUpdate","L","k","B","_y","_e$addAssetFeatures","supportedFormats","editFormats","includes","addAssetFeatures","_e$addFeatures3","q","push","_e$updateFeatures3","D","S","exceededTransferLimit","historicMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","Number","MAX_SAFE_INTEGER","_t$capabilities","_t$capabilities2","hasZ","capabilities","supportsZ","hasM","supportsM","_e$geometry","wkid","_t$capabilities3","supportsUploadWithItemId","isBase64","_e$addFeatures","_e$updateFeatures","slice","_s$addFeatures","_s$updateFeatures","_s$deleteFeatures","_e$addFeatures2","_e$updateFeatures2","Array","from","isCollection","toArray","G","operations","supportsAdd","supportsUpdate","supportsDelete","supportsGlobalId","_e$geometry2","W","uploadAssets"],"sourceRoot":""}