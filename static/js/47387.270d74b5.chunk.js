"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[47387],{44230:(t,e,r)=>{r.d(e,{C:()=>l,Cr:()=>h,H6:()=>_,_I:()=>E,dz:()=>T,fA:()=>u,kb:()=>f,ld:()=>p,sd:()=>O,vt:()=>c});var n=r(15941),i=r(97467),s=r(20664),a=r(9392),o=r(75762);function c(t){return t?{origin:(0,a.o8)(t.origin),vector:(0,a.o8)(t.vector)}:{origin:(0,a.vt)(),vector:(0,a.vt)()}}function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();return u(t.origin,t.vector,e)}function u(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return(0,s.c)(r.origin,t),(0,s.c)(r.vector,e),r}function h(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return(0,s.c)(r.origin,t),(0,s.f)(r.vector,e,t),r}function f(t,e){const r=(0,s.f)(o.rq.get(),e,t.origin),i=(0,s.k)(t.vector,r),a=(0,s.k)(t.vector,t.vector),c=(0,n.qE)(i/a,0,1),l=(0,s.f)(o.rq.get(),(0,s.h)(o.rq.get(),t.vector,c),r);return(0,s.k)(l,l)}function E(t,e,r){return _(t,e,0,1,r)}function O(t,e,r){return(0,s.g)(r,t.origin,(0,s.h)(r,t.vector,e))}function _(t,e,r,i,a){const{vector:c,origin:l}=t,u=(0,s.f)(o.rq.get(),e,l),h=(0,s.k)(c,u)/(0,s.p)(c);return(0,s.h)(a,c,(0,n.qE)(h,r,i)),(0,s.g)(a,a,t.origin)}function T(t,e){if(d(t,function(t,e){const r=m.get();return r.origin=t,r.vector=e,r}(e.origin,e.direction),!1,v)){const{tA:e,pB:r,distance2:n}=v;if(e>=0&&e<=1)return n;if(e<0)return(0,s.a)(t.origin,r);if(e>1)return(0,s.a)((0,s.g)(o.rq.get(),t.origin,t.vector),r)}return null}function p(t,e,r){return!!d(t,e,!0,v)&&((0,s.c)(r,v.pA),!0)}function d(t,e,r,i){const a=1e-6,c=t.origin,l=(0,s.g)(o.rq.get(),c,t.vector),u=e.origin,h=(0,s.g)(o.rq.get(),u,e.vector),f=o.rq.get(),E=o.rq.get();if(f[0]=c[0]-u[0],f[1]=c[1]-u[1],f[2]=c[2]-u[2],E[0]=h[0]-u[0],E[1]=h[1]-u[1],E[2]=h[2]-u[2],Math.abs(E[0])<a&&Math.abs(E[1])<a&&Math.abs(E[2])<a)return!1;const O=o.rq.get();if(O[0]=l[0]-c[0],O[1]=l[1]-c[1],O[2]=l[2]-c[2],Math.abs(O[0])<a&&Math.abs(O[1])<a&&Math.abs(O[2])<a)return!1;const _=f[0]*E[0]+f[1]*E[1]+f[2]*E[2],T=E[0]*O[0]+E[1]*O[1]+E[2]*O[2],p=f[0]*O[0]+f[1]*O[1]+f[2]*O[2],d=E[0]*E[0]+E[1]*E[1]+E[2]*E[2],v=(O[0]*O[0]+O[1]*O[1]+O[2]*O[2])*d-T*T;if(Math.abs(v)<a)return!1;let m=(_*T-p*d)/v,I=(_+T*m)/d;r&&(m=(0,n.qE)(m,0,1),I=(0,n.qE)(I,0,1));const A=o.rq.get(),g=o.rq.get();return A[0]=c[0]+m*O[0],A[1]=c[1]+m*O[1],A[2]=c[2]+m*O[2],g[0]=u[0]+I*E[0],g[1]=u[1]+I*E[1],g[2]=u[2]+I*E[2],i.tA=m,i.tB=I,i.pA=A,i.pB=g,i.distance2=(0,s.a)(A,g),!0}const v={tA:0,tB:0,pA:(0,a.vt)(),pB:(0,a.vt)(),distance2:0},m=new i.I((()=>c()))},22955:(t,e,r)=>{r.d(e,{b:()=>c});var n=r(35143),i=r(91967),s=r(46053),a=(r(81806),r(76460),r(47249),r(85842));let o=class extends i.A{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1}};(0,n._)([(0,s.MZ)()],o.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"DECONFLICTOR_SHOW_GRID",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"LABELS_SHOW_BORDER",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"TEXT_SHOW_BASELINE",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"TEXT_SHOW_BORDER",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"OVERLAY_SHOW_CENTER",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"SHOW_POI",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"I3S_TREE_SHOW_TILES",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"I3S_SHOW_MODIFICATIONS",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),(0,n._)([(0,s.MZ)()],o.prototype,"LINE_WIREFRAMES",void 0),o=(0,n._)([(0,a.$)("esri.views.3d.support.DebugFlags")],o);const c=new o},64839:(t,e,r)=>{r.d(e,{H:()=>i,Y:()=>n});const n=class{};function i(t){let e="";for(let r=0;r<(arguments.length<=1?0:arguments.length-1);r++)e+=t[r]+(r+1<1||arguments.length<=r+1?void 0:arguments[r+1]);return e+=t[t.length-1],e}!function(t){t.int=function(t){return Math.round(t).toString()},t.float=function(t){return t.toPrecision(8)}}(i||(i={}))},72085:(t,e,r)=>{r.d(e,{H:()=>s,a:()=>i});var n=r(91417);class i{constructor(){this.enabled=!0,this._time=(0,n.l5)(0)}get time(){return this._time}advance(t){let{deltaTime:e,fixedTime:r}=t;return null!=r?this._time!==r&&(this._time=r,!0):(this._time=(0,n.l5)(this._time+e),0!==e)}}class s{constructor(t,e){this.deltaTime=t,this.fixedTime=e}}},73146:(t,e,r)=>{r.d(e,{J:()=>i});var n=r(90632);class i{constructor(){this.id=(0,n.c)()}}},87634:(t,e,r)=>{var n;r.d(e,{X:()=>n}),function(t){t[t.Layer=0]="Layer",t[t.Object=1]="Object",t[t.Mesh=2]="Mesh",t[t.Line=3]="Line",t[t.Point=4]="Point",t[t.Material=5]="Material",t[t.Texture=6]="Texture",t[t.COUNT=7]="COUNT"}(n||(n={}))},32119:(t,e,r)=>{r.d(e,{D:()=>i});var n=r(66470);const i=new Map([[n.r.POSITION,0],[n.r.NORMAL,1],[n.r.NORMALCOMPRESSED,1],[n.r.UV0,2],[n.r.COLOR,3],[n.r.COLORFEATUREATTRIBUTE,3],[n.r.SIZE,4],[n.r.TANGENT,4],[n.r.CENTEROFFSETANDDISTANCE,5],[n.r.SYMBOLCOLOR,5],[n.r.FEATUREATTRIBUTE,6],[n.r.INSTANCEFEATUREATTRIBUTE,6],[n.r.INSTANCECOLOR,7],[n.r.OBJECTANDLAYERIDCOLOR,7],[n.r.INSTANCEOBJECTANDLAYERIDCOLOR,7],[n.r.INSTANCEMODEL,8],[n.r.INSTANCEMODELNORMAL,12],[n.r.INSTANCEMODELORIGINHI,11],[n.r.INSTANCEMODELORIGINLO,15]])},45463:(t,e,r)=>{r.d(e,{im:()=>E,m$:()=>n,qA:()=>_,sP:()=>O});var n,i,s=r(9392),a=r(64839),o=r(72085),c=r(83490),l=r(73146),u=r(87634),h=r(32119),f=r(99362);class E extends l.J{constructor(t,e){super(),this.type=u.X.Material,this.supportsEdges=!1,this._visible=!0,this._renderPriority=0,this._vertexAttributeLocations=h.D,this._pp0=(0,s.fA)(0,0,1),this._pp1=(0,s.fA)(0,0,0),this._parameters=(0,f.qu)(t,e),this.validateParameters(this._parameters)}get parameters(){return this._parameters}update(t){return!1}setParameters(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,f.MB)(this._parameters,t)&&(this.validateParameters(this._parameters),e&&this.parametersChanged())}validateParameters(t){}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.parametersChanged())}shouldRender(t){return this.isVisible()&&this.isVisibleForOutput(t.output)&&(!this.parameters.isDecoration||t.bindParameters.decorations===c.ID.ON)&&0!=(this.parameters.renderOccluded&t.renderOccludedMask)}isVisibleForOutput(t){return!0}get renderPriority(){return this._renderPriority}set renderPriority(t){t!==this._renderPriority&&(this._renderPriority=t,this.parametersChanged())}get vertexAttributeLocations(){return this._vertexAttributeLocations}isVisible(){return this._visible}parametersChanged(){var t;null===(t=this.repository)||void 0===t||t.materialChanged(this)}queryRenderOccludedState(t){return this.isVisible()&&this.parameters.renderOccluded===t}intersectDraped(t,e,r,n,i,s){return this._pp0[0]=this._pp1[0]=n[0],this._pp0[1]=this._pp1[1]=n[1],this.intersect(t,e,r,this._pp0,this._pp1,i)}}class O extends o.H{constructor(t,e,r){super(e,r),this.camera=t}}(i=n||(n={}))[i.None=0]="None",i[i.Occlude=1]="Occlude",i[i.Transparent=2]="Transparent",i[i.OccludeAndTransparent=4]="OccludeAndTransparent",i[i.OccludeAndTransparentStencil=8]="OccludeAndTransparentStencil",i[i.Opaque=16]="Opaque";class _ extends a.Y{constructor(){super(...arguments),this.renderOccluded=n.Occlude,this.isDecoration=!1}}},86994:(t,e,r)=>{r.d(e,{Cv:()=>h,L:()=>u,MX:()=>c,M_:()=>E,O_:()=>l,kL:()=>f,vA:()=>o,zH:()=>O});var n=r(72745),i=r(43047);const s=(0,r(55855).vt)();class a{constructor(t){this.message=t}toString(){return"AssertException: ".concat(this.message)}}function o(t,e){if(!t){e=e||"Assertion";const t=new Error(e).stack;throw new a("".concat(e," at ").concat(t))}}function c(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function l(t,e,r,n){let i,s=(r[0]-t[0])/e[0],a=(n[0]-t[0])/e[0];s>a&&(i=s,s=a,a=i);let o=(r[1]-t[1])/e[1],c=(n[1]-t[1])/e[1];if(o>c&&(i=o,o=c,c=i),s>c||o>a)return!1;o>s&&(s=o),c<a&&(a=c);let l=(r[2]-t[2])/e[2],u=(n[2]-t[2])/e[2];return l>u&&(i=l,l=u,u=i),!(s>u||l>a)&&(u<a&&(a=u),!(a<0))}function u(t,e,r,i,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,n.vt)();const o=(i[s]-r[s])*(e[0]-t[0])-(i[0]-r[0])*(e[s]-t[s]),c=(i[0]-r[0])*(t[s]-r[s])-(i[s]-r[s])*(t[0]-r[0]);if(0===o)return!1;const l=c/o;return a[0]=t[0]+l*(e[0]-t[0]),a[1]=t[s]+l*(e[s]-t[s]),!0}function h(t,e,r,n,a){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=1,(0,i.t)(s,s,e),a.length>2&&(a[2]=-s[2]),(0,i.t)(s,s,r),o(0!==s[3]),a[0]=s[0]/s[3],a[1]=s[1]/s[3],a[2]=s[2]/s[3],a[0]=(.5*a[0]+.5)*n[2]+n[0],a[1]=(.5*a[1]+.5)*n[3]+n[1]}function f(t,e){return Math.log(t)/Math.log(e)}function E(t,e,r,n){t[12]=e,t[13]=r,t[14]=n}function O(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}},66470:(t,e,r)=>{var n;function i(t){return t===n.POSITION}r.d(e,{b:()=>i,r:()=>n}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(n||(n={}))},83490:(t,e,r)=>{var n,i,s,a,o,c,l,u,h;r.d(e,{Am:()=>a,C7:()=>s,ID:()=>u,JS:()=>h,Mg:()=>c,dd:()=>o,it:()=>i,s2:()=>n,sf:()=>l}),function(t){t[t.None=0]="None",t[t.Front=1]="Front",t[t.Back=2]="Back",t[t.COUNT=3]="COUNT"}(n||(n={})),function(t){t[t.Less=0]="Less",t[t.Lequal=1]="Lequal",t[t.COUNT=2]="COUNT"}(i||(i={})),function(t){t[t.BACKGROUND=0]="BACKGROUND",t[t.UPDATE=1]="UPDATE"}(s||(s={})),function(t){t[t.NOT_LOADED=0]="NOT_LOADED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(a||(a={})),function(t){t[t.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",t[t.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(o||(o={})),function(t){t[t.Highlight=0]="Highlight",t[t.MaskOccludee=1]="MaskOccludee",t[t.COUNT=2]="COUNT"}(c||(c={})),function(t){t[t.Blend=0]="Blend",t[t.Opaque=1]="Opaque",t[t.Mask=2]="Mask",t[t.MaskBlend=3]="MaskBlend",t[t.COUNT=4]="COUNT"}(l||(l={})),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON"}(u||(u={})),function(t){t.DDS_ENCODING="image/vnd-ms.dds",t.KTX2_ENCODING="image/ktx2",t.BASIS_ENCODING="image/x.basis"}(h||(h={}))},12028:(t,e,r)=>{r.d(e,{M4:()=>a,MD:()=>u,cJ:()=>l,hs:()=>h,m0:()=>c,mt:()=>s});var n=r(15941),i=r(64465);function s(t,e){return new f(t,E,e)}function a(t,e){const{curvatureDependent:r,scaleStart:n,scaleFallOffRange:i}=E;return new f(t,{curvatureDependent:{min:{curvature:r.min.curvature,tiltAngle:r.min.tiltAngle,scaleFallOffFactor:O.curvatureDependent.min.scaleFallOffFactor},max:{curvature:r.max.curvature,tiltAngle:r.max.tiltAngle,scaleFallOffFactor:O.curvatureDependent.max.scaleFallOffFactor}},scaleStart:n,scaleFallOffRange:i,minPixelSize:O.minPixelSize},e)}function o(t,e,r){const n=r.parameters;return _.scale=Math.min(n.divisor/(e-n.offset),1),_.factor=function(t){return Math.abs(t*t*t)}(t),_}function c(t,e){return(0,n.Cc)(t*Math.max(e.scale,e.minScaleFactor),t,e.factor)}function l(t,e,r,n){n.scale=function(t,e,r){const n=o(t,e,r);return n.minScaleFactor=0,c(1,n)}(t,e,r),n.factor=0,n.minScaleFactor=r.minScaleFactor}function u(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];const n=Math.min(Math.max(e.scale,e.minScaleFactor),1);return r[0]=t[0]*n,r[1]=t[1]*n,r}function h(t,e,r,n){return c(t,o(e,r,n))}class f{get minScaleFactor(){return null!=this._fontHeight?Math.min(this._description.minPixelSize/this._fontHeight,1):0}constructor(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{camera:{distance:0,fovY:0},divisor:0,offset:0},s=arguments.length>4?arguments[4]:void 0;this._viewingMode=t,this._description=e,this._ellipsoidRadius=r,this.parameters=n,this._fontHeight=s,this._viewingMode===i.RT.Local?(this._coverageCompensation=this._surfaceCoverageCompensationLocal,this._calculateCurvatureDependentParameters=this._calculateCurvatureDependentParametersLocal):(this._coverageCompensation=this._surfaceCoverageCompensationGlobal,this._calculateCurvatureDependentParameters=this._calculateCurvatureDependentParametersGlobal)}update(t){return(!this.parameters||this.parameters.camera.fovY!==t.fovY||this.parameters.camera.distance!==t.distance)&&(this._calculateParameters(t,this._ellipsoidRadius,this.parameters),!0)}overrideFontHeight(t){return t!==this._fontHeight?new f(this._viewingMode,this._description,this._ellipsoidRadius,this.parameters,t):this}_calculateParameters(t,e,r){const{scaleStart:n,scaleFallOffRange:i}=this._description,{fovY:s,distance:a}=t,o=this._calculateCurvatureDependentParameters(t,e),c=this._coverageCompensation(t,e,o),{tiltAngle:l,scaleFallOffFactor:u}=o,h=Math.sin(l)*a,f=.5*Math.PI-l-s*(.5-n*c),E=h/Math.cos(f),O=f+s*i*c,_=(E-u*(h/Math.cos(O)))/(1-u);return r.camera.fovY=t.fovY,r.camera.distance=t.distance,r.offset=_,r.divisor=E-_,r}_calculateCurvatureDependentParametersLocal(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return r.tiltAngle=this._description.curvatureDependent.min.tiltAngle,r.scaleFallOffFactor=this._description.curvatureDependent.min.scaleFallOffFactor,r}_calculateCurvatureDependentParametersGlobal(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;const i=this._description.curvatureDependent,s=1+t.distance/e,a=Math.sqrt(s*s-1),[o,c]=[i.min.curvature,i.max.curvature],l=(0,n.qE)((a-o)/(c-o),0,1),[u,h]=[i.min,i.max];return r.tiltAngle=(0,n.Cc)(u.tiltAngle,h.tiltAngle,l),r.scaleFallOffFactor=(0,n.Cc)(u.scaleFallOffFactor,h.scaleFallOffFactor,l),r}_surfaceCoverageCompensationLocal(t,e,r){return(t.fovY-r.tiltAngle)/t.fovY}_surfaceCoverageCompensationGlobal(t,e,r){const n=e*e,i=r.tiltAngle+.5*Math.PI,{fovY:s,distance:a}=t,o=a*a+n-2*Math.cos(i)*a*e,c=Math.sqrt(o),l=Math.sqrt(o-n);return(Math.acos(l/c)-Math.asin(e/(c/Math.sin(i)))+.5*s)/s}}const E={curvatureDependent:{min:{curvature:(0,n.kU)(10),tiltAngle:(0,n.kU)(12),scaleFallOffFactor:.5},max:{curvature:(0,n.kU)(70),tiltAngle:(0,n.kU)(40),scaleFallOffFactor:.8}},scaleStart:.3,scaleFallOffRange:.65,minPixelSize:0},O={curvatureDependent:{min:{scaleFallOffFactor:.7},max:{scaleFallOffFactor:.95}},minPixelSize:14};const _={scale:0,factor:0,minScaleFactor:0},T={tiltAngle:0,scaleFallOffFactor:0}},97974:(t,e,r)=>{r.d(e,{XG:()=>p,dd:()=>v,dg:()=>f,fo:()=>m,ou:()=>_});var n=r(63919),i=r(44680),s=r(34761),a=r(13191),o=r(20664),c=r(9392),l=r(93582),u=r(64465),h=r(59231);class f{constructor(){this._transform=(0,a.vt)(),this._transformInverse=new E({value:this._transform},s.B8,a.vt),this._transformInverseTranspose=new E(this._transformInverse,s.mg,a.vt),this._transformTranspose=new E({value:this._transform},s.mg,a.vt),this._transformInverseRotation=new E({value:this._transform},n.dR,i.vt)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){(0,s.C)(this._transform,t)}multiplyTransform(t){(0,s.lw)(this._transform,this._transform,t)}set(t){(0,s.C)(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,e){this.setTransformMatrix(t),this.multiplyTransform(e),this._invalidateLazyTransforms()}}class E{constructor(t,e,r){this._original=t,this._update=e,this._dirty=!0,this._transform=r()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}const O=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.sphere=(0,l.c)(),this.tmpVertex=(0,c.vt)()}applyToVertex(t,e,r){const n=this.objectTransform.transform,i=(0,o.s)(I,t,e,r),s=(0,o.e)(i,i,n),a=this.offset/(0,o.l)(s);(0,o.r)(s,s,s,a);const c=this.objectTransform.inverse;return(0,o.e)(this.tmpVertex,s,c),this.tmpVertex}applyToMinMax(t,e){const r=this.offset/(0,o.l)(t);(0,o.r)(t,t,t,r);const n=this.offset/(0,o.l)(e);(0,o.r)(e,e,e,n)}applyToAabb(t){const e=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*e,t[1]+=t[1]*e,t[2]+=t[2]*e;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const e=(0,o.l)((0,l.g)(t)),r=this.offset/e;return(0,o.r)((0,l.g)(this.sphere),(0,l.g)(t),(0,l.g)(t),r),this.sphere[3]=t[3]+t[3]*this.offset/e,this.sphere}};function _(t){return null!=t?(O.offset=t,O):null}const T=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.componentLocalOriginLength=0,this._totalOffset=0,this._offset=0,this._tmpVertex=(0,c.vt)(),this._tmpMbs=(0,l.c)(),this._tmpObb=new h.ab,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=(0,o.l)(t)}applyToVertex(t,e,r){const n=(0,o.s)(I,t,e,r),i=(0,o.s)(A,t,e,r+this.componentLocalOriginLength),s=this._totalOffset/(0,o.l)(i);return(0,o.r)(this._tmpVertex,n,i,s),this._tmpVertex}applyToAabb(t){const e=this.componentLocalOriginLength,r=t[0],n=t[1],i=t[2]+e,s=t[3],a=t[4],o=t[5]+e,c=Math.abs(r),l=Math.abs(n),u=Math.abs(i),h=Math.abs(s),f=Math.abs(a),E=Math.abs(o),O=.5*(1+Math.sign(r*s))*Math.min(c,h),_=.5*(1+Math.sign(n*a))*Math.min(l,f),T=.5*(1+Math.sign(i*o))*Math.min(u,E),p=Math.max(c,h),d=Math.max(l,f),v=Math.max(u,E),m=Math.sqrt(O*O+_*_+T*T),I=Math.sign(c+r),A=Math.sign(l+n),g=Math.sign(u+i),S=Math.sign(h+s),M=Math.sign(f+a),R=Math.sign(E+o),N=this._totalOffset;if(m<N)return t[0]-=(1-I)*N,t[1]-=(1-A)*N,t[2]-=(1-g)*N,t[3]+=S*N,t[4]+=M*N,t[5]+=R*N,t;const L=N/Math.sqrt(p*p+d*d+v*v),C=N/m,D=C-L,F=-D;return t[0]+=r*(I*F+C),t[1]+=n*(A*F+C),t[2]+=i*(g*F+C),t[3]+=s*(S*D+L),t[4]+=a*(M*D+L),t[5]+=o*(R*D+L),t}applyToMbs(t){const e=(0,o.l)((0,l.g)(t)),r=this._totalOffset/e;return(0,o.r)((0,l.g)(this._tmpMbs),(0,l.g)(t),(0,l.g)(t),r),this._tmpMbs[3]=t[3]+t[3]*this._totalOffset/e,this._tmpMbs}applyToObb(t){return(0,h.gm)(t,this._totalOffset,this._totalOffset,u.RT.Global,this._tmpObb),this._tmpObb}};function p(t){return null!=t?(T.offset=t,T):null}const d=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.tmpVertex=(0,c.vt)()}applyToVertex(t,e,r){const n=(0,o.s)(I,t,e,r),i=(0,o.g)(A,n,this.localOrigin),s=this.offset/(0,o.l)(i);return(0,o.r)(this.tmpVertex,n,i,s),this.tmpVertex}applyToAabb(t){const e=g,r=S,n=M;for(let o=0;o<3;++o)e[o]=t[0+o]+this.localOrigin[o],r[o]=t[3+o]+this.localOrigin[o],n[o]=e[o];const i=this.applyToVertex(e[0],e[1],e[2]);for(let o=0;o<3;++o)t[o]=i[o],t[o+3]=i[o];const s=e=>{const r=this.applyToVertex(e[0],e[1],e[2]);for(let n=0;n<3;++n)t[n]=Math.min(t[n],r[n]),t[n+3]=Math.max(t[n+3],r[n])};for(let o=1;o<8;++o){for(let t=0;t<3;++t)n[t]=0==(o&1<<t)?e[t]:r[t];s(n)}let a=0;for(let o=0;o<3;++o)e[o]*r[o]<0&&(a|=1<<o);if(0!==a&&7!==a)for(let o=0;o<8;++o)if(0==(a&o)){for(let t=0;t<3;++t)n[t]=0!=(a&1<<t)?0:0!=(o&1<<t)?e[t]:r[t];s(n)}for(let o=0;o<3;++o)t[o]-=this.localOrigin[o],t[o+3]-=this.localOrigin[o];return t}};function v(t){return null!=t?(d.offset=t,d):null}const m="terrain",I=(0,c.vt)(),A=(0,c.vt)(),g=(0,c.vt)(),S=(0,c.vt)(),M=(0,c.vt)()},99362:(t,e,r)=>{r.d(e,{MB:()=>R,OO:()=>I,Um:()=>L,Uy:()=>E,Wb:()=>A,Z$:()=>p,d2:()=>g,ho:()=>m,kE:()=>S,qu:()=>M});var n=r(18690),i=r(15941),s=r(20664),a=r(9392),o=r(42294),c=r(87634),l=r(12028),u=r(86994),h=r(66470);const f=(0,o.vt)();function E(t,e,r,n,i,s){if(t.visible)if(t.boundingInfo){(0,u.vA)(t.type===c.X.Mesh);const a=e.tolerance;_(t.boundingInfo,r,n,a,i,s)}else{const e=t.attributes.get(h.r.POSITION),a=e.indices;p(r,n,0,a.length/3,a,e,void 0,i,s)}}const O=(0,a.vt)();function _(t,e,r,n,i,s){if(null==t)return;const a=I(e,r,O);if((0,o.Ne)(f,t.bbMin),(0,o.vI)(f,t.bbMax),null!=i&&i.applyToAabb(f),A(f,e,a,n)){const{primitiveIndices:a,position:o}=t,c=a?a.length:o.indices.length/3;if(c>C){const a=t.getChildren();if(void 0!==a){for(const t of a)_(t,e,r,n,i,s);return}}p(e,r,0,c,o.indices,o,a,i,s)}}const T=(0,a.vt)();function p(t,e,r,n,i,s,a,o,c){if(a)return function(t,e,r,n,i,s,a,o,c){const{data:l,stride:u}=s,h=t[0],f=t[1],E=t[2],O=e[0]-h,_=e[1]-f,p=e[2]-E;for(let d=r;d<n;++d){const t=a[d];let e=3*t,r=u*i[e++],n=l[r++],s=l[r++],v=l[r];r=u*i[e++];let I=l[r++],A=l[r++],g=l[r];r=u*i[e];let S=l[r++],M=l[r++],R=l[r];null!=o&&([n,s,v]=o.applyToVertex(n,s,v,d),[I,A,g]=o.applyToVertex(I,A,g,d),[S,M,R]=o.applyToVertex(S,M,R,d));const N=I-n,L=A-s,C=g-v,D=S-n,F=M-s,b=R-v,y=_*b-F*p,x=p*D-b*O,P=O*F-D*_,U=N*y+L*x+C*P;if(Math.abs(U)<=Number.EPSILON)continue;const B=h-n,V=f-s,H=E-v,W=B*y+V*x+H*P;if(U>0){if(W<0||W>U)continue}else if(W>0||W<U)continue;const G=V*C-L*H,q=H*N-C*B,k=B*L-N*V,Z=O*G+_*q+p*k;if(U>0){if(Z<0||W+Z>U)continue}else if(Z>0||W+Z<U)continue;const w=(D*G+F*q+b*k)/U;w>=0&&c(w,m(N,L,C,D,F,b,T),t,!1)}}(t,e,r,n,i,s,a,o,c);const{data:l,stride:u}=s,h=t[0],f=t[1],E=t[2],O=e[0]-h,_=e[1]-f,p=e[2]-E;for(let d=r,v=3*r;d<n;++d){let t=u*i[v++],e=l[t++],r=l[t++],n=l[t];t=u*i[v++];let s=l[t++],a=l[t++],I=l[t];t=u*i[v++];let A=l[t++],g=l[t++],S=l[t];null!=o&&([e,r,n]=o.applyToVertex(e,r,n,d),[s,a,I]=o.applyToVertex(s,a,I,d),[A,g,S]=o.applyToVertex(A,g,S,d));const M=s-e,R=a-r,N=I-n,L=A-e,C=g-r,D=S-n,F=_*D-C*p,b=p*L-D*O,y=O*C-L*_,x=M*F+R*b+N*y;if(Math.abs(x)<=Number.EPSILON)continue;const P=h-e,U=f-r,B=E-n,V=P*F+U*b+B*y;if(x>0){if(V<0||V>x)continue}else if(V>0||V<x)continue;const H=U*N-R*B,W=B*M-N*P,G=P*R-M*U,q=O*H+_*W+p*G;if(x>0){if(q<0||V+q>x)continue}else if(q>0||V+q<x)continue;const k=(L*H+C*W+D*G)/x;k>=0&&c(k,m(M,R,N,L,C,D,T),d,!1)}}const d=(0,a.vt)(),v=(0,a.vt)();function m(t,e,r,n,i,a,o){return(0,s.s)(d,t,e,r),(0,s.s)(v,n,i,a),(0,s.b)(o,d,v),(0,s.n)(o,o),o}function I(t,e,r){return(0,s.s)(r,1/(e[0]-t[0]),1/(e[1]-t[1]),1/(e[2]-t[2]))}function A(t,e,r,n){return g(t,e,r,n,1/0)}function g(t,e,r,n,i){const s=(t[0]-n-e[0])*r[0],a=(t[3]+n-e[0])*r[0];let o=Math.min(s,a),c=Math.max(s,a);const l=(t[1]-n-e[1])*r[1],u=(t[4]+n-e[1])*r[1];if(c=Math.min(c,Math.max(l,u)),c<0)return!1;if(o=Math.max(o,Math.min(l,u)),o>c)return!1;const h=(t[2]-n-e[2])*r[2],f=(t[5]+n-e[2])*r[2];return c=Math.min(c,Math.max(h,f)),!(c<0)&&(o=Math.max(o,Math.min(h,f)),!(o>c)&&o<i)}function S(t,e,r,n,s){let a=(r.screenLength||0)*t.pixelRatio;null!=s&&(a=(0,l.hs)(a,n,e,s));const o=a*Math.tan(.5*t.fovY)/(.5*t.fullHeight);return(0,i.qE)(o*e,r.minWorldLength||0,null!=r.maxWorldLength?r.maxWorldLength:1/0)}function M(t,e){const r=e?M(e):{};for(const i in t){var n;let e=t[i];null!==(n=e)&&void 0!==n&&n.forEach&&(e=N(e)),null==e&&i in r||(r[i]=e)}return r}function R(t,e){let r=!1;for(const i in e){const s=e[i];void 0!==s&&(Array.isArray(s)?null===t[i]?(t[i]=s.slice(),r=!0):(0,n.yo)(t[i],s)&&(r=!0):t[i]!==s&&(r=!0,t[i]=s))}return r}function N(t){const e=[];return t.forEach((t=>e.push(t))),e}const L={multiply:1,ignore:2,replace:3,tint:4},C=1e3}}]);
//# sourceMappingURL=47387.270d74b5.chunk.js.map