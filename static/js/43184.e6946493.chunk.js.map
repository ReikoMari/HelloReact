{"version":3,"file":"static/js/43184.e6946493.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/support/viewUtils.js","../node_modules/@arcgis/core/geometry/projection/projectPolylineToWGS84ComparableLonLat.js","../node_modules/@arcgis/core/views/support/geodesicLengthMeasurementUtils.js","../node_modules/@arcgis/core/views/support/geodesicMeasurementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Logger.js\";import{watch as i,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{sqlAnd as s}from\"../../../core/sql.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as p}from\"../../../layers/support/floorFilterUtils.js\";import{isSubtypeGroupLayer as u,isFeatureLayer as y}from\"../../../layers/support/layerUtils.js\";import{isUtilityNetworkWebMap as c}from\"./snappingUtils.js\";import{scaleBoundsPredicate as d}from\"../../support/layerViewUtils.js\";let f=class extends r{get layerView(){return this.view?.allLayerViews?.find((e=>e.layer===this.layer))}get valid(){return this._valid}get subtypeFilter(){const{layer:e,snappingSource:r}=this;if(!u(e)||!e.subtypes?.length)return{mode:\"not-in-use\",filter:null};const t=r.layerSource.sublayerSources.filter((e=>e.enabled&&e.layer.visible&&d(this.view?.scale,e.layer.effectiveScaleRange.minScale,e.layer.effectiveScaleRange.maxScale))).map((e=>e.layer.subtypeCode));if(!t.length)return{mode:\"none-visible\",filter:null};if(t.length===e.subtypes.length)return{mode:\"all-visible\",filter:null};const i=e.fieldsIndex.get(e.subtypeField)?.name??e.subtypeField;return 1===t.length?{mode:\"in-use\",filter:`${i} = ${t.getItemAt(0)}`}:{mode:\"in-use\",filter:`${i} IN (${t.join(\", \")})`}}get floorFilter(){const{view:e,layer:r}=this;return e&&r?p({view:e,layer:r}):null}constructor(e){super(e),this.rulesTable=null,this._valid=!1}initialize(){if(!this.snappingSource||!this.layer)return;const{layer:e,snappingSource:r}=this;if(\"refresh\"in e){const t=e;this.addHandles(t.on(\"refresh\",(()=>r.refresh())))}this.loadRules(),this.addHandles([i((()=>r.updating),(e=>r.layerSource.updating=e),l),i((()=>r.availability),(e=>r.layerSource.availability=e),l)])}getFetchCandidatesParameters(e,r,t){if(!this.valid)return[];const{layer:i,layerView:l,floorFilter:o,rulesTable:a,subtypeFilter:p}=this,d={distance:t,mode:this.view?.type??\"2d\",point:e,coordinateHelper:r.coordinateHelper,...this._types,filter:l&&\"filter\"in l?l.filter:null};if(o&&(d.filter=h(d.filter,o)),\"not-in-use\"!==p.mode&&\"all-visible\"!==p.mode){if(\"none-visible\"===p.mode)return[];d.filter?d.filter.where=s(d.filter.where,p.mode):d.filter=new n({where:p.filter})}const f=r.feature,m=\"subtype-sublayer\"===f?.sourceLayer?.type?f.sourceLayer.parent:f?.sourceLayer;if(a&&f&&c(this.view?.map)&&(y(i)||u(i))&&i.layerId&&(y(m)||u(m))&&this.view.map.utilityNetworks?.find((e=>e.isUtilityLayer(m)))){if(\"loaded\"!==a.loadStatus)return[];const e=[],r=i.layerId,t=a.getFeatureSQL(m,f)?.[r];if(!t)return[];const l=t.anyVertex;let s=t.endVertex;return s&&l&&s===l&&(s=\"\"),s&&e.push({...d,returnEdge:!1,vertexMode:\"ends\",filter:h(d.filter,s)}),l&&e.push({...d,returnEdge:!1,vertexMode:\"all\",filter:h(d.filter,l)}),e}return[d]}async loadRules(){const{layer:e,view:r}=this;if(e&&r&&c(r?.map)&&(y(e)||u(e))){const l=r.map.utilityNetworks?.find((r=>r.isUtilityLayer(e)));if(l)try{this.rulesTable=await l.getRulesTable(),await(this.rulesTable?.load())}catch(i){return void t.getLogger(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\").error(\"Failed to load rules table for snapping source\",e.title)}}this._valid=!0}get _types(){return{returnEdge:!0,vertexMode:\"all\"}}remove(){this.destroy()}destroy(){this.snappingSource?.destroy()}};function h(e,r){return null==e?new n({where:r}):e.where?new n({where:s(e.where,r)}):new n({where:r})}e([o({constructOnly:!0})],f.prototype,\"layer\",void 0),e([o({constructOnly:!0})],f.prototype,\"snappingSource\",void 0),e([o({constructOnly:!0})],f.prototype,\"view\",void 0),e([o()],f.prototype,\"layerView\",null),e([o()],f.prototype,\"rulesTable\",void 0),e([o()],f.prototype,\"valid\",null),e([o()],f.prototype,\"subtypeFilter\",null),e([o()],f.prototype,\"floorFilter\",null),e([o()],f.prototype,\"_valid\",void 0),f=e([a(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\")],f);export{f as FeatureSnappingSourceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{destroyHandle as r}from\"../../../core/handleUtils.js\";import{allSettledValues as n,throwIfAborted as a}from\"../../../core/promiseUtils.js\";import{mapCollectionAsync as s}from\"../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as i,getMetersPerVerticalUnitForSR as o}from\"../../../core/unitUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as p}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{a as l,c as d}from\"../../../chunks/vec32.js\";import{create as m}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEpsilon as g}from\"../../../core/libs/gl-matrix-2/math/common.js\";import{UpdatingHandles as S}from\"../../../core/support/UpdatingHandles.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as f}from\"../sketch/constraints.js\";import{fromAnyMapPoint as y,asVec2 as _}from\"../sketch/normalizedPoint.js\";import{FeatureSnappingSourceInfo as v}from\"./FeatureSnappingSourceInfo.js\";import{SnappingDomain as w}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as j,screenDistance as F}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as x}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as C}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as b}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as R,OtherVertexType as L}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as M}from\"../support/viewUtils.js\";let I=class extends t{get updating(){return this._snappingSources.some((e=>null==e||e.valid&&e.snappingSource.updating))||this._updatingHandles.updating}constructor(e){super(e),this.options=null,this._domain=w.FEATURE,this._updatingHandles=new S,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){const e=s((()=>this.options?._effectiveFeatureSources),((e,t)=>this._createSourceInfo(e,t)));this._snappingSources=e,this.addHandles(r(e))}destroy(){this._set(\"options\",null),this._updatingHandles.destroy()}async fetchCandidates(e,t,r,s){if(!(t&this._domain&&null!=this.options&&this.options.effectiveFeatureEnabled))return[];const i=[],o=this._computeScreenSizeDistanceParameters(e,r);for(const n of this._snappingSources){if(null==n||!n.valid||!n.snappingSource.layerSource.enabled||n.layerView?.suspended)continue;const t=n.getFetchCandidatesParameters(e,r,o);for(const e of t)i.push(n.snappingSource.fetchCandidates(e,s).then((e=>e.filter((e=>!this._candidateIsExcluded(n.snappingSource,e,r.excludeFeature))))))}const c=(await n(i)).flat();return this._addRightAngleCandidates(c,e,o,r),a(s),j(e,c),c}_addRightAngleCandidates(e,t,r,n){const a=null!=n.vertexHandle?n.vertexHandle.rightEdge?.rightVertex?.pos:null!=n.editGeometryOperations&&\"polygon\"===n.editGeometryOperations.data.type?n.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos:null,s=null!=n.vertexHandle?n.vertexHandle.leftEdge?.leftVertex?.pos:null!=n.editGeometryOperations?n.editGeometryOperations.data.components[0]?.getLastVertex()?.pos:null,{view:i}=this,o=y(a,i,n),c=y(s,i,n),u=e.length;for(let p=0;p<u;p++)this._addRightAngleCandidate(e[p],c,t,r,e),this._addRightAngleCandidate(e[p],o,t,r,e)}_addRightAngleCandidate(e,t,r,n,a){if(null==t||!G(e))return;const s=e.constraint.closestTo(t),i=(s[0]-r[0])/n.x,o=(s[1]-r[1])/n.y,{start:c,end:u}=e.constraint;if(i*i+o*o<=1){const r=new R({targetPoint:s,otherVertex:t,otherVertexType:L.NEXT,previousVertex:p(_(s),_(c))>p(_(s),_(u))?c:u,constraint:new f(t,s),objectId:e.objectId,isDraped:e.isDraped});a.push(r)}}_computeScreenSizeDistanceParameters(e,t){let r=null!=this.options?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;return null==this.view?{x:r,y:r,z:r,distance:r}:\"2d\"===this.view.type?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,n){const{spatialReference:a}=n;r.renderCoordsHelper.toRenderCoords(e,a,E);const s=r.state.camera.computeScreenPixelSizeAt(E),c=s*r.renderCoordsHelper.unitInMeters,u=c/i(a),p=c/o(a),l=t*u,d=t*p,m=M(e,a,h,r),g=m?P(m,e,u,0,0,r,n):0,S=m?P(m,e,0,u,0,r,n):0,f=m?P(m,e,0,0,p,r,n):0;return{x:0===g?0:l/g,y:0===S?0:l/S,z:0===f?0:d/f,distance:s*t}}_candidateIsExcluded(e,t,r){if(null==r)return!1;const n=this._getCandidateObjectId(t);if(null==n)return!1;const a=e.layerSource.layer;return\"graphics\"===a.type?r.uid===n:r.sourceLayer===a&&(!(!r.attributes||!(\"objectIdField\"in a))&&r.attributes[a.objectIdField]===n)}_getCandidateObjectId(e){return e instanceof b?e.objectId:null}async _createSourceInfo(e,t){const r=e.layer;r.loaded||(await r.load(),a(t));const{view:n}=this,s=await this._createFeatureSnappingSourceType(e);return a(t),new v(null==s?{}:{snappingSource:s,view:n,layer:r})}async _createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e);case\"map-notes\":return this._createFeatureSnappingSourceMapNotesLayer(e);case\"scene\":case\"building-scene\":return this._createFeatureSnappingSourceSceneLayer(e)}return null}async _createFeatureSnappingSourceSceneLayer(e){const{view:t}=this;if(null==t||\"3d\"!==t.type)return null;return new((await this._getSourceModule(\"scene\")).SceneLayerSnappingSource)({layerSource:e,view:t})}async _createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source?.type){case\"feature-layer\":case\"oriented-imagery\":return new((await this._getSourceModule(\"featureService\")).FeatureServiceSnappingSource)({spatialReference:this.spatialReference,view:this.view,layerSource:e});case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":if(\"mesh\"===e.layer.geometryType)return null;return new((await this._getSourceModule(\"featureCollection\")).FeatureCollectionSnappingSource)({layerSource:e,view:this.view})}return null}async _createFeatureSnappingSourceGraphicsLayer(e){return new((await this._getSourceModule(\"graphics\")).GraphicsSnappingSource)({getGraphicsLayers:()=>[e.layer],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _createFeatureSnappingSourceMapNotesLayer(e){return new((await this._getSourceModule(\"notes\")).GraphicsSnappingSource)({getGraphicsLayers:()=>e.layer.sublayers?.toArray()??[],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _getSourceModule(e){const t=this._sourceModules[e];if(null==t.loader){const t=this._loadSourceModule(e),r={module:null,loader:t};this._sourceModules[e]=r;const n=await t,a={module:n,loader:t};return this._sourceModules[e]=a,n}return null==t.module?t.loader:t.module}_loadSourceModule(e){const t=this._updatingHandles;switch(e){case\"featureService\":return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":case\"notes\":return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));case\"scene\":return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"))}}get test(){return{snappingSources:this._snappingSources}}};function G(e){return(e instanceof C||e instanceof x)&&!H(e)}function H({constraint:{start:e,end:t}}){const r=l(e,t),n=p(_(e),_(t));return r<g()||n/r<A}function P(e,t,r,n,a,s,{spatialReference:i}){const o=d(z,t);o[0]+=r,o[1]+=n,o[2]+=a;const c=M(o,i,h,s);return c?F(c,e):1/0}e([c({constructOnly:!0})],I.prototype,\"spatialReference\",void 0),e([c({constructOnly:!0})],I.prototype,\"view\",void 0),e([c()],I.prototype,\"options\",void 0),e([c({readOnly:!0})],I.prototype,\"updating\",null),e([c()],I.prototype,\"_snappingSources\",void 0),I=e([u(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],I);const E=m(),z=m(),A=1e-4;export{I as FeatureSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(o){super(o),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new e}};o([t({constructOnly:!0})],i.prototype,\"layer\",void 0),o([t()],i.prototype,\"enabled\",void 0),o([t()],i.prototype,\"updating\",void 0),o([t()],i.prototype,\"availability\",void 0),o([t()],i.prototype,\"sublayerSources\",void 0),i=o([s(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as i}from\"../sketch/normalizedPoint.js\";import{defaults as o}from\"./Settings.js\";import{squaredScreenDistance as h}from\"./snappingUtils.js\";import{vectorToScreenPoint as n}from\"../support/viewUtils.js\";class l{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=o.shortLineThreshold*o.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?\"vertex\"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(s(e.leftVertex.pos,this.view,t),s(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:s}){return 0===this.squaredShortLineThreshold||h(n(t,s,r,this.view),n(e,s,r,this.view))>this.squaredShortLineThreshold}isVertical(r,s,{spatialReference:h}){const n=e(h);return t(i(r),i(s))*n<o.verticalLineThresholdMeters}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{l as SnappingAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{VerticalPlaneConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as n}from\"../SnappingDomain.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as s}from\"../hints/LineSnappingHint.js\";class r extends e{constructor({lineStart:e,lineEnd:r,targetPoint:o,isDraped:a}){super(o,new t(e,r),a,n.SELF),this._referenceLineHint=new s(i.REFERENCE_EXTENSION,e,r,a,this.domain)}get hints(){return[this._referenceLineHint,new s(i.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}export{r as LineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as e,cyclical2PI as t}from\"../../../core/Cyclical.js\";import{valueInUnit as r,createAngle as s}from\"../../../core/quantityUtils.js\";import{create as o}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as i}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as n,fromVec3 as a}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as d,squaredScreenDistance as l}from\"./snappingUtils.js\";import{LineSnappingCandidate as h}from\"./candidates/LineSnappingCandidate.js\";import{vectorToScreenPoint as c}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as g,pointFromDistanceAlongAzimuth as m}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as f}from\"../../support/geodesicLengthMeasurementUtils.js\";import{projectPointToLineLike as u}from\"../../support/geometry3dUtils.js\";import{LineType as j}from\"../../support/geometry2dUtils.js\";class x extends p{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],s=r.edges.length,o=[];if(s<1)return o;const{spatialReference:n}=t,a=c(e,n,i,this.view),{view:p}=this,l=r.edges[s-1];let h=l;do{if(this.edgeExceedsShortLineThreshold(h,t)){const r=d(h,p,t);this._processCandidateProposal(r.left,r.right,e,a,t,o)}h=h.leftVertex.leftEdge}while(h&&h!==l);return o}snapExistingVertex(e,t){const r=[],s=t.vertexHandle,o=s.component;if(o.edges.length<2)return r;const{view:a}=this,{spatialReference:p}=t,l=c(e,p,i,a),h=s.leftEdge,g=s.rightEdge;h&&g&&this.edgeExceedsShortLineThreshold(h,t)&&this.edgeExceedsShortLineThreshold(g,t)&&this._processCandidateProposal(n(h.leftVertex.pos,a,t),n(g.rightVertex.pos,a,t),e,l,t,r);const m=o.edges[0];let f=m;do{if(f!==s.leftEdge&&f!==s.rightEdge&&this.edgeExceedsShortLineThreshold(f,t)){const s=d(f,a,t);this._processCandidateProposal(s.left,s.right,e,l,t,r)}f=f.rightVertex.rightEdge}while(f&&f!==m);return r}_processCandidateProposal(e,t,r,s,n,p){const{spatialReference:d,pointer:g}=n,m=o();this._projectedLine(m,e,t,r,n);const f=a(m);l(s,c(f,d,i,this.view))<this.squaredProximityThreshold(g)&&p.push(new h({lineStart:e,lineEnd:t,targetPoint:f,isDraped:\"on-the-ground\"===n.elevationInfo?.mode}))}_projectedLine(e,t,r,s,o){this._projectToLineGeodesic(e,t,r,s,o)||this._projectToLinePlanar(e,s,t,r)}_projectToLineGeodesic(o,i,n,a,{spatialReference:p}){const d=g(i,n,p,p);if(null==d)return!1;const l=g(n,a,p,p);if(null==l)return!1;const h=f(n,a,p);if(null==h)return!1;const c=Math.abs(e.shortestSignedDiff(d,l))>Math.PI/2?t.normalize(d+Math.PI):d;return m(o,n,p,r(h,\"meters\"),s(c,\"radians\",\"geographic\"),\"geodesic\"),o[2]=a[2],!0}_projectToLinePlanar(e,t,r,s){u(t,{start:r,end:s,type:j.LINE},e),e[2]=t[2]}}export{x as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{f as e,g as t,j as i}from\"../../../../chunks/vec32.js\";import{clone as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalPlaneConstraint as s}from\"../../sketch/constraints.js\";import{fromVec3 as n}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as a}from\"../SnappingDomain.js\";import{LineSegmentHintType as f}from\"../snappingUtils.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{LineSnappingHint as d}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as h}from\"../hints/ParallelSnappingHint.js\";class g extends o{constructor({referenceLine:i,lineStart:f,targetPoint:o,isDraped:d}){const h=r(f),{left:g,right:p}=i;e(h,t(h,h,p),g),super(o,new s(f,n(h)),d,a.SELF),this._referenceLines=[{edge:i,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new d(f.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new h(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new d(f.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((r=>{i(e.right,r.edge.left)&&(r.fadeLeft=!1,t.fadeRight=!1),i(e.right,r.edge.right)&&(r.fadeRight=!1,t.fadeRight=!1),i(e.left,r.edge.right)&&(r.fadeRight=!1,t.fadeLeft=!1),i(e.left,r.edge.left)&&(r.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}export{g as ParallelLineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{squaredDistance as e}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as i,asVec2 as s,fromValues as o}from\"../sketch/normalizedPoint.js\";import{defaults as n}from\"./Settings.js\";import{SnappingAlgorithm as l}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as a,squaredScreenDistance as c}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as h}from\"./candidates/ParallelLineSnappingCandidate.js\";import{vectorToScreenPoint as d}from\"../support/viewUtils.js\";import{projectPointToLine as p}from\"../../support/geometry2dUtils.js\";class g extends l{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],o=s.edges.length,n=s.vertices.length,l=[];if(o<2)return l;const{view:c}=this,h=d(e,t.spatialReference,r,c),p=i(s.vertices[n-1].pos,c,t),g=i(s.vertices[0].pos,c,t),f=s.edges[o-1];let m=f;do{if(this.edgeExceedsShortLineThreshold(m,t)){const r=a(m,c,t);this._checkEdgeForParallelLines(r,p,e,h,t,l),this._checkEdgeForParallelLines(r,g,e,h,t,l)}m=m.leftVertex.leftEdge}while(m&&m!==f);return l}snapExistingVertex(e,t){const s=[],o=t.vertexHandle,n=o.component;if(n.edges.length<3)return s;const{view:l}=this,c=d(e,t.spatialReference,r,l),h=o.leftEdge,p=o.rightEdge,g=n.vertices[0],f=i(g.pos,l,t),m=n.vertices.length,u=n.vertices[m-1],v=i(u.pos,l,t),x=n.edges[0];let E=x;do{if(E!==h&&E!==p&&this.edgeExceedsShortLineThreshold(E,t)){const r=a(E,l,t);h&&this._checkEdgeForParallelLines(r,i(h.leftVertex.pos,l,t),e,c,t,s),p&&this._checkEdgeForParallelLines(r,i(p.rightVertex.pos,l,t),e,c,t,s),o===g?this._checkEdgeForParallelLines(r,v,e,c,t,s):o===u&&this._checkEdgeForParallelLines(r,f,e,c,t,s)}E=E.rightVertex.rightEdge}while(E&&E!==x);return s}_checkEdgeForParallelLines(t,i,l,a,g,m){const u=t.left,v=t.right;if(p(f,s(i),s(u),s(v)),e(f,s(i))<n.parallelLineThreshold)return;p(f,s(l),s(u),s(v),s(i));const{spatialReference:x,pointer:E}=g,L=o(f[0],f[1],l[2]);if(c(a,d(L,x,r,this.view))<this.squaredProximityThreshold(E)){if(this.isVertical(L,i,g)||this.isVertical(u,v,g))return;if(this._parallelToPreviousCandidate(t,m))return;m.push(new h({referenceLine:t,lineStart:i,targetPoint:L,isDraped:\"on-the-ground\"===g.elevationInfo?.mode}))}}_parallelToPreviousCandidate(t,r){const i=t.left,o=t.right;for(const l of r)if(p(f,s(o),s(l.constraint.start),s(l.constraint.end),s(i)),e(f,s(o))<n.parallelLineThreshold)return l.addReferenceLine(t),!0;return!1}}const f=t();export{g as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{cyclical2PI as e}from\"../../../core/Cyclical.js\";import{createAngle as t,valueInUnit as r}from\"../../../core/quantityUtils.js\";import{subtract as i,dot as o,squaredLength as n,scaleAndAdd as s}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{f as c,s as p,r as h}from\"../../../chunks/vec32.js\";import{create as d}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as g}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as l}from\"../sketch/constraints.js\";import{fromAnyMapPoint as f,asVec2 as m,fromValues as u,fromVec3 as x}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as j}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as v}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as V,OtherVertexType as _}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as E}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as R,pointFromDistanceAlongAzimuth as y}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as S}from\"../../support/geodesicLengthMeasurementUtils.js\";class k extends j{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=[];if(r.vertices.length<2)return i;const{view:o}=this,n=E(e,t.spatialReference,g,o),s=r.vertices.at(-1);this._checkForSnappingCandidate(i,s.leftEdge,s,s.leftEdge.leftVertex,e,n,t);const a=r.vertices[0];return this._checkForSnappingCandidate(i,a.rightEdge,a,a.rightEdge.rightVertex,e,n,t),i}snapExistingVertex(e,t){const r=[],i=t.vertexHandle;if(i.component.vertices.length<3)return r;const{view:o}=this,n=E(e,t.spatialReference,g,o),s=i.leftEdge,a=i.rightEdge;if(s?.leftVertex.leftEdge){const i=s.leftVertex.leftEdge;this._checkForSnappingCandidate(r,i,i.rightVertex,i.leftVertex,e,n,t)}if(a?.rightVertex.rightEdge){const i=a.rightVertex.rightEdge;this._checkForSnappingCandidate(r,i,i.leftVertex,i.rightVertex,e,n,t)}return r}_checkForSnappingCandidate(e,t,r,i,o,n,s){if(!this.edgeExceedsShortLineThreshold(t,s))return;const a=this.view,c=f(r.pos,a,s),p=f(i.pos,a,s);this._checkForSnappingCandidateNormalized(e,p,c,o,n,s)}_checkForSnappingCandidateNormalized(e,t,r,i,o,n){this._projectionRay(F,t,r,i,n),this._checkForSnappingCandidateAlongProjectedRay(e,t,r,F,i,o,n)}_projectionRay(e,t,r,i,o){this._projectionRayGeodesic(e,t,r,i,o)||this._projectionRayPlanar(e,t,r)}_projectionRayGeodesic(i,o,n,s,{spatialReference:a}){const p=R(o,n,a,a);if(null==p)return!1;const h=R(n,s,a,a);if(null==h)return!1;const g=Math.sign(e.shortestSignedDiff(p,h))*Math.PI*.5,l=t(p+g,\"radians\",\"geographic\"),f=d(),m=S(n,s,a);return null!=m&&(y(f,n,a,r(m,\"meters\"),l,\"geodesic\"),c(i,f,n),!0)}_projectionRayPlanar(e,t,r){const o=i(C,m(r),m(t));p(e,o[1],-o[0],0)}_checkForSnappingCandidateAlongProjectedRay(e,t,r,a,c,p,f){const{spatialReference:j,pointer:R}=f,y=i(C,m(c),m(r)),S=o(a,y)/n(a),k=s(C,m(r),a,S),F=u(k[0],k[1],c[2]);if(v(p,E(F,j,g,this.view))>this.squaredProximityThreshold(R)||this.isVertical(F,r,f)||this.isVertical(r,t,f))return;const w=h(d(),r,a,Math.sign(S));e.push(new V({targetPoint:F,constraint:new l(r,x(w)),previousVertex:t,otherVertex:r,otherVertexType:_.CENTER,isDraped:\"on-the-ground\"===f.elevationInfo?.mode}))}}const C=a(),F=d();export{k as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{distance as t}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{m as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalCylinderConstraint as r}from\"../../sketch/constraints.js\";import{fromVec3 as n,asVec2 as o}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as p}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as m}from\"./SnappingCandidate.js\";import{LineSnappingHint as a}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as h}from\"../hints/RightAngleSnappingHint.js\";class g extends m{constructor({targetPoint:e,point1:m,point2:a,isDraped:h}){super(e,new r(n(i(s(),m,a,.5)),.5*t(o(m),o(a))),h,p.SELF),this._p1=m,this._p2=a}get hints(){return[new a(e.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new a(e.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new h(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}export{g as RightAngleTriangleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{lerp as e,distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as o,asVec2 as s,fromValues as n}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as a}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as d}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as l}from\"../support/viewUtils.js\";import{projectPointToCircle as m}from\"../../support/geometry2dUtils.js\";class c extends p{snapNewVertex(e,t){const i=t.editGeometryOperations.data.components[0],r=[],s=i.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const{view:n}=this,p=i.vertices[0],a=i.vertices[s-1],d=o(p.pos,n,t),l=o(a.pos,n,t);return this._processCandidateProposal(d,l,e,t,r),r}snapExistingVertex(e,t){const i=[],r=t.vertexHandle,s=r.component;if(s.edges.length<2)return i;if(\"polyline\"===t.editGeometryOperations.data.type&&(0===r.index||r.index===s.vertices.length-1))return i;const{view:n}=this,p=o(r.leftEdge.leftVertex.pos,n,t),a=o(r.rightEdge.rightVertex.pos,n,t);return this._processCandidateProposal(p,a,e,t,i),i}_processCandidateProposal(i,o,p,c,f){if(!this.exceedsShortLineThreshold(i,o,c))return;const g=e(h,s(i),s(o),.5),v=.5*t(s(i),s(o)),x=m(h,s(p),g,v),u=n(x[0],x[1],p[2]),{spatialReference:j,pointer:y}=c,w=l(p,j,r,this.view);if(a(w,l(u,j,r,this.view))<this.squaredProximityThreshold(y)){if(this.isVertical(i,u,c)||this.isVertical(u,o,c))return;f.push(new d({targetPoint:u,point1:i,point2:o,isDraped:\"on-the-ground\"===c.elevationInfo?.mode}))}}}const h=i();export{c as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as e}from\"./LineSnapper.js\";import{ParallelLineSnapper as p}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as n}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{SnappingDomain as c}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as m}from\"./snappingUtils.js\";let h=class extends s{constructor(o){super(o),this.updating=!1,this._snappers=new t,this._domain=c.SELF}initialize(){this._snappers.push(new p(this.view,this.options),new e(this.view,this.options),new n(this.view,this.options),new a(this.view,this.options))}set options(o){this._set(\"options\",o);for(const s of this._snappers)s.options=o}async fetchCandidates(o,s,t){if(!(s&this._domain&&this.options.effectiveSelfEnabled))return[];const i=[];for(const r of this._snappers.items)for(const s of r.snap(o,t))i.push(s);return m(o,i),i}};o([i({readOnly:!0})],h.prototype,\"updating\",void 0),o([i({constructOnly:!0})],h.prototype,\"view\",void 0),o([i()],h.prototype,\"options\",null),h=o([r(\"esri.views.interactive.snapping.SelfSnappingEngine\")],h);export{h as SelfSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSnappingEngine as e}from\"./FeatureSnappingEngine.js\";import{SelfSnappingEngine as n}from\"./SelfSnappingEngine.js\";function i(i,p){return[new n({view:i,options:p}),new e({view:i,options:p,spatialReference:i.spatialReference})]}export{i as defaultSnappingEnginesFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as i}from\"../SnappingDomain.js\";import{SnappingCandidate as s}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as n}from\"../hints/IntersectionSnappingHint.js\";class r extends s{constructor(s,n,r,o){super(s,new t(s),o,i.ALL),this.first=n,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new n(this.targetPoint,this.isDraped,this.domain)]}}export{r as IntersectionSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import n from\"../../../core/Evented.js\";import{isAborted as i}from\"../../../core/promiseUtils.js\";import{watch as s,sync as r,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as p,initializeProjection as c}from\"../../../geometry/projection.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{fromPoint as l,toElevationAlignedDehydratedPoint as u}from\"../sketch/normalizedPoint.js\";import{defaults as f}from\"./Settings.js\";import{SnappingDomain as _}from\"./SnappingDomain.js\";import{defaultSnappingEnginesFactory as g}from\"./snappingFactory.js\";import m from\"./SnappingOptions.js\";import{sortCandidatesInPlace as S,squaredScreenDistance as v}from\"./snappingUtils.js\";import{EdgeSnappingCandidate as C}from\"./candidates/EdgeSnappingCandidate.js\";import{IntersectionSnappingCandidate as y}from\"./candidates/IntersectionSnappingCandidate.js\";import{LineSnappingCandidate as P}from\"./candidates/LineSnappingCandidate.js\";import{ParallelLineSnappingCandidate as E}from\"./candidates/ParallelLineSnappingCandidate.js\";import{RightAngleSnappingCandidate as w}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as T}from\"../support/viewUtils.js\";let j=class extends(n.EventedMixin(e)){constructor(t){super(t),this.options=new m,this.snappingEnginesFactory=g,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=M.MAIN}initialize(){this.addHandles([s((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i,constraintsActive:s}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i,constraintsActive:s}}),(()=>{this.doneSnapping(),this.emit(\"changed\")}),r),s((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),r),s((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),a)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:n,options:i}=this;this._engines=e(n,i)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,n=t*e;return n*n}get _squaredSatisfiesConstraintThreshold(){return f.satisfiesConstraintScreenThreshold*f.satisfiesConstraintScreenThreshold}snap(t){return q(t)?this._snapMultiPoint(t):this._snapSinglePoint(t)}update(t){const{point:e,context:n}=t;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return e;const s=this._selectUpdateInput(t);if(null==s)return e;const{spatialReference:r}=n,a=p(s,r);if(null==a)return e;const{view:o}=this,{elevationInfo:d,visualizer:c}=n,h=[],f=l(a,o,d),_=i.constraint.closestTo(f);if(!this._arePointsWithinScreenThreshold(f,_,n))return this._resetSnappingState(),e;i.targetPoint=_,h.push(...i.hints);for(const p of this._currentOtherActiveCandidates)p.targetPoint=_,h.push(...p.hints);return null!=c&&this.addHandles(c.draw(h,{spatialReference:r,elevationInfo:x(n),view:o,selfSnappingZ:n.selfSnappingZ}),I),u(_,o,e,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:t,scenePoint:e}){switch(this._currentSnappedType){case M.MAIN:return t;case M.SCENE:return e}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=M.MAIN}_removeVisualization(){this.removeHandles(I)}async _snapSinglePoint({point:t,context:e,signal:n}){const{view:i}=this,{elevationInfo:s}=e,r=l(t,i,s),a=await this._fetchCandidates(r,_.ALL,e,n);return this._createSnapResult(r,M.MAIN,a,i,t,e,n)}async _snapMultiPoint({point:t,scenePoint:e,context:n,signal:i}){const{view:s}=this,{coordinateHelper:r,elevationInfo:a,spatialReference:o}=n;await c(e.spatialReference,o);const d=p(e,o),h=l(d,s,a),u=await this._fetchCandidates(h,_.FEATURE,n,i);if(u.length>0){const t=await this._fetchCandidates(h,_.SELF,n,i);return this._createSnapResult(h,M.SCENE,[...u,...t],s,d,n,i)}const f=l(t,s,a),g=await this._fetchCandidates(f,_.SELF,n,i);return this._createSnapResult(f,M.MAIN,g,s,{z:r.hasZ()&&t.hasZ?t.z??0:void 0,m:r.hasM()&&t.hasM?t.m??0:void 0},n,i)}async _fetchCandidates(t,e,n,i){return(await Promise.all(this._engines.map((s=>s.fetchCandidates(t,e,n,i))))).flat()}_createSnapResult(t,e,n,s,r,a,o){return{get valid(){return!i(o)},apply:()=>{const{spatialReference:i}=a,{snappedPoint:o,hints:d}=this._processCandidates(t,e,n,a);return this._removeVisualization(),null!=a.visualizer&&this.addHandles(a.visualizer.draw(d,{spatialReference:i,elevationInfo:h,view:s,selfSnappingZ:a.selfSnappingZ}),I),u(o,s,r,a)}}}_processCandidates(t,e,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:t,hints:[]};this._currentSnappedType!==e&&this._resetSnappingState(),S(t,n);const s=this._currentMainCandidate;if(null!=s){const r=this._findOldConstraintInNewCandidates(s,n);if(r>=0){if(!(n[r]instanceof y))return this._intersectWithOtherCandidates(r,n,t,e,i);if(this._arePointsWithinScreenThreshold(t,s.targetPoint,i))return this._updateSnappingCandidate(s,e,n,i)}}return this._intersectWithOtherCandidates(0,n,t,e,i)}_findOldConstraintInNewCandidates(t,e){return t instanceof y?this._findOldCandidateIndex(e,t.first)>=0&&this._findOldCandidateIndex(e,t.second)>=0?0:-1:this._findOldCandidateIndex(e,t)}_intersectWithOtherCandidates(t,e,n,i,s){const{coordinateHelper:r}=s,a=e[t],o=[];for(let d=0;d<e.length;++d){if(d===t)continue;const i=e[d],s=a.constraint.intersect(i.constraint);if(s)for(const t of s.closestPoints(a.targetPoint))o.push([new y(t,a,i,i.isDraped),this._squaredScreenDistance(n,t,r)])}return o.length>0&&(o.sort(((t,e)=>t[1]-e[1])),o[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(o[0][0],i,e,s):this.options.constraintsActive&&(a instanceof P||a instanceof C||a instanceof w||a instanceof E)?{snappedPoint:n,hints:[]}:this._updateSnappingCandidate(a,i,e,s)}_updateSnappingCandidate(t,e,n,i){this.doneSnapping(),this._currentMainCandidate=t,this._currentSnappedType=e;const s=this._currentMainCandidate.targetPoint,r=[];r.push(...t.hints);for(const a of n){if(t instanceof y){if(a.constraint.equals(t.first.constraint)||a.constraint.equals(t.second.constraint))continue}else if(a.constraint.equals(t.constraint))continue;const e=a.constraint.closestTo(s);this._squaredScreenDistance(e,s,i.coordinateHelper)<this._squaredSatisfiesConstraintThreshold&&(a.targetPoint=s,this._currentOtherActiveCandidates.push(a),r.push(...a.hints))}return{snappedPoint:s,hints:r}}_squaredPointProximityThreshold(t){return\"touch\"===t?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(t,e,n){return this._squaredScreenDistance(t,e,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(t,e,n){return v(this._toScreen(t,n),this._toScreen(e,n))}_toScreen(t,e){return T(t,e.spatialReference,h,this.view)}_findOldCandidateIndex(t,e){let n=-1;for(let i=0;i<t.length;++i)if(e.constraint.equals(t[i].constraint)){n=i;break}return n}get test(){return{visualizationsActive:this.hasHandles(I),engines:this._engines}}};var M;t([o({constructOnly:!0})],j.prototype,\"view\",void 0),t([o()],j.prototype,\"options\",void 0),t([o({readOnly:!0})],j.prototype,\"updating\",null),t([o()],j.prototype,\"snappingEnginesFactory\",void 0),t([o()],j.prototype,\"_engines\",void 0),t([o()],j.prototype,\"_squaredMouseProximityThreshold\",null),t([o()],j.prototype,\"_squaredTouchProximityThreshold\",null),t([o()],j.prototype,\"_squaredSatisfiesConstraintThreshold\",null),j=t([d(\"esri.views.interactive.snapping.SnappingManager\")],j),function(t){t[t.MAIN=0]=\"MAIN\",t[t.SCENE=1]=\"SCENE\"}(M||(M={}));const I=\"visualization-handle\";function q(t){return null!=t.scenePoint}function x({coordinateHelper:t,elevationInfo:e}){return t.hasZ()?h:e}export{j as SnappingManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./FeatureSnappingLayerSource.js\";import{defaults as l}from\"./Settings.js\";let c=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new o,this.distance=l.distance,this.touchSensitivityMultiplier=l.touchSensitivityMultiplier,this.constraintsActive=!1}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){const e=this.featureSources;e.some(p)&&s.getLogger(this).warnOnce(\"Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.\");const t=e.filter(d),i=this._get(\"_effectiveFeatureSources\")?.filter(p)??new o;for(const r of t){const e=i.find((e=>e.layer===r.layer.parent));if(e)e.sublayerSources.includes(r)||e.sublayerSources.add(r);else if(r.layer.parent){const e=new n({layer:r.layer.parent});e.sublayerSources.add(r),i.add(e)}}for(const r of i){const e=r.sublayerSources.filter((e=>!t.includes(e)));r.sublayerSources.removeMany(e)}i.removeMany(i.filter((e=>0===e.sublayerSources.length)));const a=e.filter(f),l=this._get(\"_effectiveFeatureSources\")??new o,{added:c,removed:u}=r(l.toArray(),[...a,...i]);return l.removeMany(u),l.addMany(c),l}};e([i()],c.prototype,\"enabled\",void 0),e([i()],c.prototype,\"enabledToggled\",void 0),e([i()],c.prototype,\"forceDisabled\",void 0),e([i()],c.prototype,\"selfEnabled\",void 0),e([i()],c.prototype,\"featureEnabled\",void 0),e([i({type:o.ofType(n)})],c.prototype,\"featureSources\",void 0),e([i()],c.prototype,\"distance\",void 0),e([i()],c.prototype,\"touchSensitivityMultiplier\",void 0),e([i()],c.prototype,\"constraintsActive\",void 0),e([i({readOnly:!0})],c.prototype,\"effectiveEnabled\",null),e([i({readOnly:!0})],c.prototype,\"effectiveSelfEnabled\",null),e([i({readOnly:!0})],c.prototype,\"effectiveFeatureEnabled\",null),e([i({readOnly:!0})],c.prototype,\"_effectiveFeatureSources\",null),c=e([a(\"esri.views.interactive.snapping.SnappingOptions\")],c);const u=c;function p(e){return\"subtype-group\"===e.layer.type}function f(e){return\"subtype-group\"!==e.layer.type}function d(e){return\"subtype-sublayer\"===e.layer.type}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{DrapedLineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,isDraped:!0,constraint:new t(n.edgeStart,n.edgeEnd,n.getGroundElevation)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as DrapedEdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{LineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,constraint:new t(n.edgeStart,n.edgeEnd)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as EdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";class n extends o{constructor({targetPoint:o,objectId:n,constraint:r,isDraped:i}){super(o,r,i,t.FEATURE),this.objectId=n}}export{n as FeatureSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as s}from\"../hints/RightAngleSnappingHint.js\";class o extends i{constructor({targetPoint:e,constraint:i,previousVertex:r,otherVertex:s,otherVertexType:o,objectId:n,isDraped:h}){super(e,i,h,t.SELF),this.previousVertex=r,this.otherVertex=s,this.otherVertexType=o,this.objectId=n}get hints(){const t=this.previousVertex,i=this.otherVertexType===n.CENTER?this.otherVertex:this.targetPoint,o=this.otherVertexType===n.CENTER?this.targetPoint:this.otherVertex;return[new r(e.TARGET,i,o,this.isDraped,this.domain),new r(e.REFERENCE,t,i,this.isDraped,this.domain),new s(this.previousVertex,i,o,this.isDraped,this.domain)]}}var n;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(n||(n={}));export{n as OtherVertexType,o as RightAngleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,i,o){this.targetPoint=t,this.constraint=s,this.isDraped=i,this.domain=o}}export{t as SnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{createScreenPoint as e,createRenderScreenPointArray as r,createScreenPointArray as o}from\"../../../core/screenUtils.js\";import{subtract as t,normalize as n}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{c}from\"../../../chunks/vec32.js\";import{create as s}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeDehydratedPoint as i}from\"../../../layers/graphics/dehydratedPoint.js\";import{getConvertedElevationFromVector as a}from\"../../../support/elevationInfoUtils.js\";function p(e,r,o,c){o.projectToRenderScreen(e,R),o.projectToRenderScreen(r,h),t(c,h,R),n(c,c)}function f(e,r,o,t,n=s()){const c=r.toXYZ(e);return c[2]=a(t,c,r.spatialReference,o)||0,t.renderCoordsHelper.toRenderCoords(c,r.spatialReference,n),n}function l(e,r,o,t,n=s()){const i=c(j,e);return i[2]=a(t,i,r,o)||0,t.renderCoordsHelper.toRenderCoords(i,r,n),n}function m(e,r,o,t){return d(r.toXYZ(e),r.spatialReference,o,t)}function d(r,o,t,n){return\"2d\"===n.type?(u.x=r[0],u.y=r[1],u.spatialReference=o,n.toScreen(u)):(l(r,o,t,n,j),n.state.camera.projectToScreen(j,v),e(v[0],v[1]))}const u=i(0,0,0,null),j=s(),R=r(),h=r(),v=o();export{f as anyMapPointToRender,m as anyMapPointToScreenPoint,p as renderScreenSpaceTangent,l as vectorToRender,d as vectorToScreenPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{s as o}from\"../../chunks/vec32.js\";import{create as s}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getWGS84ComparableLonLatProjector as r}from\"./projectors.js\";function t({hasZ:s,spatialReference:t,paths:n},e,f=0){const i=r(t);if(null==i)return!1;const p=s?o=>o:s=>o(c,s[0],s[1],f);for(const o of n){const s=[];for(const r of o){const o=[0,0,f];i(p(r),0,o,0),s.push(o)}e.push(s)}return!0}const c=s();export{t as projectPolylineToWGS84ComparableLonLat};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{createLength as e}from\"../../core/quantityUtils.js\";import{create as t}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{geodesicLength as r}from\"../../geometry/geometryEngine.js\";import{projectPolylineToWGS84ComparableLonLat as o}from\"../../geometry/projection/projectPolylineToWGS84ComparableLonLat.js\";import{projectVectorToWGS84ComparableLonLat as n}from\"../../geometry/projection/projectVectorToWGS84ComparableLonLat.js\";import{inverseGeodeticSolver as s,geodesicLengths as i,InverseGeodeticSolverResult as m}from\"../../geometry/support/geodesicUtils.js\";import{equals as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{geodesicMeasure as f}from\"./geodesicMeasurementUtils.js\";import a from\"../../geometry/SpatialReference.js\";function p(e){const{spatialReference:t}=e;return f(t,R,d,h,e)}function l(e,t){if(!c(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,G[0]=t.x,G[1]=t.y,G[2]=t.hasZ?t.z:0,u(x,G,r)}function u(e,t,r){return f(r,g,j,y,e,t,r)}function g(t,r,o){return e(s(S,t,r,o).distance,\"meters\")}function j(t,o,n){return e(r(L(t,o,n),\"meters\"),\"meters\")}function y(t,r,o){return n(t,o,U)&&n(r,o,W)?e(s(S,U,W,a.WGS84).distance,\"meters\"):null}function R(t){return e(i([t],\"meters\")[0],\"meters\")}function d(t){return e(r(t,\"meters\"),\"meters\")}function h(t){const r=[];if(!o(t,r))return null;let n=0;for(const e of r){let t=0;for(let r=1;r<e.length;++r)t+=s(S,e[r-1],e[r],a.WGS84).distance;n+=t}return e(n,\"meters\")}function L(e,t,r){return{type:\"polyline\",spatialReference:r,paths:[[[...e],[...t]]]}}const S=new m,x=t(),G=t(),U=t(),W=t();export{u as geodesicDistance,l as geodesicDistanceBetweenPoints,p as geodesicLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isSupported as o}from\"../../geometry/support/geodesicUtils.js\";import{isGeographic as p,isWebMercator as e}from\"../../geometry/support/spatialReferenceUtils.js\";function t(t,r,i,s,...l){return p(t)&&o(t)?r.apply(void 0,l):e(t)?i.apply(void 0,l):s.apply(void 0,l)}const r=1e5;export{r as geodesicDistanceThreshold,t as geodesicMeasure};\n"],"names":["f","r","layerView","_this$view","this","view","allLayerViews","find","e","layer","valid","_valid","subtypeFilter","_e$subtypes","_e$fieldsIndex$get$na","_e$fieldsIndex$get","snappingSource","u","subtypes","length","mode","filter","t","layerSource","sublayerSources","_this$view2","enabled","visible","d","scale","effectiveScaleRange","minScale","maxScale","map","subtypeCode","i","fieldsIndex","get","subtypeField","name","concat","getItemAt","join","floorFilter","p","constructor","super","rulesTable","initialize","addHandles","on","refresh","loadRules","updating","l","availability","getFetchCandidatesParameters","_this$view$type","_this$view3","_f$sourceLayer","_this$view4","_this$view$map$utilit","o","a","distance","type","point","coordinateHelper","_types","h","where","s","n","feature","m","sourceLayer","parent","c","y","layerId","utilityNetworks","isUtilityLayer","_a$getFeatureSQL","loadStatus","getFeatureSQL","anyVertex","endVertex","push","returnEdge","vertexMode","_r$map$utilityNetwork","_this$rulesTable","getRulesTable","load","getLogger","error","title","remove","destroy","_this$snappingSource","constructOnly","prototype","I","_snappingSources","some","_updatingHandles","options","_domain","w","FEATURE","S","_sourceModules","featureService","module","loader","featureCollection","graphics","notes","scene","_this$options","_effectiveFeatureSources","_createSourceInfo","_set","fetchCandidates","effectiveFeatureEnabled","_computeScreenSizeDistanceParameters","_n$layerView","suspended","then","_candidateIsExcluded","excludeFeature","flat","_addRightAngleCandidates","j","_n$vertexHandle$right","_n$editGeometryOperat","_n$vertexHandle$leftE","_n$editGeometryOperat2","vertexHandle","rightEdge","rightVertex","pos","editGeometryOperations","data","components","getFirstVertex","leftEdge","leftVertex","getLastVertex","_addRightAngleCandidate","C","x","_ref","constraint","start","end","_","g","A","H","G","closestTo","R","targetPoint","otherVertex","otherVertexType","L","NEXT","previousVertex","objectId","isDraped","pointer","touchSensitivityMultiplier","z","resolution","_computeScreenSizeDistanceParameters3D","spatialReference","renderCoordsHelper","toRenderCoords","E","state","camera","computeScreenPixelSizeAt","unitInMeters","M","P","_getCandidateObjectId","uid","attributes","objectIdField","b","loaded","_createFeatureSnappingSourceType","v","_createFeatureSnappingSourceFeatureLayer","_createFeatureSnappingSourceGraphicsLayer","_createFeatureSnappingSourceMapNotesLayer","_createFeatureSnappingSourceSceneLayer","_getSourceModule","SceneLayerSnappingSource","_e$layer$source","source","FeatureServiceSnappingSource","geometryType","FeatureCollectionSnappingSource","GraphicsSnappingSource","getGraphicsLayers","_e$layer$sublayers$to","_e$layer$sublayers","sublayers","toArray","_loadSourceModule","addPromise","test","snappingSources","_ref2","F","readOnly","squaredShortLineThreshold","shortLineThreshold","snap","snapExistingVertex","snapNewVertex","edgeExceedsShortLineThreshold","exceedsShortLineThreshold","isVertical","verticalLineThresholdMeters","squaredProximityThreshold","_squaredTouchProximityThreshold","_squaredMouseProximityThreshold","lineStart","lineEnd","SELF","_referenceLineHint","REFERENCE_EXTENSION","domain","hints","TARGET","_lineEndClosestToTarget","closestEndTo","edges","_processCandidateProposal","left","right","component","_n$elevationInfo","_projectedLine","elevationInfo","_projectToLineGeodesic","_projectToLinePlanar","Math","abs","shortestSignedDiff","PI","normalize","LINE","referenceLine","_referenceLines","edge","fadeLeft","fadeRight","REFERENCE","addReferenceLine","forEach","vertices","_checkEdgeForParallelLines","parallelLineThreshold","_g$elevationInfo","_parallelToPreviousCandidate","k","at","_checkForSnappingCandidate","_checkForSnappingCandidateNormalized","_projectionRay","_checkForSnappingCandidateAlongProjectedRay","_projectionRayGeodesic","_projectionRayPlanar","sign","_f$elevationInfo","V","CENTER","point1","point2","_p1","_p2","index","_c$elevationInfo","_snappers","effectiveSelfEnabled","items","ALL","first","second","EventedMixin","snappingEnginesFactory","_engines","_currentMainCandidate","_currentOtherActiveCandidates","_currentSnappedType","MAIN","constraintsActive","doneSnapping","emit","viewReady","ready","viewSpatialReference","_recreateEngines","_destroyEngines","_squaredSatisfiesConstraintThreshold","satisfiesConstraintScreenThreshold","scenePoint","q","_snapMultiPoint","_snapSinglePoint","update","context","_removeVisualization","_selectUpdateInput","visualizer","_arePointsWithinScreenThreshold","_resetSnappingState","draw","selfSnappingZ","SCENE","removeHandles","_ref3","signal","_fetchCandidates","_createSnapResult","_ref4","_t$z","_t$m","hasZ","hasM","Promise","all","apply","snappedPoint","_processCandidates","_findOldConstraintInNewCandidates","_intersectWithOtherCandidates","_updateSnappingCandidate","_findOldCandidateIndex","intersect","closestPoints","_squaredScreenDistance","sort","_squaredPointProximityThreshold","equals","_toScreen","T","visualizationsActive","hasHandles","engines","_ref5","enabledToggled","forceDisabled","selfEnabled","featureEnabled","featureSources","effectiveEnabled","_this$_get$filter","_this$_get","_this$_get2","warnOnce","_get","includes","add","removeMany","added","removed","addMany","ofType","edgeStart","edgeEnd","getGroundElevation","projectToRenderScreen","arguments","undefined","toScreen","projectToScreen","paths","U","W","WGS84","_len","Array","_key"],"sourceRoot":""}