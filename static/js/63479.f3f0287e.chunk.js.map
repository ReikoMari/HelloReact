{"version":3,"file":"static/js/63479.f3f0287e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/maybeUpdating.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const l={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:p}}},read:!1}};function p(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}return t?.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(l)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=l,r.readSublayers=p,r.forEachSublayer=e}(c||(c={}));const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";async function r(r,n,t,s,a,i,l){let d=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:\"page\",rootPage:(await e(n,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(g){null!=i&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",n,g),d=g}}if(!n)return null;const p=n?.split(\"/\").pop(),c=`${r}/nodes/`,u=c+p;try{return{type:\"node\",rootNode:(await e(u,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,urlPrefix:c}}catch(g){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:d,nodeError:g,url:u})}}export{r as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Evented.js\";import{IdentifiableMixin as r}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as s}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=(p,l)=>{let n=class extends(s(r(t.EventedMixin(p)))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!!this.sublayer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.sublayer?.opacity)*e(this.parent?.fullOpacity)}canResume(){return!this.parent?.suspended&&this.view?.ready&&this.visible||!1}isUpdating(){return!1}};return e([i()],n.prototype,\"sublayer\",void 0),e([i()],n.prototype,\"parent\",void 0),e([i({readOnly:!0})],n.prototype,\"suspended\",null),e([i({type:Boolean,readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"view\",void 0),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"fullOpacity\",null),n=e([o(\"esri.views.3d.layers.BuildingSublayerView3D\")],n),n};export{p as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{createMaterialFromEdges as r}from\"../support/edgeUtils.js\";import{ColorMixModeEnum as o}from\"../support/symbolColorUtils.js\";var a;!function(e){e[e.Solid=0]=\"Solid\",e[e.WireFrame=1]=\"WireFrame\",e[e.XRay=2]=\"XRay\"}(a||(a={}));const l=.15,t=.5*l;function i(e){switch(e.filterMode.type){case\"solid\":return{mode:a.Solid};case\"wire-frame\":return{mode:a.WireFrame,edgeMaterial:r(e.filterMode.edges,{})};case\"x-ray\":return{mode:a.XRay}}}function c(e,r){if(null==r)return e.color[3]=0,e.edgeMaterial=null,void(e.pickable=!1);switch(r.mode){case a.Solid:return;case a.WireFrame:return e.color[3]=0,e.edgeMaterial=r.edgeMaterial,void(e.pickable=!1);case a.XRay:return e.color[0]=1,e.color[1]=1,e.color[2]=1,e.color[3]*=l,e.colorMixMode=o.Replace,e.castShadows=!1,e.pickable=!1,void(e.edgeMaterial=n(e.edgeMaterial))}}function n(e){return null==e?null:(d.lastMaterial!==e&&(d.cachedMaterial=s(e),d.lastMaterial=e),d.cachedMaterial)}function s(r){const o=e(r.color);return o[3]*=t,{...r,color:o}}const d={cachedMaterial:null,lastMaterial:null};export{a as FilterModeEnum,c as applyFilterMode,i as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{throwIfAborted as l,throwIfAbortError as n}from\"../../../core/promiseUtils.js\";import{syncAndInitial as a,initial as o}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as p}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import h from\"../../../layers/support/FeatureFilter.js\";import{fixFields as y,unpackFieldNames as c,populateMissingFields as f}from\"../../../layers/support/fieldUtils.js\";import m from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as g}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as F}from\"./I3SMeshView3D.js\";import{ForAllFeaturesMode as b}from\"./II3SMeshView3D.js\";import{applyFilterMode as _}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as E}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as w}from\"./i3s/I3SMeshViewFilter.js\";import{I3SQueryEngine as x}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as S}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as j}from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as v,getIndexCrs as I}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as Q}from\"./support/DefinitionExpressionSceneLayerView.js\";import{TemporalSceneLayerView as q}from\"./support/TemporalSceneLayerView.js\";import L from\"../../layers/BuildingComponentSublayerView.js\";import{hasPopupTemplate as R,getRequiredFields as V,getFetchPopupTemplate as U}from\"../../layers/support/popupUtils.js\";import{TaskPriority as A}from\"../../support/Scheduler.js\";let C=class extends(q(Q(F(g(L))))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.requiredFields=[],this.progressiveLoadFactor=1,this._queryEngine=null}get i3slayer(){return this.sublayer}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}get layerId(){return this.sublayer.layer.id}get sublayerId(){return this.sublayer.id}get layerPopupEnabledAndHasTemplate(){return this.sublayer.popupEnabled&&R(this.sublayer,this.layerView?.view.popup?.defaultPopupTemplateEnabled)}initialize(){this._updatingHandles.add((()=>this.mergedFilter),(e=>{null!=e&&w.checkSupport(e)?null==this._i3sFilter?this._i3sFilter=new w({viewFilter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError),addTimeFilter:(e,r)=>this.addTimeFilter(e,r)}):this._i3sFilter.viewFilter=e:this._i3sFilter=s(this._i3sFilter)}),a),this._updatingHandles.add((()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields,this.timeFilterFields]),(()=>this._updateRequiredFields())),this._updatingHandles.add((()=>this.sublayer.renderer),(e=>this._rendererChange(e)),o);const e=()=>this._filterChange();this._updatingHandles.add((()=>this.parsedDefinitionExpression),e),this._updatingHandles.add((()=>this._i3sFilter?.sortedObjectIds),e),this._updatingHandles.add((()=>this._i3sFilter?.parsedWhereClause),e),this._updatingHandles.add((()=>this.getTimeFilterDependencies()),e),this._updatingHandles.add((()=>this.mergedFilter),e),this._updatingHandles.add((()=>[this._i3sFilter?.parsedGeometry,this.filter?.spatialRelationship]),(()=>this._geometryFilterChange())),this._updatingHandles.add((()=>this.parsedFilterExpressions),(()=>this._updateSymbologyOverride()),o),this.addResolvingPromise(this._updateRequiredFields())}get lodFactor(){return this.view.qualitySettings.sceneService.object.lodFactor}get parsedFilterExpressions(){return\"Overview\"!==this.sublayer.modelName&&this.layerView?this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=p.create(e,this.sublayer.fieldsIndex)}catch(n){return i.getLogger(this).error(\"Failed to parse filterExpression: \"+n),null}if(!t.isStandardized)return i.getLogger(this).error(\"filterExpression is using non standard function\"),null;const s=[],l=t.fieldNames;return v(l,this.sublayer.fields,{missingFields:s}),s.length>0?(i.getLogger(this).error(`filterExpression references unknown fields: ${s.join(\", \")}`),null):[t,r]})).filter((e=>null!=e)):[]}get filter(){return this._get(\"filter\")}set filter(e){this._set(\"filter\",w.checkSupport(e)?e:null)}isUpdating(){return super.isUpdating()||(this._i3sFilter?.updating??!1)}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return _(t,l)}catch(i){this.logError(i)}return _(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return y(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),new Array))}get timeFilterFields(){const{timeExtent:e}=this,{timeInfo:r,fieldsIndex:t}=this.sublayer;if(null==e||null==r)return[];const{startField:i,endField:s}=r;return y(t,[i,s])}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...c(r,i),...t]}return y(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeaturesFromGraphics(e,r){const t=this._validateFetchPopupFeatures(r);if(t)throw t;if(0===e.length)return[];const s=[],a=[],o=null!=this.sublayer.associatedLayer?await this.sublayer.associatedLayer.load(r):this.sublayer,u=c(this.sublayer.fieldsIndex,await V(o,U(this.sublayer,r)));l(r);const d=new Set;for(const i of e)f(u,i,d)?a.push(i):s.push(i);return 0===a.length?s:(null!=this.sublayer.associatedLayer&&await this.sublayer.associatedLayer.load().catch((()=>i.getLogger(this).warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(a,Array.from(d)).catch((e=>(n(e),a))).then((e=>s.concat(e))))}async _updateRequiredFields(){const e=y(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields,...this.filterExpressionFields,...this.timeFilterFields]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?U(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),this._i3sFilter?.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new m(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),r?.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),r?.signal).then((e=>{if(!e?.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),r?.signal)}_ensureQueryEngine(){return null==this._queryEngine&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=E(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new x({layerView:this,priority:A.FEATURE_QUERY_ENGINE,spatialIndex:new j({featureAdapter:new S({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,b.QUERYABLE),getFeatureExtent:e,sourceSpatialReference:I(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():m.from(e))}};e([u()],C.prototype,\"i3slayer\",null),e([u()],C.prototype,\"layerView\",void 0),e([u()],C.prototype,\"lodFactor\",null),e([u({readOnly:!0})],C.prototype,\"parsedFilterExpressions\",null),e([u({type:h})],C.prototype,\"filter\",null),e([u()],C.prototype,\"_i3sFilter\",void 0),e([u({type:[String],readOnly:!0})],C.prototype,\"filterExpressionFields\",null),e([u({type:[String],readOnly:!0})],C.prototype,\"timeFilterFields\",null),e([u({type:[String],readOnly:!0})],C.prototype,\"requiredFields\",void 0),e([u({type:[String],readOnly:!0})],C.prototype,\"availableFields\",null),C=e([d(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],C);const O=C;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";import e from\"./LayerView.js\";class s extends e{constructor(r){super(r),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([o()],s.prototype,\"layer\",void 0),r([o()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import{groupToMap as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Collection.js\";import{handlesGroup as o}from\"../../../core/handleUtils.js\";import n from\"../../../core/Logger.js\";import{abortMaybe as l}from\"../../../core/maybe.js\";import{isAbortError as a,allSettledValues as u,throwIfAborted as p,createResolver as h}from\"../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as y}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as g}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import f from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as m}from\"./BuildingSublayerView3D.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{parseFilterMode as w}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as V}from\"./i3s/I3SUtil.js\";import{updatingProgress as j}from\"../support/updatingProperties.js\";import _ from\"../../layers/BuildingSceneLayerView.js\";const C=m(s);let S=class extends(b(_)){constructor(e){super(e),this.type=\"building-scene-3d\",this.sublayerViews=new i,this._abortController=new AbortController,this._loadingComponents=0,this._pendingWhenSublayerViews=new Map,this.ignoresMemoryFactor=!1}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,s=null!=r?r.filterBlocks?.find((e=>\"solid\"===e.filterMode.type)):null;return s?s.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r?.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression??\"\",w(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){V(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController=l(this._abortController)}_initializeSubLayerViews(e,r){const s=this,t=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const s=new C({sublayer:e,view:t,parent:r});this._initializeSubLayerViews(e.sublayers,s)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const i=new f({sublayer:e,layerView:s,view:t,parent:r});this.sublayerViews.push(i);const o=this._pendingWhenSublayerViews.get(e);if(o){for(const e of o)e.resolve(i);this._pendingWhenSublayerViews.delete(e)}this.addHandles([c((()=>i.updating),(()=>this.notifyChange(\"updating\")),y),c((()=>i.updatingProgress),(()=>this.notifyChange(\"updatingProgressValue\")),y)])})).catch((r=>{a(r)||n.getLogger(this).error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorTarget(e);return null}async fetchPopupFeaturesFromGraphics(e,r){if(0===e.length)return[];const s=t(e,(e=>e.sourceLayer)),i=[];for(const[t,n]of s){const e=this._findComponent(t);null!=e&&i.push(e.fetchPopupFeaturesFromGraphics(n,r))}const o=await u(i);return p(r),o.flat()}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return null==r?Promise.reject():r.whenGraphicBounds(e)}getAABBFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getAABBFromIntersectorTarget(e);return null}async whenSublayerView(e){const r=this._findComponent(e);if(null!=r)return r;const s=this._pendingWhenSublayerViews.get(e),t=h();return s?s.push(t):this._pendingWhenSublayerViews.set(e,[t]),t.promise}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof i&&(e=e.toArray());const s=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,t=new Map;for(const e of r){let r=t.get(e.sourceLayer);null==r&&(r=[],t.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=t.get(e.sublayer);r&&s.push(e.highlight(r))}))}return o(s)}get usedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.usedMemory),0)}get unloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.unloadedMemory),0)}};e([d()],S.prototype,\"sublayerViews\",void 0),e([d({readOnly:!0})],S.prototype,\"filterExpression\",null),e([d({readOnly:!0})],S.prototype,\"filterExpressions\",null),e([d(j)],S.prototype,\"updatingProgress\",void 0),e([d({readOnly:!0,dependsOn:[]})],S.prototype,\"updatingProgressValue\",null),S=e([g(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],S);const B=S;export{B as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Logger.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&i.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&i.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return i.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const e=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:e}),e.length>0?(i.getLogger(this).error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return i.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,i){try{return r.testFeature(i)}catch(e){return this.logError(e),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const i=this.i3slayer.definitionExpression,e=r.clone();return e.where?e.where=`(${i}) AND (${e.where})`:e.where=i,e}};return r([e({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([e({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getTimeOperator as i}from\"../../../../layers/graphics/data/timeSupport.js\";import{combinedViewLayerTimeExtentProperty as s}from\"../../../../layers/support/commonProperties.js\";import o from\"../../../../layers/support/FeatureFilter.js\";import{filterInPlace as n,getCachedAttributeValue as l}from\"../i3s/I3SUtil.js\";const u=l=>{let u=class extends l{constructor(){super(...arguments),this.timeExtent=null}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new o;return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:o}=r;if(!o||null==i&&null==s)return;const n=r.toJSON(),l=e.toJSON();t.push(((t,e)=>this._timeFilter(t,e,n,l)))}_timeFilter(t,e,r,s){const o=e.attributeInfo?.attributeData;if(null==o)return;const{startTimeField:l,endTimeField:u}=r;if(!!(null!=l&&null==o[l]||null!=u&&null==o[u]))return;const a=i(r,s,new m(o));if(null==a)return;const{featureIds:c}=e;n(t,c,a)}};return t([e(s)],u.prototype,\"timeExtent\",void 0),t([e()],u.prototype,\"mergedFilter\",null),u=t([r(\"esri.views.3d.layers.support.TemporalSceneLayerView\")],u),u};class m{constructor(t){this.attributeData=t}getAttribute(t,e){return l(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"string\"==typeof r?new Date(r).getTime():\"number\"==typeof r||null==r?r:null}}export{u as TemporalSceneLayerView};\n"],"names":["n","t","u","a","l","type","e","readOnly","json","origins","service","read","source","reader","p","r","o","Array","isArray","map","layerType","c","y","messages","push","s","definition","context","constructor","super","this","listMode","sublayers","loadAll","forEachSublayer","write","prototype","i","sublayersProperty","readSublayers","forEach","d","async","concat","Math","floor","rootIndex","nodesPerPage","rootPage","query","f","token","responseType","signal","data","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","g","warn","split","pop","rootNode","pageError","nodeError","url","EventedMixin","sublayer","parent","view","initialize","suspended","canResume","updating","isUpdating","visible","_this$sublayer","_overrideIfSome","fullOpacity","_this$sublayer2","_this$parent","opacity","_this$parent2","_this$view","ready","Boolean","Solid","WireFrame","XRay","filterMode","mode","edgeMaterial","edges","color","pickable","colorMixMode","Replace","castShadows","lastMaterial","cachedMaterial","arguments","availableFields","filter","Error","queryFeatures","queryObjectIds","queryFeatureCount","createQuery","queryExtent","highlight","C","q","Q","F","L","layerView","_elevationContext","_isIntegratedMesh","_supportsLabeling","requiredFields","progressiveLoadFactor","_queryEngine","i3slayer","layerUid","layer","uid","sublayerUid","layerId","id","sublayerId","layerPopupEnabledAndHasTemplate","_this$layerView","popupEnabled","R","popup","defaultPopupTemplateEnabled","_updatingHandles","add","mergedFilter","w","checkSupport","_i3sFilter","viewFilter","layerFieldsIndex","fieldsIndex","loadAsyncModule","_loadAsyncModule","addSqlFilter","logError","addTimeFilter","renderer","definitionExpressionFields","filterExpressionFields","timeFilterFields","_updateRequiredFields","_rendererChange","_filterChange","parsedDefinitionExpression","_this$_i3sFilter","sortedObjectIds","_this$_i3sFilter2","parsedWhereClause","getTimeFilterDependencies","_this$_i3sFilter3","_this$filter","parsedGeometry","spatialRelationship","_geometryFilterChange","parsedFilterExpressions","_updateSymbologyOverride","addResolvingPromise","lodFactor","qualitySettings","sceneService","object","modelName","filterExpressions","_ref","create","getLogger","error","isStandardized","fieldNames","v","fields","missingFields","length","join","_get","_set","_this$_i3sFilter$upda","_this$_i3sFilter4","_setSymbologyOverride","testFeature","_","reduce","_ref2","timeExtent","timeInfo","startField","endField","outFields","_createLayerGraphic","sourceLayer","_controller","rootNodeVisible","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","associatedLayer","load","V","U","Set","catch","whenGraphicAttributes","from","then","getRequiredFields","getFilters","_this$_i3sFilter5","addFilters","crsIndex","_collection","returnGeometry","outSpatialReference","spatialReference","m","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","executeQueryForCount","executeQuery","features","executeQueryForIds","_createQueryEngine","E","renderSpatialReference","x","priority","A","FEATURE_QUERY_ENGINE","spatialIndex","j","featureAdapter","S","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","index","meta","b","QUERYABLE","sourceSpatialReference","I","viewSpatialReference","_addDefinitionExpressionToQuery","h","String","O","sublayerViews","_abortController","AbortController","_loadingComponents","_pendingWhenSublayerViews","Map","ignoresMemoryFactor","filterExpression","_r$filterBlocks","activeFilterId","filters","find","filterBlocks","toArray","_e$filterExpression","updatingProgressValue","updatingProgress","some","viewingMode","_initializeSubLayerViews","destroy","isEmpty","geometryType","get","resolve","delete","addHandles","notifyChange","getGraphicFromIntersectorTarget","items","_findComponent","flat","whenGraphicBounds","Promise","reject","getAABBFromIntersectorTarget","whenSublayerView","set","promise","usedMemory","unloadedMemory","dependsOn","B","_definitionExpressionErrors","_maxDefinitionExpressionErrors","_this$i3slayer","definitionExpression","_evaluateClause","clone","where","_t$clone","_r$timeExtent$interse","_r$timeExtent","intersection","useTime","toJSON","_timeFilter","_e$attributeInfo","attributeInfo","attributeData","startTimeField","endTimeField","featureIds","getAttribute","getAttributeAsTimestamp","Date","getTime"],"sourceRoot":""}