"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[59714,51705],{51705:(e,t,i)=>{i.r(t),i.d(t,{default:()=>M});var a=i(35143),n=(i(11265),i(46053)),r=(i(81806),i(76460),i(47249),i(85842)),s=i(25329),o=i(91967);let l=class extends o.A{constructor(e){super(e),this.average=null,this.bins=null,this.max=null,this.min=null}get binRange(){const{bins:e}=this;return e&&e.length>1?e[e.length-1].maxValue-e[0].minValue:0}set labelFormatFunction(e){this._set("labelFormatFunction",e)}get range(){const{max:e,min:t}=this;return null!=e&&null!=t?e-t:0}get state(){const{bins:e,range:t}=this;return t>0&&null!==e&&void 0!==e&&e.length?"ready":"disabled"}};(0,a._)([(0,n.MZ)()],l.prototype,"average",void 0),(0,a._)([(0,n.MZ)()],l.prototype,"bins",void 0),(0,a._)([(0,n.MZ)({readOnly:!0})],l.prototype,"binRange",null),(0,a._)([(0,n.MZ)()],l.prototype,"labelFormatFunction",null),(0,a._)([(0,n.MZ)()],l.prototype,"max",void 0),(0,a._)([(0,n.MZ)()],l.prototype,"min",void 0),(0,a._)([(0,n.MZ)({readOnly:!0})],l.prototype,"range",null),(0,a._)([(0,n.MZ)({readOnly:!0})],l.prototype,"state",null),l=(0,a._)([(0,r.$)("esri.widgets.Histogram.HistogramViewModel")],l);const d=l;var h,u=i(98108),c=i(15062),g=i(76099),_=i(63582),p=i(54761),v=i(39348);const m="esri-histogram",b={base:m,widgetIcon:c.T.edit,horizontalLayout:"".concat(m,"--horizontal"),verticalLayout:"".concat(m,"--vertical"),content:"".concat(m,"__content"),svg:"".concat(m,"__svg"),bar:"".concat(m,"__bar"),bars:"".concat(m,"__bars"),label:"".concat(m,"__label"),dataLines:"".concat(m,"__data-lines"),dataLinesSubgroup:"".concat(m,"__data-lines-subgroup"),dataLine:"".concat(m,"__data-line"),averageLabel:"".concat(m,"__average-label"),averageDataLine:"".concat(m,"__average-data-line"),averageSymbol:"".concat(m,"__average-symbol")};let y=h=class extends s.A{constructor(e,t){super(e,t),this._bgFillId="".concat(this.id,"-bg-fill"),this._containerNode=null,this._containerDimensions={width:0,height:0},this._defaultBarColor="#d8d8d8",this.barCreatedFunction=null,this.dataLines=null,this.dataLineCreatedFunction=null,this.dataLineUpdatedFunction=null,this.messages=null,this.viewModel=new d}get average(){return this.viewModel.average}set average(e){this.viewModel.average=e}get bins(){return this.viewModel.bins}set bins(e){this.viewModel.bins=e}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get labelFormatFunction(){return this.viewModel.labelFormatFunction}set labelFormatFunction(e){this.viewModel.labelFormatFunction=e}set layout(e){"vertical"!==e&&(e="horizontal"),this._set("layout",e)}get max(){return this.viewModel.max}set max(e){this.viewModel.max=e}get min(){return this.viewModel.min}set min(e){this.viewModel.min=e}get state(){return this.viewModel.state}static fromHistogramResult(e){const{bins:t,maxValue:i,minValue:a}=e;return new h({bins:t,max:i,min:a})}render(){const{label:e,layout:t,state:i}=this,a=this.classes(b.base,u.D.widget,"horizontal"===t?b.horizontalLayout:b.verticalLayout,"disabled"===i?u.D.disabled:null);return(0,p.K)("div",{afterCreate:this._afterContainerNodeCreate,"aria-label":e,bind:this,class:a},"ready"===i?this._renderContent():null)}_renderContent(){if(!this._containerNode)return;const e=this._bgFillId,t="clip-path: url(#".concat(e,")");return(0,p.K)("div",{class:b.content},(0,p.K)("svg",{class:b.svg,xmlns:"http://www.w3.org/2000/svg"},(0,p.K)("defs",null,this._renderFillDefinition(e)),(0,p.K)("g",{style:t},this._renderBarsGroup()),this._renderLinesGroup()))}_renderBarsGroup(){return(0,p.K)("g",{class:this.classes(b.bars)},this._renderBars())}_renderBars(){const{layout:e,viewModel:{binRange:t,range:i}}=this;if(!t||!i)return;const a=t/i,{width:n,height:r}=this._containerDimensions;if(0===r&&0===n)return;if(0===r&&0!==n)return void this.scheduleRender();const[s,o]="vertical"===e?[r*a,n]:[r,n*a];return this._getBarDimensions(s,o).map(((e,t)=>{let[i,a]=e;return this._renderBar(t,i,a)}))}_renderBar(e,t,i){const{bins:a,layout:n,max:r,messages:s,viewModel:{range:o}}=this;if(!a||null==r)return;const{width:l,height:d}=this._containerDimensions,h=a.slice()[e],{count:u,maxValue:c,minValue:g}=h,_=r-c,[m,y]="vertical"===n?[0,_*(d/o)]:[l-i-_*(l/o),d-t],M=(0,v.V)(s.barLabel,{count:u,maxValue:c,minValue:g});return(0,p.K)("rect",{afterCreate:this._afterBarCreate,"aria-label":M,bind:this,class:b.bar,"data-index":e,fill:this._defaultBarColor,height:t,role:"img","shape-rendering":"crispEdges","stroke-width":"0",width:i,x:m,y:y})}_renderLinesGroup(){return(0,p.K)("g",{class:this.classes(b.dataLines)},this._renderAverageLine(),this._renderCustomLines())}_renderAverageLine(){const{average:e}=this;if(null==e)return;const t=[(0,p.K)("tspan",{class:this.classes(b.averageSymbol)},"x\u0304 "),(0,p.K)("tspan",{class:this.classes(b.averageLabel)},this.labelFormatFunction?this.labelFormatFunction(e,"average"):e)];return(0,p.K)("g",{afterCreate:this._afterLinesSubgroupCreate,afterUpdate:this._afterLinesSubgroupUpdate,bind:this,class:this.classes(b.dataLinesSubgroup)},(0,p.K)("title",{key:"title"},e),this._renderLine(e,this.classes(b.averageDataLine)),this._renderLabel({label:t,value:e}))}_renderCustomLines(){var e;if(null!==(e=this.dataLines)&&void 0!==e&&e.length)return this.dataLines.map(((e,t)=>this._renderLineSubgroup(e,t)))}_renderLineSubgroup(e,t){const{value:i}=e;return(0,p.K)("g",{afterCreate:this._afterLinesSubgroupCreate,afterUpdate:this._afterLinesSubgroupUpdate,bind:this,class:this.classes(b.dataLinesSubgroup),"data-index":t},(0,p.K)("title",{key:"title"},i),this._renderLine(i),this._renderLabel(e))}_renderLine(e,t){const[i,a,n,r]=this._getLinePosition(e);return(0,p.K)("line",{class:this.classes(b.dataLine,t),"shape-rendering":"crispEdges",x1:i,x2:a,y1:n,y2:r})}_renderLabel(e,t){const{label:i,value:a}=e,[n,r]=this._getLabelPosition(a);return(0,p.K)("text",{class:this.classes(b.label,t),"text-anchor":"end",transform:"horizontal"===this.layout?"rotate(270)":null,x:n,y:r-2},null!==i&&void 0!==i?i:"")}_renderFillDefinition(e){const{width:t,height:i}=this._containerDimensions;return(0,p.K)("clipPath",{id:e},(0,p.K)("rect",{height:i,width:t,x:"0",y:"0"}))}_afterContainerNodeCreate(e){this._containerNode=e,this.addHandles((0,g.EV)(e,(e=>{const{width:t,height:i}=e.contentRect;this._containerDimensions={width:t,height:i}})))}_getIndexFromElement(e){var t;const i=null===(t=e.dataset)||void 0===t?void 0:t.index,a=e.getAttribute("data-index");return null!=i?parseInt(i,10):null!=a?parseInt(a,10):null}_afterBarCreate(e){if(this.barCreatedFunction){var t;const i=null!==(t=this._getIndexFromElement(e))&&void 0!==t?t:-1;this.barCreatedFunction(i,e)}}_afterLinesSubgroupCreate(e){if(this.dataLineCreatedFunction){const t=this._getIndexFromElement(e),i=e.childNodes[1],a=e.childNodes[2]?e.childNodes[2]:null;this.dataLineCreatedFunction(i,a,t)}}_afterLinesSubgroupUpdate(e){if(this.dataLineUpdatedFunction){const t=this._getIndexFromElement(e),i=e.childNodes[1],a=e.childNodes[2]?e.childNodes[2]:null;this.dataLineUpdatedFunction(i,a,t)}}_getBarDimensions(e,t){const{bins:i,layout:a}=this,n=i?i.map((e=>e.count)):[],r=Math.max.apply(Math,n);return n.map((i=>"vertical"===a?[e/n.length,0!==r?i/r*t:0]:[0!==r?i/r*e:0,t/n.length]))}_getLinePosition(e){const{layout:t,min:i,viewModel:{range:a}}=this;if(null==i)return[0,0,0,0];const n=Math.round((e-i)/a*100)/100,{width:r,height:s}=this._containerDimensions,[o,l]=[n*r||1,s-n*s||1];return"vertical"===t?[0,"100%",l,l]:[o,o,"100%",0]}_getLabelPosition(e){const{layout:t,min:i,viewModel:{range:a}}=this;if(null==i)return[0,0];const n=Math.round((e-i)/a*100)/100,{width:r,height:s}=this._containerDimensions;return"vertical"===t?[r,s-n*s]:[0,n*r]}};(0,a._)([(0,n.MZ)()],y.prototype,"_bgFillId",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"_containerNode",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"_containerDimensions",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"_defaultBarColor",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"average",null),(0,a._)([(0,n.MZ)()],y.prototype,"barCreatedFunction",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"dataLines",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"dataLineCreatedFunction",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"dataLineUpdatedFunction",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"label",null),(0,a._)([(0,n.MZ)()],y.prototype,"labelFormatFunction",null),(0,a._)([(0,n.MZ)({value:"horizontal"})],y.prototype,"layout",null),(0,a._)([(0,n.MZ)()],y.prototype,"max",null),(0,a._)([(0,n.MZ)(),(0,_.G)("esri/widgets/Histogram/t9n/Histogram")],y.prototype,"messages",void 0),(0,a._)([(0,n.MZ)()],y.prototype,"min",null),(0,a._)([(0,n.MZ)({readOnly:!0})],y.prototype,"state",null),(0,a._)([(0,n.MZ)()],y.prototype,"viewModel",void 0),y=h=(0,a._)([(0,r.$)("esri.widgets.Histogram")],y);const M=y},59714:(e,t,i)=>{i.r(t),i.d(t,{default:()=>C});var a=i(35143),n=i(69539),r=i(68134),s=i(46053),o=i(40565),l=(i(47249),i(81806),i(85842)),d=i(51705),h=i(22785),u=i(25329),c=(i(76460),i(6515)),g=i(7095);let _=class extends c.A{constructor(e){super(e),this.average=null,this.bins=null,this.hasTimeData=!1,this.labelFormatFunction=e=>{if(this.hasTimeData)return(0,g.SK)(e);const{max:t,min:i,precision:a}=this,n=t-i>10?2:a;return(0,g.pz)(parseFloat(e.toFixed(n)))},this.rangeType="equal",this.standardDeviation=null}generateWhereClause(e){const{rangeType:t,state:i,values:a}=this;if("ready"!==i||null===a||void 0===a||!a.length||null==e)return null;const n=a[0],r=a.length>1?a[a.length-1]:null;switch(t){case"equal":return"".concat(e," = ").concat(n);case"not-equal":return"".concat(e," <> ").concat(n);case"less-than":return"".concat(e," < ").concat(n);case"greater-than":return"".concat(e," > ").concat(n);case"at-least":return"".concat(e," >= ").concat(n);case"at-most":return"".concat(e," <= ").concat(n);case"between":return"".concat(e," BETWEEN ").concat(n," AND ").concat(r);case"not-between":return"".concat(e," NOT BETWEEN ").concat(n," AND ").concat(r);default:return null}}};(0,a._)([(0,s.MZ)()],_.prototype,"average",void 0),(0,a._)([(0,s.MZ)()],_.prototype,"bins",void 0),(0,a._)([(0,s.MZ)()],_.prototype,"hasTimeData",void 0),(0,a._)([(0,s.MZ)()],_.prototype,"labelFormatFunction",void 0),(0,a._)([(0,s.MZ)()],_.prototype,"rangeType",void 0),(0,a._)([(0,s.MZ)()],_.prototype,"standardDeviation",void 0),_=(0,a._)([(0,l.$)("esri.widgets.HistogramRangeSlider.HistogramRangeSliderViewModel")],_);const p=_;var v=i(98108),m=i(15062),b=(i(76099),i(63582)),y=i(54761);const M="esri-histogram-range-slider",w={base:M,widgetIcon:m.T.edit,sliderContainer:"".concat(M,"__slider-container"),histogramContainer:"".concat(M,"__histogram-container"),rangeTypePrefix:"".concat(M,"__range-type--")};let F=class extends u.A{constructor(e,t){super(e,t),this._barElements=[],this._histogram=null,this._slider=null,this.barCreatedFunction=null,this.dataLines=null,this.dataLineCreatedFunction=null,this.excludedBarColor=new n.A("#d7e5f0"),this.includedBarColor=new n.A("#599dd4"),this.messages=null,this.standardDeviationCount=1,this.viewModel=new p}initialize(){const{average:e,bins:t,hasTimeData:i,max:a,min:n,viewModel:s}=this;this._updateBarFill=this._updateBarFill.bind(this),this._histogram=new d.default({average:e,bins:t,barCreatedFunction:(e,t)=>{0===e&&(this._barElements=[]),this._barElements.push(t),this._updateBarFill(e,t),this.barCreatedFunction&&this.barCreatedFunction(e,t)},dataLines:this._getDataLines(),dataLineCreatedFunction:(e,t)=>{this.dataLineCreatedFunction&&this.dataLineCreatedFunction(e,t)},labelFormatFunction:this.labelFormatFunction,layout:"horizontal",max:a,min:n}),this._slider=new h.default({labelFormatFunction:this.labelFormatFunction,layout:"horizontal",visibleElements:{labels:!0,rangeLabels:!0},rangeLabelInputsEnabled:!i,viewModel:s}),this.addHandles([this._slider.on("max-change",(e=>this.emit("max-change",e))),this._slider.on("min-change",(e=>this.emit("min-change",e))),this._slider.on("segment-drag",(e=>{this._updateBarFills(),this.emit("segment-drag",e)})),this._slider.on("thumb-change",(e=>{this._updateBarFills(),this.emit("thumb-change",e)})),this._slider.on("thumb-drag",(e=>{this._updateBarFills(),this.emit("thumb-drag",e)})),(0,r.watch)((()=>this.bins),(e=>{if(e&&this._histogram.bins){const t=this._histogram.bins.length-e.length;this._barElements.splice(-t,t)}else this._barElements=[];this._histogram.set({bins:e}),this._updateBarFills(),this.scheduleRender()})),(0,r.watch)((()=>[this.max,this.min,this.rangeType,this.values]),(e=>{let[t,i]=e;this._histogram.set({max:t,min:i}),this._updateBarFills(),this.scheduleRender()})),(0,r.watch)((()=>[this.average,this.dataLines,this.standardDeviation,this.standardDeviationCount]),(e=>{let[t]=e;this._histogram.set({average:t,dataLines:this._getDataLines()})})),(0,r.watch)((()=>this.labelFormatFunction),(e=>{this._histogram.set({labelFormatFunction:e})})),(0,r.watch)((()=>this.hasTimeData),(e=>{this._slider.set({rangeLabelInputsEnabled:!e})}))])}get average(){return this.viewModel.average}set average(e){this.viewModel.average=e}get bins(){return this.viewModel.bins}set bins(e){this.viewModel.bins=e}get hasTimeData(){return this.viewModel.hasTimeData}set hasTimeData(e){this.viewModel.hasTimeData=e}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get labelFormatFunction(){return this.viewModel.labelFormatFunction}set labelFormatFunction(e){this.viewModel.labelFormatFunction=e}get max(){return this.viewModel.max}set max(e){this.viewModel.max=e}get min(){return this.viewModel.min}set min(e){this.viewModel.min=e}get precision(){return this.viewModel.precision}set precision(e){this.viewModel.precision=e}get rangeType(){return this.viewModel.rangeType}set rangeType(e){this.viewModel.rangeType=e}get standardDeviation(){return this.viewModel.standardDeviation}set standardDeviation(e){this.viewModel.standardDeviation=e}get values(){return this.viewModel.values}set values(e){this.viewModel.values=e}generateWhereClause(e){return this.viewModel.generateWhereClause(e)}render(){const{rangeType:e,viewModel:t,label:i}=this,a=this.classes(w.base,v.D.widget,"".concat(w.rangeTypePrefix).concat(e),"disabled"===t.state?v.D.disabled:null);return(0,y.K)("div",{"aria-label":i,class:a},"disabled"===t.state?null:this._renderContent())}_renderContent(){return[this._renderHistogram(),this._renderSlider()]}_renderSlider(){return(0,y.K)("div",{class:w.sliderContainer,key:"".concat(this.id,"-slider-container")},this._slider.render())}_renderHistogram(){return(0,y.K)("div",{class:w.histogramContainer},this._histogram.render())}_getDataLines(){return[...this._getStandardDeviationDataLines(),...this.dataLines||[]]}_getStandardDeviationDataLines(){const{average:e,standardDeviation:t,standardDeviationCount:i}=this;return(0,g.sZ)(t,e,i).map((e=>({value:e})))}_updateBarFills(){this._barElements.forEach(((e,t)=>this._updateBarFill(t,e)))}_updateBarFill(e,t){var i,a;t.setAttribute("fill",null!==(i=null===(a=this._getFillForBar(e))||void 0===a?void 0:a.toHex())&&void 0!==i?i:"")}_getFillForBar(e){const{bins:t,rangeType:i,values:a}=this;if(-1===e||null===t||void 0===t||!t.length||!i||null===a||void 0===a||!a.length)return null;const n=t[e];if(!n)return null;const{maxValue:r,minValue:s}=n,o=r-s,l=a[0]>s&&a[0]<r;switch(i){case"equal":case"not-equal":return this.includedBarColor;case"less-than":case"at-most":return l?this._getBlendedColor((a[0]-s)/o):r<=a[0]?this.includedBarColor:this.excludedBarColor;case"greater-than":case"at-least":return l?this._getBlendedColor(1-(a[0]-s)/o):s>=a[0]?this.includedBarColor:this.excludedBarColor;case"between":if(2===a.length)return a[0]>s&&a[0]<r?this._getBlendedColor(1-(a[0]-s)/o):a[1]>s&&a[1]<r?this._getBlendedColor((a[1]-s)/o):s>=a[0]&&r<=a[1]?this.includedBarColor:this.excludedBarColor;break;case"not-between":if(2===a.length)return a[0]>s&&a[0]<r?this._getBlendedColor((a[0]-s)/o):a[1]>s&&a[1]<r?this._getBlendedColor(1-(a[1]-s)/o):s>a[0]&&r<a[1]?this.excludedBarColor:this.includedBarColor}return this.includedBarColor}_getBlendedColor(e){return n.A.blendColors(this.excludedBarColor,this.includedBarColor,e)}};(0,a._)([(0,s.MZ)()],F.prototype,"average",null),(0,a._)([(0,s.MZ)()],F.prototype,"barCreatedFunction",void 0),(0,a._)([(0,s.MZ)()],F.prototype,"bins",null),(0,a._)([(0,s.MZ)()],F.prototype,"dataLines",void 0),(0,a._)([(0,s.MZ)()],F.prototype,"dataLineCreatedFunction",void 0),(0,a._)([(0,s.MZ)({type:n.A,json:{type:[o.jz],write:!0}})],F.prototype,"excludedBarColor",void 0),(0,a._)([(0,s.MZ)()],F.prototype,"hasTimeData",null),(0,a._)([(0,s.MZ)({type:n.A,json:{type:[o.jz],write:!0}})],F.prototype,"includedBarColor",void 0),(0,a._)([(0,s.MZ)()],F.prototype,"label",null),(0,a._)([(0,s.MZ)()],F.prototype,"labelFormatFunction",null),(0,a._)([(0,s.MZ)()],F.prototype,"max",null),(0,a._)([(0,s.MZ)(),(0,b.G)("esri/widgets/HistogramRangeSlider/t9n/HistogramRangeSlider")],F.prototype,"messages",void 0),(0,a._)([(0,s.MZ)()],F.prototype,"min",null),(0,a._)([(0,s.MZ)()],F.prototype,"precision",null),(0,a._)([(0,s.MZ)()],F.prototype,"rangeType",null),(0,a._)([(0,s.MZ)()],F.prototype,"standardDeviation",null),(0,a._)([(0,s.MZ)()],F.prototype,"standardDeviationCount",void 0),(0,a._)([(0,s.MZ)()],F.prototype,"values",null),(0,a._)([(0,s.MZ)()],F.prototype,"viewModel",void 0),F=(0,a._)([(0,l.$)("esri.widgets.HistogramRangeSlider")],F);const C=F}}]);
//# sourceMappingURL=59714.3416fdfa.chunk.js.map