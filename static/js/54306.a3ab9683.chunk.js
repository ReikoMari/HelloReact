"use strict";(self.webpackChunkhelloworld=self.webpackChunkhelloworld||[]).push([[54306],{21905:(e,t,i)=>{i.d(t,{A:()=>d});var n,l=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(50037);let r=n=class extends a.A{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};(0,l._)([(0,o.MZ)()],r.prototype,"displayValueEnabled",void 0),(0,l._)([(0,o.MZ)()],r.prototype,"max",void 0),(0,l._)([(0,o.MZ)()],r.prototype,"min",void 0),(0,l._)([(0,o.MZ)()],r.prototype,"step",void 0),(0,l._)([(0,o.MZ)()],r.prototype,"value",void 0),r=n=(0,l._)([(0,s.$)("esri.support.Action.ActionSlider")],r);const d=r},38623:(e,t,i)=>{i.d(t,{CA:()=>s,Yb:()=>l,p5:()=>o});i(11265);var n=i(39348);function l(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function o(e){return e?{backgroundImage:"url(".concat(e,")")}:{}}function s(e){let{action:t,feature:i}=e;const l=null===i||void 0===i?void 0:i.attributes,o="image"in t?t.image:void 0;return o&&l?(0,n.V)(o,l):null!==o&&void 0!==o?o:""}},50912:(e,t,i)=>{i.d(t,{$H:()=>l,ES:()=>g,Gq:()=>M,MN:()=>w,Mq:()=>d,Qv:()=>c,TO:()=>_,Yl:()=>u,cR:()=>r,cg:()=>a,dL:()=>h,do:()=>E,dv:()=>o,eF:()=>v,ep:()=>s,kL:()=>y,mk:()=>b,oU:()=>m,oZ:()=>p});const n={hide:"hide",hideChildren:"hide-children"},l="root",o=10,s=2;function a(e){let{exclusive:t,visible:i,visibilityAppearance:n}=e;const l="checkbox"===n;return i?t?"circle-f":l?"check-square-f":"view-visible":t?"circle":l?"square":"view-hide"}function r(e){let{connectionStatus:t,publishing:i}=e;return t?"connected"===t?"beacon":"offline":i?"square":"bullet-point"}function d(e){return!!e&&e.listMode===n.hideChildren}function c(e){if(e)return null!=e.listMode?e.listMode:void 0}function u(e){if(!e)return"inherited";const t=function(e){const t=I(e);return null!=t&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}(f(e)?e.layer:e);return null!=t?t?"independent":"inherited":"visibilityMode"in e&&null!=e.visibilityMode?e.visibilityMode:"independent"}function p(e){if(!(!e||"type"in e&&"wmts"===e.type||d(e)))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function h(e){var t,i;const n=null!==(t=null!==e&&void 0!==e&&e.layer&&f(e.layer)?e.layer.layer:void 0)&&void 0!==t?t:null===e||void 0===e?void 0:e.layer;return!!n&&(null===(i=function(e){const t=I(e);return null!=t&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}(n))||void 0===i||i)}function m(e){return c(e)!==n.hide}function v(e,t){if(!e||null==t||isNaN(t))return!1;const i=function(e){return null!=e&&"minScale"in e&&null!=e.minScale?e.minScale:void 0}(e),n=function(e){return null!=e&&"maxScale"in e&&null!=e.maxScale?e.maxScale:void 0}(e),l=null!=i&&!isNaN(i)&&i>0&&t>i,o=null!=n&&!isNaN(n)&&n>0&&t<n;return l||o}function b(e,t){null===e||void 0===e||e.sort(((e,i)=>{const n="uid"in e?t.indexOf(e.uid):-1,l="uid"in i?t.indexOf(i.uid):-1;return n>l?-1:n<l?1:0}))}function y(e,t){const i=null===e||void 0===e?void 0:e.layer;if(!i)return;const n=p(i);if(!n)return;let l;"layers"===n&&"layers"in i?l=i.layers:"sublayers"===n&&"sublayers"in i&&(l=i.sublayers),b(l,t)}function g(e){const t=null===e||void 0===e?void 0:e.layer;return t&&"layers"in t?t.layers:null}function _(e){const t=f(e)?e:null,i=null===e||void 0===e?void 0:e.parent,n=null!=i&&"type"in i&&"map-image"===i.type?null===t||void 0===t?void 0:t.source:null;return n&&i?{layer:i,title:"",sublayerIds:[n.mapLayerId]}:{layer:e,title:""}}function f(e){return null!=e&&"layer"in e&&null!=e.layer}function I(e){return e&&"capabilities"in e&&null!=e.capabilities&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function M(e){return null===e||void 0===e?void 0:e["data-item"]}function w(e){return null===e||void 0===e?void 0:e.getAttribute("data-layer-type")}function E(e){let{children:t,error:i,incompatible:n}=e;return!(null===t||void 0===t||!t.filter((e=>!e.hidden)).length)&&!i&&!n}},54306:(e,t,i)=>{i.r(t),i.d(t,{default:()=>J});var n=i(35143),l=i(19276),o=i(63241),s=i(76460),a=i(46053),r=(i(81806),i(47249),i(85842)),d=i(38623),c=i(25329),u=i(50912),p=i(77666),h=i(98108),m=(i(76099),i(63582)),v=i(12254),b=i(54761),y=i(15062);const g="esri-table-list",_="".concat(g,"__item"),f={base:g,widgetIcon:y.T.table,filterNoResults:"".concat(g,"__filter-no-results"),item:_,itemContent:"".concat(_,"-content"),itemContentBottom:"".concat(_,"-content-bottom"),itemMessage:"".concat(_,"-message"),itemActionIcon:"".concat(_,"-action-icon"),itemActionImage:"".concat(_,"-action-image"),itemTemporaryIcon:"".concat(_,"-temporary-icon"),publishing:"".concat(g,"__publishing"),statusIndicator:"".concat(g,"__status-indicator")};var I=i(91967),M=i(5632),w=i(68134),E=i(21403),A=i(17879),C=i(50037),Z=i(16700),L=i(21905),F=i(76192),k=i(95752);let P=class extends((0,M.sA)(c.A)){constructor(e,t){super(e,t),this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}get className(){var e;const{image:t}=this,i=this._getFirstWidget();return this._get("className")||(!t&&i&&null!==(e=i.iconClass)&&void 0!==e?e:"")}set className(e){this._override("className",e)}get disabled(){return!(this.content&&this.listItem)}set disabled(e){this._overrideIfSome("disabled",e)}get title(){var e,t;return this._get("title")||(null!==(e=null===(t=this._getFirstWidget())||void 0===t?void 0:t.label)&&void 0!==e?e:"")}set title(e){this._override("title",e)}render(){return(0,b.K)("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(e){const{disabled:t}=this;return!e||t?null:"string"==typeof e?(0,b.K)("div",{innerHTML:e,key:e}):(0,k.p4)(e)?(0,b.K)("div",{key:"content-widget"},e.render()):e instanceof HTMLElement?(0,b.K)("div",{afterCreate:this._attachToNode,bind:e,key:"content-element"}):null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_attachToNode(e){e.appendChild(this)}_getWidget(e){return(0,k.p4)(e)?e:null}_getFirstWidget(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._getWidget(e))).find((e=>e)):this._getWidget(e)}};(0,n._)([(0,a.MZ)()],P.prototype,"className",null),(0,n._)([(0,a.MZ)()],P.prototype,"content",void 0),(0,n._)([(0,a.MZ)()],P.prototype,"disabled",null),(0,n._)([(0,a.MZ)()],P.prototype,"flowEnabled",void 0),(0,n._)([(0,a.MZ)()],P.prototype,"image",void 0),(0,n._)([(0,a.MZ)()],P.prototype,"listItem",void 0),(0,n._)([(0,a.MZ)()],P.prototype,"open",void 0),(0,n._)([(0,a.MZ)()],P.prototype,"title",null),(0,n._)([(0,a.MZ)()],P.prototype,"visible",void 0),P=(0,n._)([(0,r.$)("esri.widgets.TableList.ListItemPanel")],P);const S=P;var N;const x=l.A.ofType({key:"type",defaultKeyValue:"button",base:C.A,typeMap:{button:Z.A,toggle:F.A,slider:L.A}}),T=l.A.ofType(x);let D=N=class extends((0,M.sA)(I.A)){constructor(e){super(e),this.actionsSections=new T,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.panel=null,this.sortable=!0}initialize(){if(this.addHandles([(0,w.watch)((()=>this.panel),(e=>this._setListItemOnPanel(e)),w.initial)]),"function"==typeof this.listItemCreatedFunction){const e={item:this};this.listItemCreatedFunction.call(null,e)}}get error(){var e;return null===(e=this.layer)||void 0===e?void 0:e.loadError}castPanel(e){var t;return null!==(t=this.panel)&&void 0!==t&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new S(e):null}get publishing(){var e,t;const{layer:i,checkPublishStatusEnabled:n}=this;return null!==(e=n&&i&&"publishingInfo"in i&&"publishing"===(null===(t=i.publishingInfo)||void 0===t?void 0:t.status))&&void 0!==e&&e}get title(){var e,t;const i=(0,A.Jt)(this,"layer.layer");return null!==(e=!i||i&&(0,A.Jt)(this,"layer.layer.loaded")?null===(t=this.layer)||void 0===t?void 0:t.title:null)&&void 0!==e?e:""}set title(e){this._overrideIfSome("title",e)}clone(){return new N({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,panel:this.panel,sortable:this.sortable,title:this.title})}_setListItemOnPanel(e){e&&(e.listItem=this)}};(0,n._)([(0,a.MZ)({type:T})],D.prototype,"actionsSections",void 0),(0,n._)([(0,a.MZ)()],D.prototype,"actionsOpen",void 0),(0,n._)([(0,a.MZ)()],D.prototype,"checkPublishStatusEnabled",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],D.prototype,"error",null),(0,n._)([(0,a.MZ)()],D.prototype,"hidden",void 0),(0,n._)([(0,a.MZ)()],D.prototype,"layer",void 0),(0,n._)([(0,a.MZ)()],D.prototype,"listItemCreatedFunction",void 0),(0,n._)([(0,a.MZ)({type:S})],D.prototype,"panel",void 0),(0,n._)([(0,E.w)("panel")],D.prototype,"castPanel",null),(0,n._)([(0,a.MZ)({readOnly:!0})],D.prototype,"publishing",null),(0,n._)([(0,a.MZ)()],D.prototype,"sortable",void 0),(0,n._)([(0,a.MZ)()],D.prototype,"title",null),D=N=(0,n._)([(0,r.$)("esri.widgets.TableList.ListItem")],D);const K=D;var O=i(54099);const B="map",H="tables",R="layer-list-mode",V=l.A.ofType(K);let q=class extends O.A.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.tableItems=new V,this.map=null}initialize(){this.addHandles([(0,w.watch)((()=>{var e;return[this.map,null===(e=this.map)||void 0===e?void 0:e.loadStatus]}),(()=>this._mapHandles()),w.initial),(0,w.watch)((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled]),(()=>this._recompileList()))],B)}destroy(){this.map=null,this.tableItems.removeAll()}get state(){const{map:e}=this;if(!e)return"disabled";const t=null===e||void 0===e?void 0:e.loadStatus;return"string"==typeof t?"loaded"===t?"ready":"loading"===t?"loading":"disabled":"ready"}get totalItems(){return this.tableItems.length}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}_mapHandles(){this.removeHandles(H),!this.map||this.map.loadStatus&&"loaded"!==this.map.loadStatus?this._removeAllItems():this.addHandles((0,w.watch)((()=>{var e;return null===(e=this.map)||void 0===e||null===(e=e.allTables)||void 0===e?void 0:e.toArray()}),(()=>this._compileList()),w.initial),H)}_removeAllItems(){this.tableItems.removeAll()}_getViewableTables(e){if(e)return e.filter((e=>"hide"!==(0,u.Qv)(e)))}_watchTablesListMode(e){this.removeHandles(R),e&&e.forEach((e=>{this.addHandles((0,w.watch)((()=>e.listMode),(()=>this._compileList())),R)}))}_compileList(){var e;const t=null===(e=this.map)||void 0===e?void 0:e.tables;this._watchTablesListMode(t);const i=this._getViewableTables(t);null!==i&&void 0!==i&&i.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}_createNewItems(e){const{tableItems:t,listItemCreatedFunction:i,checkPublishStatusEnabled:n}=this;e.forEach((e=>{t.some((t=>t.layer===e))||t.add(new K({checkPublishStatusEnabled:n,layer:e,listItemCreatedFunction:i}))}))}_removeItems(e){const{tableItems:t}=this;t.forEach((i=>{if(!i)return;(null===e||void 0===e?void 0:e.find((e=>i.layer===e)))||t.remove(i)}))}_sortItems(e){const{tableItems:t}=this;t.sort(((t,i)=>{const n=e.indexOf(t.layer),l=e.indexOf(i.layer);return n>l?-1:n<l?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}};(0,n._)([(0,a.MZ)()],q.prototype,"checkPublishStatusEnabled",void 0),(0,n._)([(0,a.MZ)()],q.prototype,"listItemCreatedFunction",void 0),(0,n._)([(0,a.MZ)({type:V,readOnly:!0})],q.prototype,"tableItems",void 0),(0,n._)([(0,a.MZ)()],q.prototype,"map",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],q.prototype,"state",null),(0,n._)([(0,a.MZ)()],q.prototype,"totalItems",null),q=(0,n._)([(0,r.$)("esri.widgets.TableList.TableListViewModel")],q);const U=q;let $=class extends I.A{constructor(){super(...arguments),this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryTableIndicators=!1}};(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],$.prototype,"closeButton",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],$.prototype,"collapseButton",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],$.prototype,"errors",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],$.prototype,"filter",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],$.prototype,"flow",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],$.prototype,"heading",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],$.prototype,"statusIndicators",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],$.prototype,"temporaryTableIndicators",void 0),$=(0,n._)([(0,r.$)("esri.widgets.TableList.TableListVisibleElements")],$);const W=$;function G(e){return e["data-item"]}const Y=l.A.ofType(K);let z=class extends c.A{constructor(e,t){super(e,t),this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterText="",this.headingLevel=2,this.icon=null,this.iconClass=f.widgetIcon,this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=u.ep,this.minFilterItems=u.dv,this.selectedItems=new Y,this.selectionMode="none",this.viewModel=new U,this.visibleElements=new W,this._canMove=(e,t)=>{let{dragEl:i,fromEl:n,toEl:l}=e;const o="pull"===t?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,s=G(i);if(null===s||void 0===s||!s.sortable)return!1;const a=G(n),r=(0,u.MN)(n),d=G(l),c=(0,u.MN)(l),p=!!r&&!!c&&r===c,h={selected:s,from:a,to:d};return n.group&&l.group&&"function"==typeof o?o.call(null,h):p},this._onCalciteListOrderChange=e=>{var t;const{_lastDragDetail:i}=this,{toEl:n,fromEl:l,dragEl:o,newIndex:s}=e;if(!l||!n||(null===i||void 0===i?void 0:i.newIndex)===s&&(null===i||void 0===i?void 0:i.dragEl)===o&&(null===i||void 0===i?void 0:i.toEl)===n&&(null===i||void 0===i?void 0:i.fromEl)===l)return;this._lastDragDetail=e;const a=Array.from(l.children).filter((e=>null===e||void 0===e?void 0:e.matches("calcite-list-item"))).map((e=>e.value));!function(e,t){null===e||void 0===e||e.sort(((e,i)=>{const n=t.indexOf(e.uid),l=t.indexOf(i.uid);return n>l?-1:n<l?1:0}))}(null===(t=this.map)||void 0===t?void 0:t.tables,a)}}loadDependencies(){return(0,p.W)({action:()=>Promise.all([i.e(39879),i.e(62785),i.e(48897),i.e(37918)]).then(i.bind(i,92111)),"action-group":()=>Promise.all([i.e(39879),i.e(62785),i.e(48347),i.e(60731),i.e(48897),i.e(53794),i.e(24706),i.e(67689)]).then(i.bind(i,67689)),"action-menu":()=>Promise.all([i.e(39879),i.e(62785),i.e(48347),i.e(60731),i.e(48897),i.e(53794),i.e(24706),i.e(6279)]).then(i.bind(i,6279)),button:()=>Promise.all([i.e(39879),i.e(62785),i.e(95203),i.e(75151),i.e(11309)]).then(i.bind(i,11309)),flow:()=>i.e(14961).then(i.bind(i,14961)),"flow-item":()=>Promise.all([i.e(39879),i.e(62785),i.e(48347),i.e(60731),i.e(48897),i.e(53794),i.e(24706),i.e(46269),i.e(40661)]).then(i.bind(i,40661)),icon:()=>Promise.all([i.e(39879),i.e(95012)]).then(i.bind(i,95012)),list:()=>Promise.all([i.e(39879),i.e(62785),i.e(95203),i.e(13859),i.e(79545),i.e(58838)]).then(i.bind(i,58838)),"list-item":()=>Promise.all([i.e(39879),i.e(62785),i.e(48897),i.e(3732)]).then(i.bind(i,84661)),notice:()=>Promise.all([i.e(39879),i.e(62785),i.e(81985)]).then(i.bind(i,81985))})}get _dragEnabled(){return this.viewModel.totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this.viewModel.totalItems>=this.minFilterItems&&this.visibleElements.filter}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(e){this.viewModel.listItemCreatedFunction=e}get map(){return this.viewModel.map}set map(e){this.viewModel.map=e}get multipleSelectionEnabled(){return(0,o.Lx)(s.A.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),"multiple"===this.selectionMode}set multipleSelectionEnabled(e){(0,o.Lx)(s.A.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode=e?"multiple":this.selectionEnabled?"single":"none"}get selectionEnabled(){return(0,o.Lx)(s.A.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),"none"!==this.selectionMode&&this.dragEnabled}set selectionEnabled(e){(0,o.Lx)(s.A.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.dragEnabled=e,this.selectionMode=e?this.multipleSelectionEnabled?"multiple":"single":"none"}get tableItems(){return this.viewModel.tableItems}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){var e,t;const i=null===(e=this.viewModel)||void 0===e?void 0:e.state,n={[h.D.hidden]:"loading"===i,[h.D.disabled]:"disabled"===i},l=null===(t=this.tableItems)||void 0===t?void 0:t.filter((e=>!e.hidden&&(this.visibleElements.errors||!e.error)));return(0,b.K)("div",{class:this.classes(f.base,h.D.widget,h.D.panel,n)},null!==l&&void 0!==l&&l.length?this._renderItems(l):this._renderNoItems())}_renderNoItemsMessage(){return(0,b.K)("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return(0,b.K)("div",{class:f.itemMessage,key:"esri-layer-list__no-items"},(0,b.K)("calcite-notice",{icon:"information",kind:"info",open:!0,scale:"m",width:"full"},this._renderNoItemsMessage()))}_renderPanelFlowItems(e){return null===e||void 0===e?void 0:e.toArray().filter((e=>{let{panel:t}=e;return(null===t||void 0===t?void 0:t.open)&&!t.disabled&&t.flowEnabled})).map((e=>{let{title:t,panel:i}=e;const n=()=>this._handlePanelFlowItemBack(i);return(0,b.K)("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:t,heading:i.title,headingLevel:this.headingLevel,key:"flow-panel-".concat(i.uid),onCalciteFlowItemBack:e=>{e.preventDefault(),n()}},i.render(),(0,b.K)("calcite-button",{appearance:"transparent",onclick:n,slot:"footer-actions",width:"full"},this.messagesCommon.back))}))}_handlePanelFlowItemBack(e){e.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame((()=>null===e||void 0===e?void 0:e.setFocus())))}_focusPanelFlowItemNode(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,requestAnimationFrame((()=>null===e||void 0===e?void 0:e.setFocus())))}_renderItems(e){const{visible:t,collapsed:i,visibleElements:{closeButton:n,collapseButton:l,heading:o,flow:s},_dragEnabled:a,_filterEnabled:r,selectionMode:d,messages:c,filterPlaceholder:p,filterText:h}=this,m=[(0,b.K)("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:n,closed:!t,collapsed:i,collapsible:l,heading:o?c.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",onCalciteFlowItemClose:()=>this.visible=!1},(0,b.K)("calcite-list",{canPull:e=>this._canMove(e,"pull"),canPut:e=>this._canMove(e,"put"),"data-layer-type":"table",dragEnabled:a,filterEnabled:r,filterPlaceholder:p,filterText:r?h:"",group:u.$H,key:"root-list",label:c.widgetLabel,selectionAppearance:"border",selectionMode:d,onCalciteListChange:e=>this._handleCalciteListChange(e),onCalciteListDragEnd:e=>this._handleCalciteListDragEnd(e.detail),onCalciteListFilter:e=>{var t,i;return this.filterText=null!==(t=null===(i=e.target)||void 0===i?void 0:i.filterText)&&void 0!==t?t:""},onCalciteListOrderChange:e=>this._onCalciteListOrderChange(e.detail)},null===e||void 0===e?void 0:e.toArray().map((e=>this._renderItem(e))),null!==e&&void 0!==e&&e.length&&r?(0,b.K)("div",{class:f.filterNoResults,slot:"filter-no-results"},(0,b.K)("calcite-notice",{kind:"info",open:!0,scale:"m",width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(e)];return t?s?(0,b.K)("calcite-flow",{key:"root-flow"},m):m:null}_handleCalciteListDragEnd(e){const{fromEl:t,dragEl:i,oldIndex:n}=e;t.insertBefore(i,t.children[n])}_renderItemMessage(e){return e.error?(0,b.K)("div",{class:f.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},(0,b.K)("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},(0,b.K)("div",{slot:"message"},this.messages.tableError))):null}_renderItem(e){var t,i;const{_selectedDragItemLayerUid:n,selectionMode:l,selectedItems:o,messages:s}=this,a=e.title||s.untitledTable,r=this._filterActions(e.actionsSections),d=this._countActions(r);return(0,b.K)("calcite-list-item",{afterCreate:t=>this._focusSelectedDragEl(t,e),afterUpdate:t=>this._focusSelectedDragEl(t,e),class:f.item,"data-item":e,dragDisabled:!e.sortable,dragSelected:e.layer.uid===n,id:null===(t=e.layer)||void 0===t?void 0:t.uid,key:"list-item-".concat(e.layer.uid),label:a,metadata:{title:a},selected:"none"!==l&&o.includes(e),title:a,value:null===(i=e.layer)||void 0===i?void 0:i.uid,onCalciteListItemDragHandleChange:t=>this._handleCalciteListItemDragHandleChange(t,e)},(0,b.K)("div",{class:f.itemContent,slot:"content"},a),this._renderItemStatus(e),this._renderItemTemporaryIcon(e),this._renderItemMessage(e),this._renderPanel(e.panel),this._renderPanelAction(e.panel),d>1?this._renderActionsSections(e,r):1===d?this._renderAction({item:e,action:this._getSingleActionButton(r),textEnabled:!1}):null)}_renderItemTemporaryIcon(e){return this.visibleElements.temporaryTableIndicators&&!e.layer.persistenceEnabled?(0,b.K)("calcite-icon",{class:f.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"actions-start",title:this.messages.temporary}):null}_renderItemStatus(e){const{visibleElements:t}=this;if(!t.statusIndicators)return null;const{publishing:i}=e;return(0,b.K)("calcite-icon",{class:this.classes({[f.statusIndicator]:!0,[f.publishing]:i}),icon:"stop-square",key:"layer-item-status",scale:"s",slot:"actions-end"})}_renderPanel(e){return null===e||void 0===e||!e.open||e.disabled||e.flowEnabled?null:(0,b.K)("div",{class:f.itemContentBottom,key:"content-panel-".concat(e.uid),slot:"content-bottom"},e.render())}_renderPanelAction(e){if(null===e||void 0===e||!e.visible)return null;const{open:t,title:i,disabled:n}=e;return(0,b.K)("calcite-action",{active:t,appearance:"transparent",disabled:n,icon:(0,d.Yb)(e),key:"action-".concat(e.uid),onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:null!==i&&void 0!==i?i:"",title:null!==i&&void 0!==i?i:void 0},this._renderFallbackIcon(e))}_renderActionsSections(e,t){return(0,b.K)("calcite-action-menu",{appearance:"transparent",key:"item-action-menu",label:this.messagesCommon.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:t=>e.actionsOpen=t.target.open},(0,b.K)("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:this.messagesCommon.options,title:this.messagesCommon.options}),t.toArray().map(((t,i)=>this._renderActionSection(e,t,i))))}_renderActionSection(e,t,i){return(0,b.K)("calcite-action-group",{key:"action-section-".concat(i)},t.toArray().map((t=>this._renderAction({item:e,action:t,textEnabled:!0}))))}_renderFallbackIcon(e){const{className:t,icon:i}=e;if(i)return null;const n="image"in e?e.image:void 0,l={[f.itemActionIcon]:!!t,[f.itemActionImage]:!!n};return t&&(l[t]=!0),n||t?(0,b.K)("span",{"aria-hidden":"true",class:this.classes(f.itemActionIcon,l),key:"icon",styles:(0,d.p5)(n)}):null}_renderAction(e){const{item:t,action:i,textEnabled:n}=e,{active:l,disabled:o,title:s,type:a,indicator:r}=i;return(0,b.K)("calcite-action",{active:"toggle"===a&&i.value,appearance:"transparent",disabled:o,icon:(0,d.Yb)(i),indicator:r,key:"action-".concat(i.uid),loading:l,onclick:()=>this._triggerAction(t,i),scale:"s",slot:n?void 0:"actions-end",text:null!==s&&void 0!==s?s:"",textEnabled:n,title:null!==s&&void 0!==s?s:void 0},this._renderFallbackIcon(i))}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).at(0)}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_focusSelectedDragEl(e,t){this._selectedDragItemLayerUid===t.layer.uid&&requestAnimationFrame((()=>null===e||void 0===e?void 0:e.setFocus()))}_handleCalciteListItemDragHandleChange(e,t){e.stopPropagation();const i=e.target.dragSelected;this._selectedDragItemLayerUid=i?t.layer.uid:null}_handleCalciteListChange(e){const{selectionMode:t,selectedItems:i}=this;if("none"===t)return;const n=e.target.selectedItems.map((e=>G(e))).filter(Boolean);i.removeAll(),i.addMany(n)}_togglePanel(e){e.open=!e.open,e.open&&(this._focusPanelFlowItem=!0)}_triggerAction(e,t){t&&e&&("toggle"===t.type&&(t.value=!t.value),this.triggerAction(t,e))}};(0,n._)([(0,a.MZ)()],z.prototype,"_focusRootFlowItem",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"_focusPanelFlowItem",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"_dragEnabled",null),(0,n._)([(0,a.MZ)()],z.prototype,"_filterEnabled",null),(0,n._)([(0,a.MZ)()],z.prototype,"collapsed",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"dragEnabled",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"filterPlaceholder",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"filterText",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"headingLevel",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"icon",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"iconClass",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"label",null),(0,n._)([(0,a.MZ)()],z.prototype,"listItemCanGiveFunction",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"listItemCanReceiveFunction",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"listItemCreatedFunction",null),(0,n._)([(0,a.MZ)()],z.prototype,"map",null),(0,n._)([(0,a.MZ)(),(0,m.G)("esri/widgets/TableList/t9n/TableList")],z.prototype,"messages",void 0),(0,n._)([(0,a.MZ)(),(0,m.G)("esri/t9n/common")],z.prototype,"messagesCommon",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"minDragEnabledItems",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"minFilterItems",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"multipleSelectionEnabled",null),(0,n._)([(0,a.MZ)()],z.prototype,"selectionEnabled",null),(0,n._)([(0,a.MZ)()],z.prototype,"selectedItems",void 0),(0,n._)([(0,a.MZ)()],z.prototype,"selectionMode",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],z.prototype,"tableItems",null),(0,n._)([(0,v.U)("trigger-action"),(0,a.MZ)({type:U})],z.prototype,"viewModel",void 0),(0,n._)([(0,a.MZ)({type:W,nonNullable:!0})],z.prototype,"visibleElements",void 0),z=(0,n._)([(0,r.$)("esri.widgets.TableList")],z);const J=z},12254:(e,t,i)=>{function n(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,n=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);i.push(...n)}}i.d(t,{U:()=>n})},95752:(e,t,i)=>{i.d(t,{p4:()=>n,xk:()=>l});i(20459),i(54761),i(76099);function n(e){return e&&"function"==typeof e.render}function l(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}}}]);
//# sourceMappingURL=54306.a3ab9683.chunk.js.map